<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DarkPlaces: cl_video.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-customisations.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="darkplaces48x48.png"/></td>
  <td id="projectalign">
   <div id="projectname">DarkPlaces
   </div>
   <div id="projectbrief">Game engine based on the Quake 1 engine by id Software, developed by LadyHavoc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('cl__video_8c_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">cl_video.c</div></div>
</div><!--header-->
<div class="contents">
<a href="cl__video_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#include &quot;<a class="code" href="quakedef_8h.html">quakedef.h</a>&quot;</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &quot;<a class="code" href="cl__video_8h.html">cl_video.h</a>&quot;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">// cvars</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno"><a class="line" href="cl__video_8c.html#abe0fc0cadba60da26b9321197f8df715">    6</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__video_8c.html#abe0fc0cadba60da26b9321197f8df715">cl_video_subtitles</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_video_subtitles&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;show subtitles for videos (if they are present)&quot;</span>};</div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno"><a class="line" href="cl__video_8c.html#aacd90c170626aa9596bc5a61a3c0d9eb">    7</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__video_8c.html#aacd90c170626aa9596bc5a61a3c0d9eb">cl_video_subtitles_lines</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_video_subtitles_lines&quot;</span>, <span class="stringliteral">&quot;4&quot;</span>, <span class="stringliteral">&quot;how many lines to occupy for subtitles&quot;</span>};</div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a33d96d794fa3cea5097d95acdbe70279">    8</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__video_8c.html#a33d96d794fa3cea5097d95acdbe70279">cl_video_subtitles_textsize</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_video_subtitles_textsize&quot;</span>, <span class="stringliteral">&quot;16&quot;</span>, <span class="stringliteral">&quot;textsize for subtitles&quot;</span>};</div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a07c23150787c124cc5a893c7690500a7">    9</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__video_8c.html#a07c23150787c124cc5a893c7690500a7">cl_video_scale</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_video_scale&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;scale of video, 1 = fullscreen, 0.75 - 3/4 of screen etc.&quot;</span>};</div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a2605f15418dbc87700a728e0bfc5ad8c">   10</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__video_8c.html#a2605f15418dbc87700a728e0bfc5ad8c">cl_video_scale_vpos</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_video_scale_vpos&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;vertical align of scaled video, -1 is top, 1 is bottom&quot;</span>};</div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno"><a class="line" href="cl__video_8c.html#af7d5d96c59a475f8aee21d2a72ce76dc">   11</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__video_8c.html#af7d5d96c59a475f8aee21d2a72ce76dc">cl_video_stipple</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_video_stipple&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;draw interlacing-like effect on videos, similar to scr_stipple but static and used only with video playing.&quot;</span>};</div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a8908ee992ce15d73a4166c7e8ead5de2">   12</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__video_8c.html#a8908ee992ce15d73a4166c7e8ead5de2">cl_video_brightness</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_video_brightness&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;brightness of video, 1 = fullbright, 0.75 - 3/4 etc.&quot;</span>};</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ad31597c5eb263377defc53cbad2396d9">   13</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__video_8c.html#ad31597c5eb263377defc53cbad2396d9">cl_video_keepaspectratio</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_video_keepaspectratio&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;keeps aspect ratio of fullscreen videos, leaving black color on unfilled areas, a value of 2 let video to be stretched horizontally with top &amp; bottom being sliced out&quot;</span>};</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ad5d2ab73aacd6204ba13cc728b7dbb43">   14</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__video_8c.html#ad5d2ab73aacd6204ba13cc728b7dbb43">cl_video_fadein</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_video_fadein&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;fading-from-black effect once video is started, in seconds&quot;</span>};</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno"><a class="line" href="cl__video_8c.html#adebaa0267dfa90ba342632f3536ce277">   15</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__video_8c.html#adebaa0267dfa90ba342632f3536ce277">cl_video_fadeout</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;cl_video_fadeout&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;fading-to-black effect once video is ended, in seconds&quot;</span>};</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a151be1f7472767170a285b3059a648d0">   17</a></span><a class="code hl_struct" href="structcvar__t.html">cvar_t</a> <a class="code hl_variable" href="cl__video_8c.html#a151be1f7472767170a285b3059a648d0">v_glslgamma_video</a> = {<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a>, <span class="stringliteral">&quot;v_glslgamma_video&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;applies GLSL gamma to played video, could be a fraction, requires r_glslgamma_2d 1.&quot;</span>};</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">// DPV stream decoder</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="dpvsimpledecode_8h.html">dpvsimpledecode.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment">// VorteX: libavcodec implementation</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="cl__video__libavw_8h.html">cl_video_libavw.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment">// JAM video decoder used by Blood Omnicide</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#ifdef JAMVIDEO</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="cl__video__jamdecode_8c.html">cl_video_jamdecode.c</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="comment">// constants (and semi-constants)</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a6b11b62a316db86c1e0c721d52aa771a">   31</a></span><span class="keyword">static</span> <span class="keywordtype">int</span>  <a class="code hl_variable" href="cl__video_8c.html#a6b11b62a316db86c1e0c721d52aa771a">cl_videormask</a>;</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno"><a class="line" href="cl__video_8c.html#aa7259c023119fb0118f7a60e8b229154">   32</a></span><span class="keyword">static</span> <span class="keywordtype">int</span>  <a class="code hl_variable" href="cl__video_8c.html#aa7259c023119fb0118f7a60e8b229154">cl_videobmask</a>;</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ae87eed557bdefb211b4292035cc9fe4f">   33</a></span><span class="keyword">static</span> <span class="keywordtype">int</span>  <a class="code hl_variable" href="cl__video_8c.html#ae87eed557bdefb211b4292035cc9fe4f">cl_videogmask</a>;</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="cl__video_8c.html#aa384d6823df6dcf755ee17fb6a2f22bc">   34</a></span><span class="keyword">static</span> <span class="keywordtype">int</span>  <a class="code hl_variable" href="cl__video_8c.html#aa384d6823df6dcf755ee17fb6a2f22bc">cl_videobytesperpixel</a>;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">   36</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a>;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">   37</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>[ <a class="code hl_define" href="qdefs_8h.html#a6c1fc540567bf862322e6d1a1d191a21">MAXCLVIDEOS</a> ];</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a87e3e0f3a484d7db1bd17ea21258322b">   38</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structrtexturepool__t.html">rtexturepool_t</a> *<a class="code hl_variable" href="cl__video_8c.html#a87e3e0f3a484d7db1bd17ea21258322b">cl_videotexturepool</a>;</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="foldopen" id="foldopen00040" data-start="{" data-end="}">
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a6263d131ca719e88f6b3ec346ea9c2bf">   40</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_function" href="cl__video_8c.html#a6263d131ca719e88f6b3ec346ea9c2bf">FindUnusedVid</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>{</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <span class="keywordflow">for</span>( <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_define" href="qdefs_8h.html#a6c1fc540567bf862322e6d1a1d191a21">MAXCLVIDEOS</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++ )</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>[ <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ].state == <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f">CLVIDEO_UNUSED</a> )</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>            <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>[ <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ];</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>}</div>
</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="foldopen" id="foldopen00049" data-start="{" data-end="}">
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ae440dec3ac633042b17b3c43c3c8fdbc">   49</a></span><span class="keyword">static</span> <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_function" href="cl__video_8c.html#ae440dec3ac633042b17b3c43c3c8fdbc">OpenStream</a>( <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> )</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>{</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">errorstring</a>;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;<a class="code hl_variable" href="structclvideo__t.html#a04b09966884250b8bf12ddb0edb48fad">stream</a> = <a class="code hl_function" href="dpvsimpledecode_8c.html#a26a803425654fbd785a83a21a073786c">dpvsimpledecode_open</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;filename, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">errorstring</a>);</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream)</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="preprocessor">#ifdef JAMVIDEO</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream = <a class="code hl_function" href="cl__video__jamdecode_8c.html#a53944af9517af32b3003bf011f0fca79">jam_open</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;filename, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">errorstring</a>);</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream)</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> </div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream = <a class="code hl_function" href="cl__video__libavw_8c.html#ab2d36a04d87de751221f350e6df632ef">LibAvW_OpenVideo</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;filename, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">errorstring</a>);</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream)</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;unable to open \&quot;%s\&quot;, error: %s\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;filename, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">errorstring</a>);</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>}</div>
</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> </div>
<div class="foldopen" id="foldopen00071" data-start="{" data-end="}">
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a2f27905ad2d14e6922ab4443ea5cfb90">   71</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a2f27905ad2d14e6922ab4443ea5cfb90">VideoUpdateCallback</a>(<a class="code hl_struct" href="structrtexture__t.html">rtexture_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rt</a>, <span class="keywordtype">void</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>)</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>{</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> = (<a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *) <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <a class="code hl_function" href="draw_8h.html#a5679fa1b6fdedb7b95b2bab96540b402">Draw_NewPic</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;name, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;width, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;height, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;imagedata, <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>, <a class="code hl_define" href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a>);</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>}</div>
</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="foldopen" id="foldopen00077" data-start="{" data-end="}">
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a75dd623a78492ba13ebfab9edf658113">   77</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a75dd623a78492ba13ebfab9edf658113">LinkVideoTexture</a>( <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> )</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>{</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;cachepic = <a class="code hl_function" href="draw_8h.html#a5679fa1b6fdedb7b95b2bab96540b402">Draw_NewPic</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;name, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;width, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;height, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_enumvalue" href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a>, <a class="code hl_define" href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a>);</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="comment">// make R_GetTexture() call our VideoUpdateCallback</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <a class="code hl_function" href="gl__textures_8c.html#a25f71b614773cdfbc85c0f70615298f2">R_MakeTextureDynamic</a>(<a class="code hl_function" href="draw_8h.html#abd0658fb0a72d565561f196b380026cb">Draw_GetPicTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;cachepic), <a class="code hl_function" href="cl__video_8c.html#a2f27905ad2d14e6922ab4443ea5cfb90">VideoUpdateCallback</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>);</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>}</div>
</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="foldopen" id="foldopen00084" data-start="{" data-end="}">
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a400ae4fbecac76d14c89ab6d645988f6">   84</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a400ae4fbecac76d14c89ab6d645988f6">UnlinkVideoTexture</a>( <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> )</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>{</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="comment">// free the texture (this does not destroy the cachepic_t, which is eternal)</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <a class="code hl_function" href="draw_8h.html#a26b285648113a722e4bffe3eca1f8aca">Draw_FreePic</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;name);</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="comment">// free the image data</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <a class="code hl_define" href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;imagedata );</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>}</div>
</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="foldopen" id="foldopen00092" data-start="{" data-end="}">
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ae5226bf05137d5e1bc7c0e2dc9bc7f7e">   92</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#ae5226bf05137d5e1bc7c0e2dc9bc7f7e">SuspendVideo</a>( <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> )</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>{</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;suspended)</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;suspended = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <a class="code hl_function" href="cl__video_8c.html#a400ae4fbecac76d14c89ab6d645988f6">UnlinkVideoTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>);</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="comment">// if we are in firstframe mode, also close the stream</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state == <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110ac8e469888cee38d17ddcc1658debf7d9">CLVIDEO_FIRSTFRAME</a>)</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    {</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream)</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;close(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream);</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    }</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>}</div>
</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="foldopen" id="foldopen00107" data-start="{" data-end="}">
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a8bcd6806ee6d871167dcff1dbd1bae6f">  107</a></span><span class="keyword">static</span> <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_function" href="cl__video_8c.html#a8bcd6806ee6d871167dcff1dbd1bae6f">WakeVideo</a>( <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> )</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>{</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;suspended )</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;suspended = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state == <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110ac8e469888cee38d17ddcc1658debf7d9">CLVIDEO_FIRSTFRAME</a> )</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="cl__video_8c.html#ae440dec3ac633042b17b3c43c3c8fdbc">OpenStream</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> ) ) {</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state = <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f">CLVIDEO_UNUSED</a>;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        }</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> </div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;imagedata = <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>( <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a1cb0574c7da3dbf46f502d181813cc9c">permanentmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;width * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;height * <a class="code hl_variable" href="cl__video_8c.html#aa384d6823df6dcf755ee17fb6a2f22bc">cl_videobytesperpixel</a> );</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <a class="code hl_function" href="cl__video_8c.html#a75dd623a78492ba13ebfab9edf658113">LinkVideoTexture</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> );</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span> </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <span class="comment">// update starttime</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;starttime += <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;lasttime;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>}</div>
</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="foldopen" id="foldopen00128" data-start="{" data-end="}">
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a00570bf148af560a7bf5d3e331e104fb">  128</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a00570bf148af560a7bf5d3e331e104fb">LoadSubtitles</a>( <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a> )</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>{</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="keywordtype">char</span> *subtitle_text;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtime</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sublen</a>;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a> = 0;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea151347ea62f923295056422bb6973fc8">GAME_BLOODOMNICIDE</a>)</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    {</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">overridename</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>        <a class="code hl_struct" href="structcvar__t.html">cvar_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">langcvar</a>;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">langcvar</a> = <a class="code hl_function" href="cvar_8c.html#abb4c73909d750b61a354db139a9f6e40">Cvar_FindVar</a>(&amp;<a class="code hl_variable" href="cvar_8c.html#a71b1f2a204cebd68e6bc4790b9ac4258">cvars_all</a>, <span class="stringliteral">&quot;language&quot;</span>, <a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a> | <a class="code hl_define" href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a>);</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        subtitle_text = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">langcvar</a>)</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        {</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>            <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">overridename</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">overridename</a>), <span class="stringliteral">&quot;locale/%s/%s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">langcvar</a>-&gt;string, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a>);</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>            subtitle_text = (<span class="keywordtype">char</span> *)<a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">overridename</a>, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a1cb0574c7da3dbf46f502d181813cc9c">permanentmempool</a>, <span class="keyword">false</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        }</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>        <span class="keywordflow">if</span> (!subtitle_text)</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>            subtitle_text = (<span class="keywordtype">char</span> *)<a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a>, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a1cb0574c7da3dbf46f502d181813cc9c">permanentmempool</a>, <span class="keyword">false</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    }</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    {</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        subtitle_text = (<span class="keywordtype">char</span> *)<a class="code hl_function" href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a>, <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a1cb0574c7da3dbf46f502d181813cc9c">permanentmempool</a>, <span class="keyword">false</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    }</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="keywordflow">if</span> (!subtitle_text)</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    {</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>( <span class="stringliteral">&quot;LoadSubtitles: can&#39;t open subtitle file &#39;%s&#39;!\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a> );</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    }</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="comment">// parse subtitle_text</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="comment">// line is: x y &quot;text&quot; where</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="comment">//    x - start time</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">//    y - seconds last (if 0 - last thru next sub, if negative - last to next sub - this amount of seconds)</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span> </div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a> = subtitle_text;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    {</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#a502d1e3c150757afa23f2ad484bc8d79">COM_ParseToken_QuakeC</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>))</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtime</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>( <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a> );</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#a502d1e3c150757afa23f2ad484bc8d79">COM_ParseToken_QuakeC</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>))</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sublen</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">atof</a>( <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a> );</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="common_8c.html#a502d1e3c150757afa23f2ad484bc8d79">COM_ParseToken_QuakeC</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a>, <span class="keyword">false</span>))</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>[0])</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        <span class="comment">// check limits</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitles == <a class="code hl_define" href="cl__video_8h.html#a4fe09854a5f3fb50e0218242a4f2f6ad">CLVIDEO_MAX_SUBTITLES</a>)</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        {</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;WARNING: CLVIDEO_MAX_SUBTITLES = %i reached when reading subtitles from &#39;%s&#39;\n&quot;</span>, <a class="code hl_define" href="cl__video_8h.html#a4fe09854a5f3fb50e0218242a4f2f6ad">CLVIDEO_MAX_SUBTITLES</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a>);</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>            <span class="keywordflow">break</span>;  </div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        }</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        <span class="comment">// add a sub</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>] = (<span class="keywordtype">char</span> *) <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>(<a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a1cb0574c7da3dbf46f502d181813cc9c">permanentmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>) + 1);</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_text[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>], <a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a>) + 1);</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_start[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtime</a>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_end[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sublen</a>;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a> &gt; 0) <span class="comment">// make true len for prev sub, autofix overlapping subtitles</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        {</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_end[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>-1] &lt;= 0)</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_end[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>-1] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_start[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>-1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_start[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_end[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>-1]);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_end[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>-1] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_start[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>-1] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_end[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>-1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_start[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>]);</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        }</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>++;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>        <span class="comment">// todo: check timing for consistency?</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    }</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a> &gt; 0) <span class="comment">// make true len for prev sub, autofix overlapping subtitles</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    {</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_end[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>-1] &lt;= 0)</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_end[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>-1] = (<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>)99999999; <span class="comment">// fixme: make it end when video ends?</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_end[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>-1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_start[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>-1] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_end[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>-1];</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    }</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <a class="code hl_define" href="zone_8h.html#abbce8ea44a12486a6b59f31f02bab5ee">Z_Free</a>( subtitle_text );</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitles = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numsubs</a>;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="comment">/*</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="comment">    Con_Printf( &quot;video-&gt;subtitles: %i\n&quot;, video-&gt;subtitles );</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span><span class="comment">    for (numsubs = 0; numsubs &lt; video-&gt;subtitles; numsubs++)</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="comment">        Con_Printf( &quot;  %03.2f %03.2f : %s\n&quot;, video-&gt;subtitle_start[numsubs], video-&gt;subtitle_end[numsubs], video-&gt;subtitle_text[numsubs] );</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="comment">*/</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>}</div>
</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="foldopen" id="foldopen00215" data-start="{" data-end="}">
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ad915bafcfeade54fb255cb860da16d54">  215</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a>* <a class="code hl_function" href="cl__video_8c.html#ad915bafcfeade54fb255cb860da16d54">OpenVideo</a>( <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keywordtype">int</span> owner, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a> )</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>{</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <a class="code hl_define" href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;filename, filename, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;filename));</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;name, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;name), <a class="code hl_define" href="cl__video_8h.html#af969da5c3ad57cc33cf296104428c48b">CLVIDEOPREFIX</a> <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>);</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;ownertag = owner;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>( <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_define" href="cl__video_8h.html#af969da5c3ad57cc33cf296104428c48b">CLVIDEOPREFIX</a>, <span class="keyword">sizeof</span>( <a class="code hl_define" href="cl__video_8h.html#af969da5c3ad57cc33cf296104428c48b">CLVIDEOPREFIX</a> ) - 1 ) )</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;cachepic = <a class="code hl_function" href="draw_8h.html#a924bb151d47e7e82d9690f2b6537247d">Draw_CachePic_Flags</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca9c37d55f3f6c032703ab8523a2865ae3">CACHEPICFLAG_NOTPERSISTENT</a> | <a class="code hl_enumvalue" href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca6beb91639137ae1b1b40c2029f951f6a">CACHEPICFLAG_QUIET</a>);</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="cl__video_8c.html#ae440dec3ac633042b17b3c43c3c8fdbc">OpenStream</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> ) )</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state = <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110ac8e469888cee38d17ddcc1658debf7d9">CLVIDEO_FIRSTFRAME</a>;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framenum = -1;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framerate = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;getframerate( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream );</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;lasttime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitles = 0;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;width = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;getwidth( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream );</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;height = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;getheight( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream );</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;imagedata = <a class="code hl_define" href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a>( <a class="code hl_variable" href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a>.<a class="code hl_variable" href="structclient__static__t.html#a1cb0574c7da3dbf46f502d181813cc9c">permanentmempool</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;width * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;height * <a class="code hl_variable" href="cl__video_8c.html#aa384d6823df6dcf755ee17fb6a2f22bc">cl_videobytesperpixel</a> );</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    <a class="code hl_function" href="cl__video_8c.html#a75dd623a78492ba13ebfab9edf658113">LinkVideoTexture</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> );</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="comment">// VorteX: load simple subtitle_text file</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a>[0])</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        <a class="code hl_function" href="cl__video_8c.html#a00570bf148af560a7bf5d3e331e104fb">LoadSubtitles</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a> );</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span> </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>;</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>}</div>
</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span> </div>
<div class="foldopen" id="foldopen00245" data-start="{" data-end="}">
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno"><a class="line" href="cl__video_8c.html#af6d62c4c3a4914c5cdc35452fe581a94">  245</a></span><a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a>* <a class="code hl_function" href="cl__video_8c.html#af6d62c4c3a4914c5cdc35452fe581a94">CL_OpenVideo</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keywordtype">int</span> owner, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a> )</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>{</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    <span class="comment">// sanity check</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a> || !*<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strncmp</a>( <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_define" href="cl__video_8h.html#af969da5c3ad57cc33cf296104428c48b">CLVIDEOPREFIX</a>, <span class="keyword">sizeof</span>( <a class="code hl_define" href="cl__video_8h.html#af969da5c3ad57cc33cf296104428c48b">CLVIDEOPREFIX</a> ) - 1 ) != 0 ) {</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>( <span class="stringliteral">&quot;CL_OpenVideo: Bad video texture name &#39;%s&#39;!\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a> );</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    }</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> = <a class="code hl_function" href="cl__video_8c.html#a6263d131ca719e88f6b3ec346ea9c2bf">FindUnusedVid</a>();</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> ) {</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a> <span class="stringliteral">&quot;CL_OpenVideo: unable to open video \&quot;%s\&quot; - video limit reached\n&quot;</span>, filename );</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    }</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> = <a class="code hl_function" href="cl__video_8c.html#ad915bafcfeade54fb255cb860da16d54">OpenVideo</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>, filename, <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, owner, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a> );</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    <span class="comment">// expand the active range to include the new entry</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>) {</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        <a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a>, (<span class="keywordtype">int</span>)(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> - <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>) + 1);</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    }</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>}</div>
</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="foldopen" id="foldopen00267" data-start="{" data-end="}">
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno"><a class="line" href="cl__video_8c.html#aa2f125888da26c931cdb48093f78519f">  267</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a>* <a class="code hl_function" href="cl__video_8c.html#aa2f125888da26c931cdb48093f78519f">CL_GetVideoBySlot</a>( <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slot</a> )</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>{</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> = &amp;<a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>[ <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">slot</a> ];</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;suspended )</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="cl__video_8c.html#a8bcd6806ee6d871167dcff1dbd1bae6f">WakeVideo</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> ) )</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state == <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a65c1320fb3e110dcee6576ccdc22caf4">CLVIDEO_RESETONWAKEUP</a> )</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;<a class="code hl_variable" href="structclvideo__t.html#ac7d1b050491e5e68ff3f151fcbef440b">framenum</a> = -1;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    }</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span> </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;lasttime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span> </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>}</div>
</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="foldopen" id="foldopen00284" data-start="{" data-end="}">
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a0ad2b20f8ced769072f40843c75abad2">  284</a></span><a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_function" href="cl__video_8c.html#a0ad2b20f8ced769072f40843c75abad2">CL_GetVideoByName</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a> )</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>{</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <span class="keywordflow">for</span>( <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++ )</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>[ <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ].state != <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f">CLVIDEO_UNUSED</a></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>            &amp;&amp;  !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strcmp</a>( <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>[ <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ].<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a> , <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a> ) )</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a> )</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="cl__video_8c.html#aa2f125888da26c931cdb48093f78519f">CL_GetVideoBySlot</a>( <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> );</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>}</div>
</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="foldopen" id="foldopen00298" data-start="{" data-end="}">
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a092c47c1c4a8c3184ecc0b28959f322e">  298</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a092c47c1c4a8c3184ecc0b28959f322e">CL_SetVideoState</a>(<a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>, <a class="code hl_enumeration" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110">clvideostate_t</a> state)</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>{</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>)</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;lasttime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state = state;</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="keywordflow">if</span> (state == <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110ac8e469888cee38d17ddcc1658debf7d9">CLVIDEO_FIRSTFRAME</a>)</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <a class="code hl_function" href="cl__video_8c.html#a500ae761acd003f2603040fbbebbd1ea">CL_RestartVideo</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>);</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>}</div>
</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span> </div>
<div class="foldopen" id="foldopen00309" data-start="{" data-end="}">
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a500ae761acd003f2603040fbbebbd1ea">  309</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a500ae761acd003f2603040fbbebbd1ea">CL_RestartVideo</a>(<a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>)</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>{</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>)</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="comment">// reset time</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;starttime = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;lasttime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>;</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framenum = -1;</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    <span class="comment">// reopen stream</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream)</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;close(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream);</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="cl__video_8c.html#ae440dec3ac633042b17b3c43c3c8fdbc">OpenStream</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>))</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state = <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f">CLVIDEO_UNUSED</a>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>}</div>
</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span><span class="comment">// close video</span></div>
<div class="foldopen" id="foldopen00327" data-start="{" data-end="}">
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a992c209c7eff1f0a67dd386d81a88fbe">  327</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a992c209c7eff1f0a67dd386d81a88fbe">CL_CloseVideo</a>(<a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>)</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>{</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state == <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f">CLVIDEO_UNUSED</a>)</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span> </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="comment">// close stream</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;suspended || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state != <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110ac8e469888cee38d17ddcc1658debf7d9">CLVIDEO_FIRSTFRAME</a>)</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream)</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;close(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream);</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <span class="comment">// unlink texture</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;suspended)</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <a class="code hl_function" href="cl__video_8c.html#a400ae4fbecac76d14c89ab6d645988f6">UnlinkVideoTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>);</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <span class="comment">// purge subtitles</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitles)</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitles; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>            <a class="code hl_define" href="zone_8h.html#abbce8ea44a12486a6b59f31f02bab5ee">Z_Free</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_text[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] );</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitles = 0;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    }</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state = <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f">CLVIDEO_UNUSED</a>;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>}</div>
</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span><span class="comment">// update all videos</span></div>
<div class="foldopen" id="foldopen00355" data-start="{" data-end="}">
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ac04f89e937b57607f795768b65a50910">  355</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#ac04f89e937b57607f795768b65a50910">CL_Video_Frame</a>(<span class="keywordtype">void</span>) </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>{</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>;</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">destframe</a>;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span> </div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a>)</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> = <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a> ; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>++, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    {</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state != <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f">CLVIDEO_UNUSED</a> &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;suspended)</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        {</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;lasttime &gt; <a class="code hl_define" href="cl__video_8h.html#a7cefe779a398da88a107c4c8e90e7731">CLTHRESHOLD</a>)</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>            {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                <a class="code hl_function" href="cl__video_8c.html#ae5226bf05137d5e1bc7c0e2dc9bc7f7e">SuspendVideo</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>);</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>            }</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state == <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a612f31b6e4062c4851609f5b62718da1">CLVIDEO_PAUSE</a>)</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>            {</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;starttime = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framenum * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framerate;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>            }</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>            <span class="comment">// read video frame from stream if time has come</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state == <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110ac8e469888cee38d17ddcc1658debf7d9">CLVIDEO_FIRSTFRAME</a> )</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">destframe</a> = 0;</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">destframe</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)((<a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;starttime) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framerate);</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">destframe</a> &lt; 0)</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">destframe</a> = 0;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framenum &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">destframe</a>)</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>            {</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>                <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framenum++;</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;decodeframe(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;imagedata, <a class="code hl_variable" href="cl__video_8c.html#a6b11b62a316db86c1e0c721d52aa771a">cl_videormask</a>, <a class="code hl_variable" href="cl__video_8c.html#ae87eed557bdefb211b4292035cc9fe4f">cl_videogmask</a>, <a class="code hl_variable" href="cl__video_8c.html#aa7259c023119fb0118f7a60e8b229154">cl_videobmask</a>, <a class="code hl_variable" href="cl__video_8c.html#aa384d6823df6dcf755ee17fb6a2f22bc">cl_videobytesperpixel</a>, <a class="code hl_variable" href="cl__video_8c.html#aa384d6823df6dcf755ee17fb6a2f22bc">cl_videobytesperpixel</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;width))</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>                    { </div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>                        <span class="comment">// finished?</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>                        <a class="code hl_function" href="cl__video_8c.html#a500ae761acd003f2603040fbbebbd1ea">CL_RestartVideo</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state == <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110af4e01160fcb54502ccbecc8912c8d106">CLVIDEO_PLAY</a>)</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>                            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state = <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110ac8e469888cee38d17ddcc1658debf7d9">CLVIDEO_FIRSTFRAME</a>;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                    }</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                } <span class="keywordflow">while</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framenum &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">destframe</a>);</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                <a class="code hl_function" href="gl__textures_8c.html#ad1af1abc226ad21cf0f43b00f90afd70">R_MarkDirtyTexture</a>(<a class="code hl_function" href="draw_8h.html#abd0658fb0a72d565561f196b380026cb">Draw_GetPicTexture</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;cachepic));</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>            }</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>        }</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    }</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span> </div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <span class="comment">// stop main video</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>-&gt;<a class="code hl_variable" href="structclvideo__t.html#a46a0b30e8e959ef60771f406fee30f38">state</a> == <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110ac8e469888cee38d17ddcc1658debf7d9">CLVIDEO_FIRSTFRAME</a>)</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>        <a class="code hl_function" href="cl__video_8c.html#acd3f1cbfb121137c8529f6d154a2971d">CL_VideoStop</a>();</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span> </div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <span class="comment">// reduce range to exclude unnecessary entries</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    <span class="keywordflow">while</span>(<a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a> &gt; 0 &amp;&amp; <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>[<a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a>-1].state == <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f">CLVIDEO_UNUSED</a>)</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>        <a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a>--;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>}</div>
</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span> </div>
<div class="foldopen" id="foldopen00411" data-start="{" data-end="}">
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ae191390c5b70bc111d148cd626881645">  411</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#ae191390c5b70bc111d148cd626881645">CL_PurgeOwner</a>( <span class="keywordtype">int</span> owner )</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>{</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span> </div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>].ownertag == owner)</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>            <a class="code hl_function" href="cl__video_8c.html#a992c209c7eff1f0a67dd386d81a88fbe">CL_CloseVideo</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>}</div>
</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span> </div>
<div class="foldopen" id="foldopen00420" data-start="{" data-end="};">
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno"><a class="line" href="structcl__video__subtitle__info__t.html">  420</a></span><span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>{</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno"><a class="line" href="structcl__video__subtitle__info__t.html#a971c2c83d4cc57fd7989585cc327f3e1">  422</a></span>    <a class="code hl_struct" href="structdp__font__t.html">dp_font_t</a> *<a class="code hl_variable" href="structcl__video__subtitle__info__t.html#a971c2c83d4cc57fd7989585cc327f3e1">font</a>;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno"><a class="line" href="structcl__video__subtitle__info__t.html#a004c59b6eb9e9e502f7efa6bcda49983">  423</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structcl__video__subtitle__info__t.html#a004c59b6eb9e9e502f7efa6bcda49983">x</a>;</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno"><a class="line" href="structcl__video__subtitle__info__t.html#a518b8a151eccb9e2613f4a79dbdc5081">  424</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structcl__video__subtitle__info__t.html#a518b8a151eccb9e2613f4a79dbdc5081">y</a>;</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno"><a class="line" href="structcl__video__subtitle__info__t.html#ad07a98ea0bd6a7a632d39580e93de6b1">  425</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structcl__video__subtitle__info__t.html#ad07a98ea0bd6a7a632d39580e93de6b1">width</a>;</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno"><a class="line" href="structcl__video__subtitle__info__t.html#a010f4e515621a96411bd2346ef7f1996">  426</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structcl__video__subtitle__info__t.html#a010f4e515621a96411bd2346ef7f1996">height</a>;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno"><a class="line" href="structcl__video__subtitle__info__t.html#a7f6b492c43c49704a5d0526697ea55c6">  427</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structcl__video__subtitle__info__t.html#a7f6b492c43c49704a5d0526697ea55c6">alignment</a>; <span class="comment">// 0 = left, 0.5 = center, 1 = right</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno"><a class="line" href="structcl__video__subtitle__info__t.html#ab5f78183f91acae3075dc45cb615cafc">  428</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structcl__video__subtitle__info__t.html#ab5f78183f91acae3075dc45cb615cafc">fontsize</a>;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno"><a class="line" href="structcl__video__subtitle__info__t.html#aac63d736960a7b56b4d1ffbc0f3103bc">  429</a></span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="structcl__video__subtitle__info__t.html#aac63d736960a7b56b4d1ffbc0f3103bc">textalpha</a>;</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>}</div>
</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span><a class="code hl_struct" href="structcl__video__subtitle__info__t.html">cl_video_subtitle_info_t</a>;</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span> </div>
<div class="foldopen" id="foldopen00433" data-start="{" data-end="}">
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a68de40c93fc35fc345c0eaf7f5f1d2c8">  433</a></span><span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code hl_function" href="cl__video_8c.html#a68de40c93fc35fc345c0eaf7f5f1d2c8">CL_DrawVideo_WordWidthFunc</a>(<span class="keywordtype">void</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passthrough</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <span class="keywordtype">size_t</span> *<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxWidth</a>)</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>{</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <a class="code hl_struct" href="structcl__video__subtitle__info__t.html">cl_video_subtitle_info_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a> = (<a class="code hl_struct" href="structcl__video__subtitle__info__t.html">cl_video_subtitle_info_t</a> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passthrough</a>;</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span> </div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;<a class="code hl_variable" href="structcl__video__subtitle__info__t.html#ab5f78183f91acae3075dc45cb615cafc">fontsize</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;font-&gt;maxwidth;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxWidth</a> &gt;= 0)</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="draw_8h.html#acb02c3ade677ca95cc43f3febab11208">DrawQ_TextWidth_UntilWidth</a>(<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;fontsize, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;fontsize, <span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;font, -<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxWidth</a>); <span class="comment">// -maxWidth: we want at least one char</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxWidth</a> == -1)</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="draw_8h.html#aa4629677424af2c7a2d8b6771723cfeb">DrawQ_TextWidth</a>(<a class="code hl_variable" href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a>, *<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;fontsize, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;fontsize, <span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;font);</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>}</div>
</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span> </div>
<div class="foldopen" id="foldopen00447" data-start="{" data-end="}">
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ace350f013f5b079f4e41e936c4a3f9f9">  447</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="cl__video_8c.html#ace350f013f5b079f4e41e936c4a3f9f9">CL_DrawVideo_DisplaySubtitleLine</a>(<span class="keywordtype">void</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passthrough</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <span class="keywordtype">size_t</span> <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isContinuation</a>)</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>{</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <a class="code hl_struct" href="structcl__video__subtitle__info__t.html">cl_video_subtitle_info_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a> = (<a class="code hl_struct" href="structcl__video__subtitle__info__t.html">cl_video_subtitle_info_t</a> *) <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passthrough</a>;</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span> </div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;x + (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;width - <a class="code hl_variable" href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;alignment);</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a> &gt; 0)</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        <a class="code hl_function" href="draw_8h.html#a76f1009f2386b42dfad25268af32b1d3">DrawQ_String</a>(<a class="code hl_variable" href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;y, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">line</a>, <a class="code hl_variable" href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;fontsize, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;fontsize, 1.0, 1.0, 1.0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;textalpha, 0, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;font);</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;y += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>-&gt;fontsize;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>}</div>
</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span> </div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno"><a class="line" href="cl__video_8c.html#abed83dd50848589f3519354a10d9164d">  458</a></span><span class="keywordtype">int</span> <a class="code hl_variable" href="cl__video_8c.html#abed83dd50848589f3519354a10d9164d">cl_videoplaying</a> = <span class="keyword">false</span>; <span class="comment">// old, but still supported</span></div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span> </div>
<div class="foldopen" id="foldopen00460" data-start="{" data-end="}">
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ac2b58d38da2ed086ceff1c56c10a4913">  460</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#ac2b58d38da2ed086ceff1c56c10a4913">CL_DrawVideo</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>{</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>;</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">videotime</a>, <a class="code hl_variable" href="shader__glsl_8h.html#adfa1e01d266867c3c98e1651a56241af">px</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">py</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[8], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>;</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <a class="code hl_struct" href="structcl__video__subtitle__info__t.html">cl_video_subtitle_info_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>;</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span> </div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__video_8c.html#abed83dd50848589f3519354a10d9164d">cl_videoplaying</a>)</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span> </div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> = <a class="code hl_function" href="cl__video_8c.html#aa2f125888da26c931cdb48093f78519f">CL_GetVideoBySlot</a>( 0 );</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span> </div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <span class="comment">// fix cvars</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__video_8c.html#a07c23150787c124cc5a893c7690500a7">cl_video_scale</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> &lt;= 0 || <a class="code hl_variable" href="cl__video_8c.html#a07c23150787c124cc5a893c7690500a7">cl_video_scale</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> &gt; 1)</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>( &amp;<a class="code hl_variable" href="cl__video_8c.html#a07c23150787c124cc5a893c7690500a7">cl_video_scale</a>, 1);</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__video_8c.html#a8908ee992ce15d73a4166c7e8ead5de2">cl_video_brightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> &lt;= 0 || <a class="code hl_variable" href="cl__video_8c.html#a8908ee992ce15d73a4166c7e8ead5de2">cl_video_brightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> &gt; 10)</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>( &amp;<a class="code hl_variable" href="cl__video_8c.html#a8908ee992ce15d73a4166c7e8ead5de2">cl_video_brightness</a>, 1);</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span> </div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    <span class="comment">// calc video proportions</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    <a class="code hl_variable" href="shader__glsl_8h.html#adfa1e01d266867c3c98e1651a56241af">px</a> = 0;</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">py</a> = 0;</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> = <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> = <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>;</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[0] = 0.0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[1] = 0.0; </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[2] = 1.0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[3] = 0.0; </div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[4] = 0.0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[5] = 1.0; </div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[6] = 1.0; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[7] = 1.0; </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__video_8c.html#ad31597c5eb263377defc53cbad2396d9">cl_video_keepaspectratio</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>    {</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;getaspectratio(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;stream) / ((<a class="code hl_variable" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>)<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#aa54d3f3674dac40e0f7776a471d2400d">mode</a>.<a class="code hl_variable" href="structviddef__mode__t.html#ab7668ca210f41ea77dd577c0281a0829">width</a> / (<span class="keywordtype">float</span>)<a class="code hl_variable" href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a>.<a class="code hl_variable" href="structviddef__t.html#aa54d3f3674dac40e0f7776a471d2400d">mode</a>.<a class="code hl_variable" href="structviddef__mode__t.html#ade45897f34f14732feed7d1c1716c508">height</a>);</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__video_8c.html#ad31597c5eb263377defc53cbad2396d9">cl_video_keepaspectratio</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt;= 2)</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>        {</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>            <span class="comment">// clip instead of scale</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &lt; 1.0) <span class="comment">// clip horizontally</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>            {</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[3] = (1 - <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)*0.5;</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[5] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[7] = 1 - (1 - <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)*0.5;</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>            }</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &gt; 1.0) <span class="comment">// clip vertically</span></div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>            {</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[4] = (1 - 1/<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)*0.5;</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[6] = (1/<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>)*0.5;</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>            }</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        }</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &lt; 1.0) <span class="comment">// scale horizontally</span></div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>        {</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>            <a class="code hl_variable" href="shader__glsl_8h.html#adfa1e01d266867c3c98e1651a56241af">px</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> * (1 - <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>) * 0.5;</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> *= <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>;</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>        }</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> &gt; 1.0) <span class="comment">// scale vertically</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        {</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>            <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a> = 1 / <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">py</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> * (1 - <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>);</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> *= <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>;</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>        }</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    }</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span> </div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__video_8c.html#a07c23150787c124cc5a893c7690500a7">cl_video_scale</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> != 1)</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    {</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        <a class="code hl_variable" href="shader__glsl_8h.html#adfa1e01d266867c3c98e1651a56241af">px</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> * (1 - <a class="code hl_variable" href="cl__video_8c.html#a07c23150787c124cc5a893c7690500a7">cl_video_scale</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>) * 0.5;</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">py</a> += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> * (1 - <a class="code hl_variable" href="cl__video_8c.html#a07c23150787c124cc5a893c7690500a7">cl_video_scale</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>) * ((<a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(-1, <a class="code hl_variable" href="cl__video_8c.html#a2605f15418dbc87700a728e0bfc5ad8c">cl_video_scale_vpos</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, 1) + 1) / 2);</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> *= <a class="code hl_variable" href="cl__video_8c.html#a07c23150787c124cc5a893c7690500a7">cl_video_scale</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> *= <a class="code hl_variable" href="cl__video_8c.html#a07c23150787c124cc5a893c7690500a7">cl_video_scale</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    }</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span> </div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    <span class="comment">// calc brightness for fadein and fadeout effects</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = <a class="code hl_variable" href="cl__video_8c.html#a8908ee992ce15d73a4166c7e8ead5de2">cl_video_brightness</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__video_8c.html#ad5d2ab73aacd6204ba13cc728b7dbb43">cl_video_fadein</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> &amp;&amp; (<a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;starttime) &lt; <a class="code hl_variable" href="cl__video_8c.html#ad5d2ab73aacd6204ba13cc728b7dbb43">cl_video_fadein</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>)</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>        <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pow</a>((<a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;starttime)/<a class="code hl_variable" href="cl__video_8c.html#ad5d2ab73aacd6204ba13cc728b7dbb43">cl_video_fadein</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, 2);</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__video_8c.html#adebaa0267dfa90ba342632f3536ce277">cl_video_fadeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> &amp;&amp; ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;starttime + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framenum * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framerate) - <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>) &lt; <a class="code hl_variable" href="cl__video_8c.html#adebaa0267dfa90ba342632f3536ce277">cl_video_fadeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>)</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>        <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pow</a>(((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;starttime + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framenum * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;framerate) - <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a>)/<a class="code hl_variable" href="cl__video_8c.html#adebaa0267dfa90ba342632f3536ce277">cl_video_fadeout</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, 2);</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span> </div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>    <span class="comment">// draw black bg in case stipple is active or video is scaled</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__video_8c.html#af7d5d96c59a475f8aee21d2a72ce76dc">cl_video_stipple</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> || <a class="code hl_variable" href="shader__glsl_8h.html#adfa1e01d266867c3c98e1651a56241af">px</a> != 0 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">py</a> != 0 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a> != <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a> != <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        <a class="code hl_function" href="draw_8h.html#a22c12f7dabc03f2e086052521a2ec2fc">DrawQ_Fill</a>(0, 0, <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>, 0, 0, 0, 1, 0);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    <span class="comment">// enable video-only polygon stipple (of global stipple is not active)</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="cl__screen_8c.html#a49d7bcbddaaac28b6e03e5ac68e49524">scr_stipple</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="cl__video_8c.html#af7d5d96c59a475f8aee21d2a72ce76dc">cl_video_stipple</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    {</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;FIXME: cl_video_stipple not implemented\n&quot;</span>);</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        <a class="code hl_function" href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#af7d5d96c59a475f8aee21d2a72ce76dc">cl_video_stipple</a>, 0);</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    }</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span> </div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    <span class="comment">// draw video</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__video_8c.html#a151be1f7472767170a285b3059a648d0">v_glslgamma_video</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> &gt;= 1)</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>        <a class="code hl_function" href="draw_8h.html#a4a29fbabcad426cddb939f9955a1f326">DrawQ_SuperPic</a>(<a class="code hl_variable" href="shader__glsl_8h.html#adfa1e01d266867c3c98e1651a56241af">px</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">py</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;cachepic, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[1], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[3], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[4], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[5], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[6], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[7], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, 1, 0);</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    {</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>        <a class="code hl_function" href="draw_8h.html#a4a29fbabcad426cddb939f9955a1f326">DrawQ_SuperPic</a>(<a class="code hl_variable" href="shader__glsl_8h.html#adfa1e01d266867c3c98e1651a56241af">px</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">py</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;cachepic, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[1], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[3], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[4], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[5], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, 1, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[6], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[7], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, 1, <a class="code hl_enumvalue" href="draw_8h.html#aeb1806e5d5237a283c9dc681f0e020ebafbce1b1f376f645e9f5bad540cbcf06c">DRAWFLAG_NOGAMMA</a>);</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="cl__video_8c.html#a151be1f7472767170a285b3059a648d0">v_glslgamma_video</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> &gt; 0.0)</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>            <a class="code hl_function" href="draw_8h.html#a4a29fbabcad426cddb939f9955a1f326">DrawQ_SuperPic</a>(<a class="code hl_variable" href="shader__glsl_8h.html#adfa1e01d266867c3c98e1651a56241af">px</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">py</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;cachepic, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sx</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sy</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[1], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="cl__video_8c.html#a151be1f7472767170a285b3059a648d0">v_glslgamma_video</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[3], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="cl__video_8c.html#a151be1f7472767170a285b3059a648d0">v_glslgamma_video</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[4], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[5], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="cl__video_8c.html#a151be1f7472767170a285b3059a648d0">v_glslgamma_video</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[6], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">st</a>[7], <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>, <a class="code hl_variable" href="cl__video_8c.html#a151be1f7472767170a285b3059a648d0">v_glslgamma_video</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>, 0);</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    }</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span> </div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    <span class="comment">// VorteX: draw subtitle_text</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitles || !<a class="code hl_variable" href="cl__video_8c.html#abe0fc0cadba60da26b9321197f8df715">cl_video_subtitles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span> </div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>    <span class="comment">// find current subtitle</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">videotime</a> = <a class="code hl_variable" href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a>.<a class="code hl_variable" href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">realtime</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;starttime;</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitles; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    {</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">videotime</a> &gt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_start[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">videotime &lt;= video-&gt;</a>subtitle_end[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>        {</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>            <span class="comment">// found, draw it</span></div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>.font = <a class="code hl_define" href="draw_8h.html#a9fc49f8bafec6291dd041c965b4849e4">FONT_NOTIFY</a>;</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>.x = <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> * 0.1;</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>.y = <a class="code hl_variable" href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> - (<a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(1, <a class="code hl_variable" href="cl__video_8c.html#aacd90c170626aa9596bc5a61a3c0d9eb">cl_video_subtitles_lines</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>) * <a class="code hl_variable" href="cl__video_8c.html#a33d96d794fa3cea5097d95acdbe70279">cl_video_subtitles_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>.width = <a class="code hl_variable" href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> * 0.8;</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>.height = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(1, <a class="code hl_variable" href="cl__video_8c.html#aacd90c170626aa9596bc5a61a3c0d9eb">cl_video_subtitles_lines</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>) * <a class="code hl_variable" href="cl__video_8c.html#a33d96d794fa3cea5097d95acdbe70279">cl_video_subtitles_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>.alignment = 0.5;</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>.fontsize = <a class="code hl_variable" href="cl__video_8c.html#a33d96d794fa3cea5097d95acdbe70279">cl_video_subtitles_textsize</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>.textalpha = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(1, (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">videotime</a> - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_start[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>])/0.5) * <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(1, ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_end[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">videotime</a>)/0.3)); <span class="comment">// fade in and fade out</span></div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>            <a class="code hl_function" href="common_8c.html#a31eae03d733e25ab670dd2ac7689f74c">COM_Wordwrap</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_text[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">strlen</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;subtitle_text[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]), 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>.width, <a class="code hl_function" href="cl__video_8c.html#a68de40c93fc35fc345c0eaf7f5f1d2c8">CL_DrawVideo_WordWidthFunc</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>, <a class="code hl_function" href="cl__video_8c.html#ace350f013f5b079f4e41e936c4a3f9f9">CL_DrawVideo_DisplaySubtitleLine</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">si</a>);</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>        }</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>    }</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>}</div>
</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span> </div>
<div class="foldopen" id="foldopen00578" data-start="{" data-end="}">
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a107671dc6863f5112305ab8a09a46a8c">  578</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a107671dc6863f5112305ab8a09a46a8c">CL_VideoStart</a>(<span class="keywordtype">char</span> *filename, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a>)</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>{</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>    <a class="code hl_function" href="cl__main_8c.html#a6dddf897835e844872c2f3c9f97117f1">CL_StartVideo</a>();</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>-&gt;<a class="code hl_variable" href="structclvideo__t.html#a46a0b30e8e959ef60771f406fee30f38">state</a> != <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f">CLVIDEO_UNUSED</a> )</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        <a class="code hl_function" href="cl__video_8c.html#a992c209c7eff1f0a67dd386d81a88fbe">CL_CloseVideo</a>( <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a> );</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>    <span class="comment">// already contains video/</span></div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="cl__video_8c.html#ad915bafcfeade54fb255cb860da16d54">OpenVideo</a>( <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>, filename, filename, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a> ) )</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    <span class="comment">// expand the active range to include the new entry</span></div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    <a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a> = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a>, 1);</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span> </div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    <a class="code hl_variable" href="cl__video_8c.html#abed83dd50848589f3519354a10d9164d">cl_videoplaying</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span> </div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    <a class="code hl_function" href="cl__video_8c.html#a092c47c1c4a8c3184ecc0b28959f322e">CL_SetVideoState</a>( <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>, <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110af4e01160fcb54502ccbecc8912c8d106">CLVIDEO_PLAY</a> );</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <a class="code hl_function" href="cl__video_8c.html#a500ae761acd003f2603040fbbebbd1ea">CL_RestartVideo</a>( <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a> );</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>}</div>
</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span> </div>
<div class="foldopen" id="foldopen00596" data-start="{" data-end="}">
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a853afc7a1006a7b7ad195420de679ced">  596</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a853afc7a1006a7b7ad195420de679ced">CL_Video_KeyEvent</a>( <span class="keywordtype">int</span> key, <span class="keywordtype">int</span> ascii, <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> down ) </div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>{</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <span class="comment">// only react to up events, to allow the user to delay the abortion point if it suddenly becomes interesting..</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <span class="keywordflow">if</span>( !down ) {</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>        <span class="keywordflow">if</span>( key == <a class="code hl_enumvalue" href="keys_8h.html#a05e805a865e544a8624a992ac73650d1a8992bd7284d03c0ba490b43d5bf02892">K_ESCAPE</a> || key == <a class="code hl_enumvalue" href="keys_8h.html#a05e805a865e544a8624a992ac73650d1a6c41000e85ae80262d0b2284c1d3f23c">K_ENTER</a> || key == <a class="code hl_enumvalue" href="keys_8h.html#a05e805a865e544a8624a992ac73650d1ad1890ea20e6fef77cc4000ca19a916b5">K_SPACE</a> ) {</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>            <a class="code hl_function" href="cl__video_8c.html#acd3f1cbfb121137c8529f6d154a2971d">CL_VideoStop</a>();</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        }</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    }</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>}</div>
</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span> </div>
<div class="foldopen" id="foldopen00606" data-start="{" data-end="}">
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno"><a class="line" href="cl__video_8c.html#acd3f1cbfb121137c8529f6d154a2971d">  606</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#acd3f1cbfb121137c8529f6d154a2971d">CL_VideoStop</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>{</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    <a class="code hl_variable" href="cl__video_8c.html#abed83dd50848589f3519354a10d9164d">cl_videoplaying</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span> </div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    <a class="code hl_function" href="cl__video_8c.html#a992c209c7eff1f0a67dd386d81a88fbe">CL_CloseVideo</a>( <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a> );</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>}</div>
</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span> </div>
<div class="foldopen" id="foldopen00613" data-start="{" data-end="}">
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ad7f65195286ea9ef44ca0c6e2d2d0631">  613</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#ad7f65195286ea9ef44ca0c6e2d2d0631">CL_PlayVideo_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>{</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a>[<a class="code hl_define" href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a>];</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *extension;</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span> </div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>    <a class="code hl_function" href="cl__main_8c.html#a6dddf897835e844872c2f3c9f97117f1">CL_StartVideo</a>();</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span> </div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a>(<span class="stringliteral">&quot;-benchmark&quot;</span>))</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span> </div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) &lt; 2)</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    {</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>        <a class="code hl_function" href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a>(<span class="stringliteral">&quot;usage: playvideo &lt;videoname&gt; [custom_subtitles_file]\nplays video named video/&lt;videoname&gt;.dpv\nif custom subtitles file is not presented\nit tries video/&lt;videoname&gt;.sub&quot;</span>);</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    }</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span> </div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    extension = <a class="code hl_function" href="fs_8c.html#a03ffae625c1150af52b17342c57425ac">FS_FileExtension</a>(<a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1));</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    <span class="keywordflow">if</span> (extension[0])</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <span class="stringliteral">&quot;video/%s&quot;</span>, <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1));</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>), <span class="stringliteral">&quot;video/%s.dpv&quot;</span>, <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1));</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>    <span class="keywordflow">if</span> ( <a class="code hl_function" href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a>(cmd) &gt; 2)</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        <a class="code hl_function" href="cl__video_8c.html#a107671dc6863f5112305ab8a09a46a8c">CL_VideoStart</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 2));</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>    {</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>        <a class="code hl_function" href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a>), <span class="stringliteral">&quot;video/%s.dpsubs&quot;</span>, <a class="code hl_function" href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a>(cmd, 1));</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>        <a class="code hl_function" href="cl__video_8c.html#a107671dc6863f5112305ab8a09a46a8c">CL_VideoStart</a>(<a class="code hl_variable" href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subtitlesfile</a>);</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>    }</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>}</div>
</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span> </div>
<div class="foldopen" id="foldopen00643" data-start="{" data-end="}">
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno"><a class="line" href="cl__video_8c.html#ac97de44f36fad022d9e9b45e5db99815">  643</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#ac97de44f36fad022d9e9b45e5db99815">CL_StopVideo_f</a>(<a class="code hl_struct" href="structcmd__state__t.html">cmd_state_t</a> *cmd)</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>{</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    <a class="code hl_function" href="cl__video_8c.html#acd3f1cbfb121137c8529f6d154a2971d">CL_VideoStop</a>();</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>}</div>
</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span> </div>
<div class="foldopen" id="foldopen00648" data-start="{" data-end="}">
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a13a9637dbf85df5abf1ad0cc238d0487">  648</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a13a9637dbf85df5abf1ad0cc238d0487">cl_video_start</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>{</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>;</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span> </div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    <a class="code hl_variable" href="cl__video_8c.html#a87e3e0f3a484d7db1bd17ea21258322b">cl_videotexturepool</a> = <a class="code hl_function" href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a>();</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span> </div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    <span class="keywordflow">for</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> = <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>++ )</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state != <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f">CLVIDEO_UNUSED</a> &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;suspended )</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>            <a class="code hl_function" href="cl__video_8c.html#a75dd623a78492ba13ebfab9edf658113">LinkVideoTexture</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> );</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>}</div>
</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span> </div>
<div class="foldopen" id="foldopen00660" data-start="{" data-end="}">
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a26b19bbe065e362e35a224542780d74e">  660</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a26b19bbe065e362e35a224542780d74e">cl_video_shutdown</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>{</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    <a class="code hl_struct" href="structclvideo__t.html">clvideo_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>;</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span> </div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    <span class="keywordflow">for</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> = <a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>++ )</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;state != <a class="code hl_enumvalue" href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f">CLVIDEO_UNUSED</a> &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a>-&gt;suspended )</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>            <a class="code hl_function" href="cl__video_8c.html#ae5226bf05137d5e1bc7c0e2dc9bc7f7e">SuspendVideo</a>( <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">video</a> );</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <a class="code hl_function" href="gl__textures_8c.html#a114f2477dc7b969704fce4025b2a4b1b">R_FreeTexturePool</a>( &amp;<a class="code hl_variable" href="cl__video_8c.html#a87e3e0f3a484d7db1bd17ea21258322b">cl_videotexturepool</a> );</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>}</div>
</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span> </div>
<div class="foldopen" id="foldopen00671" data-start="{" data-end="}">
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a5ca90ff3a786676af607545fa021c0be">  671</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a5ca90ff3a786676af607545fa021c0be">cl_video_newmap</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>{</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>}</div>
</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span> </div>
<div class="foldopen" id="foldopen00675" data-start="{" data-end="}">
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a56cf88c4db8d9f0914ad2f5157dfbcbc">  675</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a56cf88c4db8d9f0914ad2f5157dfbcbc">CL_Video_Init</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>{</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    <span class="keyword">union</span></div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    {</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a>[4];</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>    }</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>;</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a> = 0;</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <a class="code hl_variable" href="cl__video_8c.html#aa384d6823df6dcf755ee17fb6a2f22bc">cl_videobytesperpixel</a> = 4;</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span> </div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <span class="comment">// set masks in an endian-independent way (as they really represent bytes)</span></div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.i = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.b[0] = 0xFF;<a class="code hl_variable" href="cl__video_8c.html#aa7259c023119fb0118f7a60e8b229154">cl_videobmask</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.i;</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.i = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.b[1] = 0xFF;<a class="code hl_variable" href="cl__video_8c.html#ae87eed557bdefb211b4292035cc9fe4f">cl_videogmask</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.i;</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.i = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.b[2] = 0xFF;<a class="code hl_variable" href="cl__video_8c.html#a6b11b62a316db86c1e0c721d52aa771a">cl_videormask</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bgra</a>.i;</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span> </div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;playvideo&quot;</span>, <a class="code hl_function" href="cl__video_8c.html#ad7f65195286ea9ef44ca0c6e2d2d0631">CL_PlayVideo_f</a>, <span class="stringliteral">&quot;play a .dpv video file&quot;</span> );</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    <a class="code hl_function" href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a>(<a class="code hl_define" href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a>, <span class="stringliteral">&quot;stopvideo&quot;</span>, <a class="code hl_function" href="cl__video_8c.html#ac97de44f36fad022d9e9b45e5db99815">CL_StopVideo_f</a>, <span class="stringliteral">&quot;stop playing a .dpv video file&quot;</span> );</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span> </div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#abe0fc0cadba60da26b9321197f8df715">cl_video_subtitles</a>);</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#aacd90c170626aa9596bc5a61a3c0d9eb">cl_video_subtitles_lines</a>);</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#a33d96d794fa3cea5097d95acdbe70279">cl_video_subtitles_textsize</a>);</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#a07c23150787c124cc5a893c7690500a7">cl_video_scale</a>);</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#a2605f15418dbc87700a728e0bfc5ad8c">cl_video_scale_vpos</a>);</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#a8908ee992ce15d73a4166c7e8ead5de2">cl_video_brightness</a>);</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#af7d5d96c59a475f8aee21d2a72ce76dc">cl_video_stipple</a>);</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#ad31597c5eb263377defc53cbad2396d9">cl_video_keepaspectratio</a>);</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#ad5d2ab73aacd6204ba13cc728b7dbb43">cl_video_fadein</a>);</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#adebaa0267dfa90ba342632f3536ce277">cl_video_fadeout</a>);</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span> </div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    <a class="code hl_function" href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#a151be1f7472767170a285b3059a648d0">v_glslgamma_video</a>);</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span> </div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    <a class="code hl_function" href="r__modules_8c.html#a7f982eee49a26b26f015596ac96edea0">R_RegisterModule</a>( <span class="stringliteral">&quot;CL_Video&quot;</span>, <a class="code hl_function" href="cl__video_8c.html#a13a9637dbf85df5abf1ad0cc238d0487">cl_video_start</a>, <a class="code hl_function" href="cl__video_8c.html#a26b19bbe065e362e35a224542780d74e">cl_video_shutdown</a>, <a class="code hl_function" href="cl__video_8c.html#a5ca90ff3a786676af607545fa021c0be">cl_video_newmap</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> );</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span> </div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    <a class="code hl_function" href="cl__video__libavw_8c.html#ab746c015ad56184f7664d56cb46fb52b">LibAvW_OpenLibrary</a>();</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>}</div>
</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span> </div>
<div class="foldopen" id="foldopen00713" data-start="{" data-end="}">
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno"><a class="line" href="cl__video_8c.html#a86db37228d17184bf4a9d2d2e126ec72">  713</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="cl__video_8c.html#a86db37228d17184bf4a9d2d2e126ec72">CL_Video_Shutdown</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>{</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span> </div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a> ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>        <a class="code hl_function" href="cl__video_8c.html#a992c209c7eff1f0a67dd386d81a88fbe">CL_CloseVideo</a>(&amp;<a class="code hl_variable" href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a>[ <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> ]);</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span> </div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    <a class="code hl_function" href="cl__video__libavw_8c.html#ae5957e332254b30a10f95525ba6e605a">LibAvW_CloseLibrary</a>();</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>}</div>
</div>
<div class="ttc" id="acl__main_8c_html_a6dddf897835e844872c2f3c9f97117f1"><div class="ttname"><a href="cl__main_8c.html#a6dddf897835e844872c2f3c9f97117f1">CL_StartVideo</a></div><div class="ttdeci">void CL_StartVideo(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l02790">cl_main.c:2790</a></div></div>
<div class="ttc" id="acl__main_8c_html_ab4b4e0f12a72d330ee0869bdf1b372cd"><div class="ttname"><a href="cl__main_8c.html#ab4b4e0f12a72d330ee0869bdf1b372cd">cls</a></div><div class="ttdeci">client_static_t cls</div><div class="ttdef"><b>Definition</b> <a href="cl__main_8c_source.html#l00116">cl_main.c:116</a></div></div>
<div class="ttc" id="acl__screen_8c_html_a49d7bcbddaaac28b6e03e5ac68e49524"><div class="ttname"><a href="cl__screen_8c.html#a49d7bcbddaaac28b6e03e5ac68e49524">scr_stipple</a></div><div class="ttdeci">cvar_t scr_stipple</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00088">cl_screen.c:88</a></div></div>
<div class="ttc" id="acl__screen_8c_html_ad642724985d35758ea536f92fafbcdf3"><div class="ttname"><a href="cl__screen_8c.html#ad642724985d35758ea536f92fafbcdf3">vid_conheight</a></div><div class="ttdeci">cvar_t vid_conheight</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00057">cl_screen.c:57</a></div></div>
<div class="ttc" id="acl__screen_8c_html_ae58b44b922d5902939340cd2f0bd7a38"><div class="ttname"><a href="cl__screen_8c.html#ae58b44b922d5902939340cd2f0bd7a38">vid_conwidth</a></div><div class="ttdeci">cvar_t vid_conwidth</div><div class="ttdef"><b>Definition</b> <a href="cl__screen_8c_source.html#l00056">cl_screen.c:56</a></div></div>
<div class="ttc" id="acl__video_8c_html_a00570bf148af560a7bf5d3e331e104fb"><div class="ttname"><a href="cl__video_8c.html#a00570bf148af560a7bf5d3e331e104fb">LoadSubtitles</a></div><div class="ttdeci">static void LoadSubtitles(clvideo_t *video, const char *subtitlesfile)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00128">cl_video.c:128</a></div></div>
<div class="ttc" id="acl__video_8c_html_a07c23150787c124cc5a893c7690500a7"><div class="ttname"><a href="cl__video_8c.html#a07c23150787c124cc5a893c7690500a7">cl_video_scale</a></div><div class="ttdeci">cvar_t cl_video_scale</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00009">cl_video.c:9</a></div></div>
<div class="ttc" id="acl__video_8c_html_a092c47c1c4a8c3184ecc0b28959f322e"><div class="ttname"><a href="cl__video_8c.html#a092c47c1c4a8c3184ecc0b28959f322e">CL_SetVideoState</a></div><div class="ttdeci">void CL_SetVideoState(clvideo_t *video, clvideostate_t state)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00298">cl_video.c:298</a></div></div>
<div class="ttc" id="acl__video_8c_html_a0ad2b20f8ced769072f40843c75abad2"><div class="ttname"><a href="cl__video_8c.html#a0ad2b20f8ced769072f40843c75abad2">CL_GetVideoByName</a></div><div class="ttdeci">clvideo_t * CL_GetVideoByName(const char *name)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00284">cl_video.c:284</a></div></div>
<div class="ttc" id="acl__video_8c_html_a107671dc6863f5112305ab8a09a46a8c"><div class="ttname"><a href="cl__video_8c.html#a107671dc6863f5112305ab8a09a46a8c">CL_VideoStart</a></div><div class="ttdeci">void CL_VideoStart(char *filename, const char *subtitlesfile)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00578">cl_video.c:578</a></div></div>
<div class="ttc" id="acl__video_8c_html_a13a9637dbf85df5abf1ad0cc238d0487"><div class="ttname"><a href="cl__video_8c.html#a13a9637dbf85df5abf1ad0cc238d0487">cl_video_start</a></div><div class="ttdeci">static void cl_video_start(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00648">cl_video.c:648</a></div></div>
<div class="ttc" id="acl__video_8c_html_a151be1f7472767170a285b3059a648d0"><div class="ttname"><a href="cl__video_8c.html#a151be1f7472767170a285b3059a648d0">v_glslgamma_video</a></div><div class="ttdeci">cvar_t v_glslgamma_video</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00017">cl_video.c:17</a></div></div>
<div class="ttc" id="acl__video_8c_html_a2605f15418dbc87700a728e0bfc5ad8c"><div class="ttname"><a href="cl__video_8c.html#a2605f15418dbc87700a728e0bfc5ad8c">cl_video_scale_vpos</a></div><div class="ttdeci">cvar_t cl_video_scale_vpos</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00010">cl_video.c:10</a></div></div>
<div class="ttc" id="acl__video_8c_html_a26b19bbe065e362e35a224542780d74e"><div class="ttname"><a href="cl__video_8c.html#a26b19bbe065e362e35a224542780d74e">cl_video_shutdown</a></div><div class="ttdeci">static void cl_video_shutdown(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00660">cl_video.c:660</a></div></div>
<div class="ttc" id="acl__video_8c_html_a2f27905ad2d14e6922ab4443ea5cfb90"><div class="ttname"><a href="cl__video_8c.html#a2f27905ad2d14e6922ab4443ea5cfb90">VideoUpdateCallback</a></div><div class="ttdeci">static void VideoUpdateCallback(rtexture_t *rt, void *data)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00071">cl_video.c:71</a></div></div>
<div class="ttc" id="acl__video_8c_html_a33d96d794fa3cea5097d95acdbe70279"><div class="ttname"><a href="cl__video_8c.html#a33d96d794fa3cea5097d95acdbe70279">cl_video_subtitles_textsize</a></div><div class="ttdeci">cvar_t cl_video_subtitles_textsize</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00008">cl_video.c:8</a></div></div>
<div class="ttc" id="acl__video_8c_html_a400ae4fbecac76d14c89ab6d645988f6"><div class="ttname"><a href="cl__video_8c.html#a400ae4fbecac76d14c89ab6d645988f6">UnlinkVideoTexture</a></div><div class="ttdeci">static void UnlinkVideoTexture(clvideo_t *video)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00084">cl_video.c:84</a></div></div>
<div class="ttc" id="acl__video_8c_html_a500ae761acd003f2603040fbbebbd1ea"><div class="ttname"><a href="cl__video_8c.html#a500ae761acd003f2603040fbbebbd1ea">CL_RestartVideo</a></div><div class="ttdeci">void CL_RestartVideo(clvideo_t *video)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00309">cl_video.c:309</a></div></div>
<div class="ttc" id="acl__video_8c_html_a56cf88c4db8d9f0914ad2f5157dfbcbc"><div class="ttname"><a href="cl__video_8c.html#a56cf88c4db8d9f0914ad2f5157dfbcbc">CL_Video_Init</a></div><div class="ttdeci">void CL_Video_Init(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00675">cl_video.c:675</a></div></div>
<div class="ttc" id="acl__video_8c_html_a5ca90ff3a786676af607545fa021c0be"><div class="ttname"><a href="cl__video_8c.html#a5ca90ff3a786676af607545fa021c0be">cl_video_newmap</a></div><div class="ttdeci">static void cl_video_newmap(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00671">cl_video.c:671</a></div></div>
<div class="ttc" id="acl__video_8c_html_a6263d131ca719e88f6b3ec346ea9c2bf"><div class="ttname"><a href="cl__video_8c.html#a6263d131ca719e88f6b3ec346ea9c2bf">FindUnusedVid</a></div><div class="ttdeci">static clvideo_t * FindUnusedVid(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00040">cl_video.c:40</a></div></div>
<div class="ttc" id="acl__video_8c_html_a68de40c93fc35fc345c0eaf7f5f1d2c8"><div class="ttname"><a href="cl__video_8c.html#a68de40c93fc35fc345c0eaf7f5f1d2c8">CL_DrawVideo_WordWidthFunc</a></div><div class="ttdeci">static float CL_DrawVideo_WordWidthFunc(void *passthrough, const char *w, size_t *length, float maxWidth)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00433">cl_video.c:433</a></div></div>
<div class="ttc" id="acl__video_8c_html_a6b11b62a316db86c1e0c721d52aa771a"><div class="ttname"><a href="cl__video_8c.html#a6b11b62a316db86c1e0c721d52aa771a">cl_videormask</a></div><div class="ttdeci">static int cl_videormask</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00031">cl_video.c:31</a></div></div>
<div class="ttc" id="acl__video_8c_html_a75dd623a78492ba13ebfab9edf658113"><div class="ttname"><a href="cl__video_8c.html#a75dd623a78492ba13ebfab9edf658113">LinkVideoTexture</a></div><div class="ttdeci">static void LinkVideoTexture(clvideo_t *video)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00077">cl_video.c:77</a></div></div>
<div class="ttc" id="acl__video_8c_html_a7fd2e01f07f4302edee1a00e500503f5"><div class="ttname"><a href="cl__video_8c.html#a7fd2e01f07f4302edee1a00e500503f5">cl_num_videos</a></div><div class="ttdeci">static int cl_num_videos</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00036">cl_video.c:36</a></div></div>
<div class="ttc" id="acl__video_8c_html_a853afc7a1006a7b7ad195420de679ced"><div class="ttname"><a href="cl__video_8c.html#a853afc7a1006a7b7ad195420de679ced">CL_Video_KeyEvent</a></div><div class="ttdeci">void CL_Video_KeyEvent(int key, int ascii, qbool down)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00596">cl_video.c:596</a></div></div>
<div class="ttc" id="acl__video_8c_html_a86db37228d17184bf4a9d2d2e126ec72"><div class="ttname"><a href="cl__video_8c.html#a86db37228d17184bf4a9d2d2e126ec72">CL_Video_Shutdown</a></div><div class="ttdeci">void CL_Video_Shutdown(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00713">cl_video.c:713</a></div></div>
<div class="ttc" id="acl__video_8c_html_a87e3e0f3a484d7db1bd17ea21258322b"><div class="ttname"><a href="cl__video_8c.html#a87e3e0f3a484d7db1bd17ea21258322b">cl_videotexturepool</a></div><div class="ttdeci">static rtexturepool_t * cl_videotexturepool</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00038">cl_video.c:38</a></div></div>
<div class="ttc" id="acl__video_8c_html_a8908ee992ce15d73a4166c7e8ead5de2"><div class="ttname"><a href="cl__video_8c.html#a8908ee992ce15d73a4166c7e8ead5de2">cl_video_brightness</a></div><div class="ttdeci">cvar_t cl_video_brightness</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00012">cl_video.c:12</a></div></div>
<div class="ttc" id="acl__video_8c_html_a8bcd6806ee6d871167dcff1dbd1bae6f"><div class="ttname"><a href="cl__video_8c.html#a8bcd6806ee6d871167dcff1dbd1bae6f">WakeVideo</a></div><div class="ttdeci">static qbool WakeVideo(clvideo_t *video)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00107">cl_video.c:107</a></div></div>
<div class="ttc" id="acl__video_8c_html_a992c209c7eff1f0a67dd386d81a88fbe"><div class="ttname"><a href="cl__video_8c.html#a992c209c7eff1f0a67dd386d81a88fbe">CL_CloseVideo</a></div><div class="ttdeci">void CL_CloseVideo(clvideo_t *video)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00327">cl_video.c:327</a></div></div>
<div class="ttc" id="acl__video_8c_html_aa2f125888da26c931cdb48093f78519f"><div class="ttname"><a href="cl__video_8c.html#aa2f125888da26c931cdb48093f78519f">CL_GetVideoBySlot</a></div><div class="ttdeci">static clvideo_t * CL_GetVideoBySlot(int slot)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00267">cl_video.c:267</a></div></div>
<div class="ttc" id="acl__video_8c_html_aa384d6823df6dcf755ee17fb6a2f22bc"><div class="ttname"><a href="cl__video_8c.html#aa384d6823df6dcf755ee17fb6a2f22bc">cl_videobytesperpixel</a></div><div class="ttdeci">static int cl_videobytesperpixel</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00034">cl_video.c:34</a></div></div>
<div class="ttc" id="acl__video_8c_html_aa7259c023119fb0118f7a60e8b229154"><div class="ttname"><a href="cl__video_8c.html#aa7259c023119fb0118f7a60e8b229154">cl_videobmask</a></div><div class="ttdeci">static int cl_videobmask</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00032">cl_video.c:32</a></div></div>
<div class="ttc" id="acl__video_8c_html_aacd90c170626aa9596bc5a61a3c0d9eb"><div class="ttname"><a href="cl__video_8c.html#aacd90c170626aa9596bc5a61a3c0d9eb">cl_video_subtitles_lines</a></div><div class="ttdeci">cvar_t cl_video_subtitles_lines</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00007">cl_video.c:7</a></div></div>
<div class="ttc" id="acl__video_8c_html_abe0fc0cadba60da26b9321197f8df715"><div class="ttname"><a href="cl__video_8c.html#abe0fc0cadba60da26b9321197f8df715">cl_video_subtitles</a></div><div class="ttdeci">cvar_t cl_video_subtitles</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00006">cl_video.c:6</a></div></div>
<div class="ttc" id="acl__video_8c_html_abed83dd50848589f3519354a10d9164d"><div class="ttname"><a href="cl__video_8c.html#abed83dd50848589f3519354a10d9164d">cl_videoplaying</a></div><div class="ttdeci">int cl_videoplaying</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00458">cl_video.c:458</a></div></div>
<div class="ttc" id="acl__video_8c_html_ac04f89e937b57607f795768b65a50910"><div class="ttname"><a href="cl__video_8c.html#ac04f89e937b57607f795768b65a50910">CL_Video_Frame</a></div><div class="ttdeci">void CL_Video_Frame(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00355">cl_video.c:355</a></div></div>
<div class="ttc" id="acl__video_8c_html_ac2b58d38da2ed086ceff1c56c10a4913"><div class="ttname"><a href="cl__video_8c.html#ac2b58d38da2ed086ceff1c56c10a4913">CL_DrawVideo</a></div><div class="ttdeci">void CL_DrawVideo(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00460">cl_video.c:460</a></div></div>
<div class="ttc" id="acl__video_8c_html_ac8947d0d4d1d12db3c7f696443fce904"><div class="ttname"><a href="cl__video_8c.html#ac8947d0d4d1d12db3c7f696443fce904">cl_videos</a></div><div class="ttdeci">static clvideo_t cl_videos[MAXCLVIDEOS]</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00037">cl_video.c:37</a></div></div>
<div class="ttc" id="acl__video_8c_html_ac97de44f36fad022d9e9b45e5db99815"><div class="ttname"><a href="cl__video_8c.html#ac97de44f36fad022d9e9b45e5db99815">CL_StopVideo_f</a></div><div class="ttdeci">static void CL_StopVideo_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00643">cl_video.c:643</a></div></div>
<div class="ttc" id="acl__video_8c_html_acd3f1cbfb121137c8529f6d154a2971d"><div class="ttname"><a href="cl__video_8c.html#acd3f1cbfb121137c8529f6d154a2971d">CL_VideoStop</a></div><div class="ttdeci">void CL_VideoStop(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00606">cl_video.c:606</a></div></div>
<div class="ttc" id="acl__video_8c_html_ace350f013f5b079f4e41e936c4a3f9f9"><div class="ttname"><a href="cl__video_8c.html#ace350f013f5b079f4e41e936c4a3f9f9">CL_DrawVideo_DisplaySubtitleLine</a></div><div class="ttdeci">static int CL_DrawVideo_DisplaySubtitleLine(void *passthrough, const char *line, size_t length, float width, qbool isContinuation)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00447">cl_video.c:447</a></div></div>
<div class="ttc" id="acl__video_8c_html_ad31597c5eb263377defc53cbad2396d9"><div class="ttname"><a href="cl__video_8c.html#ad31597c5eb263377defc53cbad2396d9">cl_video_keepaspectratio</a></div><div class="ttdeci">cvar_t cl_video_keepaspectratio</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00013">cl_video.c:13</a></div></div>
<div class="ttc" id="acl__video_8c_html_ad5d2ab73aacd6204ba13cc728b7dbb43"><div class="ttname"><a href="cl__video_8c.html#ad5d2ab73aacd6204ba13cc728b7dbb43">cl_video_fadein</a></div><div class="ttdeci">cvar_t cl_video_fadein</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00014">cl_video.c:14</a></div></div>
<div class="ttc" id="acl__video_8c_html_ad7f65195286ea9ef44ca0c6e2d2d0631"><div class="ttname"><a href="cl__video_8c.html#ad7f65195286ea9ef44ca0c6e2d2d0631">CL_PlayVideo_f</a></div><div class="ttdeci">static void CL_PlayVideo_f(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00613">cl_video.c:613</a></div></div>
<div class="ttc" id="acl__video_8c_html_ad915bafcfeade54fb255cb860da16d54"><div class="ttname"><a href="cl__video_8c.html#ad915bafcfeade54fb255cb860da16d54">OpenVideo</a></div><div class="ttdeci">static clvideo_t * OpenVideo(clvideo_t *video, const char *filename, const char *name, int owner, const char *subtitlesfile)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00215">cl_video.c:215</a></div></div>
<div class="ttc" id="acl__video_8c_html_adebaa0267dfa90ba342632f3536ce277"><div class="ttname"><a href="cl__video_8c.html#adebaa0267dfa90ba342632f3536ce277">cl_video_fadeout</a></div><div class="ttdeci">cvar_t cl_video_fadeout</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00015">cl_video.c:15</a></div></div>
<div class="ttc" id="acl__video_8c_html_ae191390c5b70bc111d148cd626881645"><div class="ttname"><a href="cl__video_8c.html#ae191390c5b70bc111d148cd626881645">CL_PurgeOwner</a></div><div class="ttdeci">void CL_PurgeOwner(int owner)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00411">cl_video.c:411</a></div></div>
<div class="ttc" id="acl__video_8c_html_ae440dec3ac633042b17b3c43c3c8fdbc"><div class="ttname"><a href="cl__video_8c.html#ae440dec3ac633042b17b3c43c3c8fdbc">OpenStream</a></div><div class="ttdeci">static qbool OpenStream(clvideo_t *video)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00049">cl_video.c:49</a></div></div>
<div class="ttc" id="acl__video_8c_html_ae5226bf05137d5e1bc7c0e2dc9bc7f7e"><div class="ttname"><a href="cl__video_8c.html#ae5226bf05137d5e1bc7c0e2dc9bc7f7e">SuspendVideo</a></div><div class="ttdeci">static void SuspendVideo(clvideo_t *video)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00092">cl_video.c:92</a></div></div>
<div class="ttc" id="acl__video_8c_html_ae87eed557bdefb211b4292035cc9fe4f"><div class="ttname"><a href="cl__video_8c.html#ae87eed557bdefb211b4292035cc9fe4f">cl_videogmask</a></div><div class="ttdeci">static int cl_videogmask</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00033">cl_video.c:33</a></div></div>
<div class="ttc" id="acl__video_8c_html_af6d62c4c3a4914c5cdc35452fe581a94"><div class="ttname"><a href="cl__video_8c.html#af6d62c4c3a4914c5cdc35452fe581a94">CL_OpenVideo</a></div><div class="ttdeci">clvideo_t * CL_OpenVideo(const char *filename, const char *name, int owner, const char *subtitlesfile)</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00245">cl_video.c:245</a></div></div>
<div class="ttc" id="acl__video_8c_html_af7d5d96c59a475f8aee21d2a72ce76dc"><div class="ttname"><a href="cl__video_8c.html#af7d5d96c59a475f8aee21d2a72ce76dc">cl_video_stipple</a></div><div class="ttdeci">cvar_t cl_video_stipple</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00011">cl_video.c:11</a></div></div>
<div class="ttc" id="acl__video_8h_html"><div class="ttname"><a href="cl__video_8h.html">cl_video.h</a></div></div>
<div class="ttc" id="acl__video_8h_html_a4fe09854a5f3fb50e0218242a4f2f6ad"><div class="ttname"><a href="cl__video_8h.html#a4fe09854a5f3fb50e0218242a4f2f6ad">CLVIDEO_MAX_SUBTITLES</a></div><div class="ttdeci">#define CLVIDEO_MAX_SUBTITLES</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00024">cl_video.h:24</a></div></div>
<div class="ttc" id="acl__video_8h_html_a61c3aab2c338f5a29d5cad24be52f110"><div class="ttname"><a href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110">clvideostate_t</a></div><div class="ttdeci">clvideostate_t</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00013">cl_video.h:14</a></div></div>
<div class="ttc" id="acl__video_8h_html_a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f"><div class="ttname"><a href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a2a01e0871a19918366cc12ee3ab75b7f">CLVIDEO_UNUSED</a></div><div class="ttdeci">@ CLVIDEO_UNUSED</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00015">cl_video.h:15</a></div></div>
<div class="ttc" id="acl__video_8h_html_a61c3aab2c338f5a29d5cad24be52f110a612f31b6e4062c4851609f5b62718da1"><div class="ttname"><a href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a612f31b6e4062c4851609f5b62718da1">CLVIDEO_PAUSE</a></div><div class="ttdeci">@ CLVIDEO_PAUSE</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00018">cl_video.h:18</a></div></div>
<div class="ttc" id="acl__video_8h_html_a61c3aab2c338f5a29d5cad24be52f110a65c1320fb3e110dcee6576ccdc22caf4"><div class="ttname"><a href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110a65c1320fb3e110dcee6576ccdc22caf4">CLVIDEO_RESETONWAKEUP</a></div><div class="ttdeci">@ CLVIDEO_RESETONWAKEUP</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00020">cl_video.h:20</a></div></div>
<div class="ttc" id="acl__video_8h_html_a61c3aab2c338f5a29d5cad24be52f110ac8e469888cee38d17ddcc1658debf7d9"><div class="ttname"><a href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110ac8e469888cee38d17ddcc1658debf7d9">CLVIDEO_FIRSTFRAME</a></div><div class="ttdeci">@ CLVIDEO_FIRSTFRAME</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00019">cl_video.h:19</a></div></div>
<div class="ttc" id="acl__video_8h_html_a61c3aab2c338f5a29d5cad24be52f110af4e01160fcb54502ccbecc8912c8d106"><div class="ttname"><a href="cl__video_8h.html#a61c3aab2c338f5a29d5cad24be52f110af4e01160fcb54502ccbecc8912c8d106">CLVIDEO_PLAY</a></div><div class="ttdeci">@ CLVIDEO_PLAY</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00016">cl_video.h:16</a></div></div>
<div class="ttc" id="acl__video_8h_html_a7cefe779a398da88a107c4c8e90e7731"><div class="ttname"><a href="cl__video_8h.html#a7cefe779a398da88a107c4c8e90e7731">CLTHRESHOLD</a></div><div class="ttdeci">#define CLTHRESHOLD</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00009">cl_video.h:9</a></div></div>
<div class="ttc" id="acl__video_8h_html_af969da5c3ad57cc33cf296104428c48b"><div class="ttname"><a href="cl__video_8h.html#af969da5c3ad57cc33cf296104428c48b">CLVIDEOPREFIX</a></div><div class="ttdeci">#define CLVIDEOPREFIX</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00008">cl_video.h:8</a></div></div>
<div class="ttc" id="acl__video__jamdecode_8c_html"><div class="ttname"><a href="cl__video__jamdecode_8c.html">cl_video_jamdecode.c</a></div></div>
<div class="ttc" id="acl__video__jamdecode_8c_html_a53944af9517af32b3003bf011f0fca79"><div class="ttname"><a href="cl__video__jamdecode_8c.html#a53944af9517af32b3003bf011f0fca79">jam_open</a></div><div class="ttdeci">void * jam_open(clvideo_t *video, char *filename, const char **errorstring)</div><div class="ttdef"><b>Definition</b> <a href="cl__video__jamdecode_8c_source.html#l00047">cl_video_jamdecode.c:47</a></div></div>
<div class="ttc" id="acl__video__libavw_8c_html_ab2d36a04d87de751221f350e6df632ef"><div class="ttname"><a href="cl__video__libavw_8c.html#ab2d36a04d87de751221f350e6df632ef">LibAvW_OpenVideo</a></div><div class="ttdeci">void * LibAvW_OpenVideo(clvideo_t *video, char *filename, const char **errorstring)</div><div class="ttdef"><b>Definition</b> <a href="cl__video__libavw_8c_source.html#l00252">cl_video_libavw.c:252</a></div></div>
<div class="ttc" id="acl__video__libavw_8c_html_ab746c015ad56184f7664d56cb46fb52b"><div class="ttname"><a href="cl__video__libavw_8c.html#ab746c015ad56184f7664d56cb46fb52b">LibAvW_OpenLibrary</a></div><div class="ttdeci">qbool LibAvW_OpenLibrary(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__video__libavw_8c_source.html#l00358">cl_video_libavw.c:358</a></div></div>
<div class="ttc" id="acl__video__libavw_8c_html_ae5957e332254b30a10f95525ba6e605a"><div class="ttname"><a href="cl__video__libavw_8c.html#ae5957e332254b30a10f95525ba6e605a">LibAvW_CloseLibrary</a></div><div class="ttdeci">void LibAvW_CloseLibrary(void)</div><div class="ttdef"><b>Definition</b> <a href="cl__video__libavw_8c_source.html#l00385">cl_video_libavw.c:385</a></div></div>
<div class="ttc" id="acl__video__libavw_8h_html"><div class="ttname"><a href="cl__video__libavw_8h.html">cl_video_libavw.h</a></div></div>
<div class="ttc" id="acmd_8c_html_a86fa905462db75436af48f27298204e5"><div class="ttname"><a href="cmd_8c.html#a86fa905462db75436af48f27298204e5">Cmd_AddCommand</a></div><div class="ttdeci">void Cmd_AddCommand(unsigned flags, const char *cmd_name, xcommand_t function, const char *description)</div><div class="ttdoc">called by the init functions of other parts of the program to register commands and functions to call...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8c_source.html#l01643">cmd.c:1643</a></div></div>
<div class="ttc" id="acmd_8h_html_aadf0879ce7511e76eeea9da766b31c6b"><div class="ttname"><a href="cmd_8h.html#aadf0879ce7511e76eeea9da766b31c6b">CF_SERVER</a></div><div class="ttdeci">#define CF_SERVER</div><div class="ttdoc">cvar/command that only the server can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00049">cmd.h:49</a></div></div>
<div class="ttc" id="acmd_8h_html_ab070abb7f2ebb842c8e67bef4e317314"><div class="ttname"><a href="cmd_8h.html#ab070abb7f2ebb842c8e67bef4e317314">Cmd_Argc</a></div><div class="ttdeci">static int Cmd_Argc(cmd_state_t *cmd)</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00249">cmd.h:249</a></div></div>
<div class="ttc" id="acmd_8h_html_ab49017bdcb3104823452a9ed7597aaf5"><div class="ttname"><a href="cmd_8h.html#ab49017bdcb3104823452a9ed7597aaf5">Cmd_Argv</a></div><div class="ttdeci">static const char * Cmd_Argv(cmd_state_t *cmd, int arg)</div><div class="ttdoc">Cmd_Argv(cmd, ) will return an empty string (not a NULL) if arg &gt; argc, so string operations are alwa...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00254">cmd.h:254</a></div></div>
<div class="ttc" id="acmd_8h_html_abba64dce6a45541317c5508aa83436e5"><div class="ttname"><a href="cmd_8h.html#abba64dce6a45541317c5508aa83436e5">CF_CLIENT</a></div><div class="ttdeci">#define CF_CLIENT</div><div class="ttdoc">cvar/command that only the client can change/execute</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00048">cmd.h:48</a></div></div>
<div class="ttc" id="acmd_8h_html_aeeecb68995736ab90434173e64fd14e5"><div class="ttname"><a href="cmd_8h.html#aeeecb68995736ab90434173e64fd14e5">CF_ARCHIVE</a></div><div class="ttdeci">#define CF_ARCHIVE</div><div class="ttdoc">cvar should have its set value saved to config.cfg and persist across sessions</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00053">cmd.h:53</a></div></div>
<div class="ttc" id="acom__game_8c_html_a8261ff184d55a220fafab13efd735946"><div class="ttname"><a href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a></div><div class="ttdeci">gamemode_t gamemode</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00026">com_game.c:26</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825ea151347ea62f923295056422bb6973fc8"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825ea151347ea62f923295056422bb6973fc8">GAME_BLOODOMNICIDE</a></div><div class="ttdeci">@ GAME_BLOODOMNICIDE</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00052">com_game.h:52</a></div></div>
<div class="ttc" id="acommon_8c_html_a31eae03d733e25ab670dd2ac7689f74c"><div class="ttname"><a href="common_8c.html#a31eae03d733e25ab670dd2ac7689f74c">COM_Wordwrap</a></div><div class="ttdeci">int COM_Wordwrap(const char *string, size_t length, float continuationWidth, float maxWidth, COM_WordWidthFunc_t wordWidth, void *passthroughCW, COM_LineProcessorFunc processLine, void *passthroughPL)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00174">common.c:174</a></div></div>
<div class="ttc" id="acommon_8c_html_a3eb222dff7f3bc0f6ce47f1e02df175e"><div class="ttname"><a href="common_8c.html#a3eb222dff7f3bc0f6ce47f1e02df175e">com_token</a></div><div class="ttdeci">char com_token[MAX_INPUTLINE]</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00039">common.c:39</a></div></div>
<div class="ttc" id="acommon_8c_html_a502d1e3c150757afa23f2ad484bc8d79"><div class="ttname"><a href="common_8c.html#a502d1e3c150757afa23f2ad484bc8d79">COM_ParseToken_QuakeC</a></div><div class="ttdeci">qbool COM_ParseToken_QuakeC(const char **datapointer, qbool returnnewline)</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00581">common.c:581</a></div></div>
<div class="ttc" id="acommon_8c_html_ae36050083f45e395189fee6aa45fbb0c"><div class="ttname"><a href="common_8c.html#ae36050083f45e395189fee6aa45fbb0c">dpsnprintf</a></div><div class="ttdeci">int dpsnprintf(char *buffer, size_t buffersize, const char *format,...)</div><div class="ttdoc">Returns the number of printed characters, excluding the final '\0' or returns -1 if the buffer isn't ...</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00997">common.c:997</a></div></div>
<div class="ttc" id="acommon_8h_html_aaef80d6b72e2476c82258733a8c4eced"><div class="ttname"><a href="common_8h.html#aaef80d6b72e2476c82258733a8c4eced">dp_strlcpy</a></div><div class="ttdeci">#define dp_strlcpy(dst, src, dsize)</div><div class="ttdef"><b>Definition</b> <a href="common_8h_source.html#l00303">common.h:303</a></div></div>
<div class="ttc" id="aconsole_8c_html_a1cf9711475097b11dc41f743254ec77e"><div class="ttname"><a href="console_8c.html#a1cf9711475097b11dc41f743254ec77e">Con_Print</a></div><div class="ttdeci">void Con_Print(const char *msg)</div><div class="ttdoc">Prints to all appropriate console targets, and adds timestamps.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01450">console.c:1450</a></div></div>
<div class="ttc" id="aconsole_8c_html_a2696300802453d9333e9f52e5fae15bc"><div class="ttname"><a href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a></div><div class="ttdeci">void Con_DPrintf(const char *fmt,...)</div><div class="ttdoc">A Con_Printf that only shows up if the &quot;developer&quot; cvar is set.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01490">console.c:1490</a></div></div>
<div class="ttc" id="aconsole_8c_html_a49b71fe9a87e57a440e07af4a869a9f6"><div class="ttname"><a href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a></div><div class="ttdeci">void Con_Printf(const char *fmt,...)</div><div class="ttdoc">Prints to all appropriate console targets.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01460">console.c:1460</a></div></div>
<div class="ttc" id="aconsole_8h_html_a27b052ed2a962d8ec1b9e922d0813058"><div class="ttname"><a href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a></div><div class="ttdeci">#define CON_WARN</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00096">console.h:96</a></div></div>
<div class="ttc" id="aconsole_8h_html_ae151ed35a905aff75d5f5dc32cd965bb"><div class="ttname"><a href="console_8h.html#ae151ed35a905aff75d5f5dc32cd965bb">CON_ERROR</a></div><div class="ttdeci">#define CON_ERROR</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00097">console.h:97</a></div></div>
<div class="ttc" id="acvar_8c_html_a65b55ce35a5bd18e379065651d5d6e15"><div class="ttname"><a href="cvar_8c.html#a65b55ce35a5bd18e379065651d5d6e15">Cvar_SetValueQuick</a></div><div class="ttdeci">void Cvar_SetValueQuick(cvar_t *var, float value)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00473">cvar.c:473</a></div></div>
<div class="ttc" id="acvar_8c_html_a71b1f2a204cebd68e6bc4790b9ac4258"><div class="ttname"><a href="cvar_8c.html#a71b1f2a204cebd68e6bc4790b9ac4258">cvars_all</a></div><div class="ttdeci">cvar_state_t cvars_all</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00028">cvar.c:28</a></div></div>
<div class="ttc" id="acvar_8c_html_a9bd27026ed325ffe5276549c11c7379d"><div class="ttname"><a href="cvar_8c.html#a9bd27026ed325ffe5276549c11c7379d">Cvar_RegisterVariable</a></div><div class="ttdeci">void Cvar_RegisterVariable(cvar_t *variable)</div><div class="ttdoc">registers a cvar that already has the name, string, and optionally the archive elements set.</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00599">cvar.c:599</a></div></div>
<div class="ttc" id="acvar_8c_html_abb4c73909d750b61a354db139a9f6e40"><div class="ttname"><a href="cvar_8c.html#abb4c73909d750b61a354db139a9f6e40">Cvar_FindVar</a></div><div class="ttdeci">cvar_t * Cvar_FindVar(cvar_state_t *cvars, const char *var_name, unsigned neededflags)</div><div class="ttdef"><b>Definition</b> <a href="cvar_8c_source.html#l00036">cvar.c:36</a></div></div>
<div class="ttc" id="adpvsimpledecode_8c_html_a26a803425654fbd785a83a21a073786c"><div class="ttname"><a href="dpvsimpledecode_8c.html#a26a803425654fbd785a83a21a073786c">dpvsimpledecode_open</a></div><div class="ttdeci">void * dpvsimpledecode_open(clvideo_t *video, char *filename, const char **errorstring)</div><div class="ttdef"><b>Definition</b> <a href="dpvsimpledecode_8c_source.html#l00356">dpvsimpledecode.c:356</a></div></div>
<div class="ttc" id="adpvsimpledecode_8h_html"><div class="ttname"><a href="dpvsimpledecode_8h.html">dpvsimpledecode.h</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0ca6beb91639137ae1b1b40c2029f951f6a"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca6beb91639137ae1b1b40c2029f951f6a">CACHEPICFLAG_QUIET</a></div><div class="ttdeci">@ CACHEPICFLAG_QUIET</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00037">draw.h:37</a></div></div>
<div class="ttc" id="adraw_8h_html_a0cfb2b535ebd749b1095c43c421d7d0ca9c37d55f3f6c032703ab8523a2865ae3"><div class="ttname"><a href="draw_8h.html#a0cfb2b535ebd749b1095c43c421d7d0ca9c37d55f3f6c032703ab8523a2865ae3">CACHEPICFLAG_NOTPERSISTENT</a></div><div class="ttdeci">@ CACHEPICFLAG_NOTPERSISTENT</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00036">draw.h:36</a></div></div>
<div class="ttc" id="adraw_8h_html_a22c12f7dabc03f2e086052521a2ec2fc"><div class="ttname"><a href="draw_8h.html#a22c12f7dabc03f2e086052521a2ec2fc">DrawQ_Fill</a></div><div class="ttdeci">void DrawQ_Fill(float x, float y, float width, float height, float red, float green, float blue, float alpha, int flags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00846">gl_draw.c:846</a></div></div>
<div class="ttc" id="adraw_8h_html_a26b285648113a722e4bffe3eca1f8aca"><div class="ttname"><a href="draw_8h.html#a26b285648113a722e4bffe3eca1f8aca">Draw_FreePic</a></div><div class="ttdeci">void Draw_FreePic(const char *picname)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00308">gl_draw.c:308</a></div></div>
<div class="ttc" id="adraw_8h_html_a4a29fbabcad426cddb939f9955a1f326"><div class="ttname"><a href="draw_8h.html#a4a29fbabcad426cddb939f9955a1f326">DrawQ_SuperPic</a></div><div class="ttdeci">void DrawQ_SuperPic(float x, float y, cachepic_t *pic, float width, float height, float s1, float t1, float r1, float g1, float b1, float a1, float s2, float t2, float r2, float g2, float b2, float a2, float s3, float t3, float r3, float g3, float b3, float a3, float s4, float t4, float r4, float g4, float b4, float a4, int flags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01378">gl_draw.c:1378</a></div></div>
<div class="ttc" id="adraw_8h_html_a5679fa1b6fdedb7b95b2bab96540b402"><div class="ttname"><a href="draw_8h.html#a5679fa1b6fdedb7b95b2bab96540b402">Draw_NewPic</a></div><div class="ttdeci">cachepic_t * Draw_NewPic(const char *picname, int width, int height, unsigned char *pixels, textype_t textype, int texflags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00255">gl_draw.c:255</a></div></div>
<div class="ttc" id="adraw_8h_html_a76f1009f2386b42dfad25268af32b1d3"><div class="ttname"><a href="draw_8h.html#a76f1009f2386b42dfad25268af32b1d3">DrawQ_String</a></div><div class="ttdeci">float DrawQ_String(float x, float y, const char *text, size_t maxlen, float scalex, float scaley, float basered, float basegreen, float baseblue, float basealpha, int flags, int *outcolor, qbool ignorecolorcodes, const dp_font_t *fnt)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01318">gl_draw.c:1318</a></div></div>
<div class="ttc" id="adraw_8h_html_a924bb151d47e7e82d9690f2b6537247d"><div class="ttname"><a href="draw_8h.html#a924bb151d47e7e82d9690f2b6537247d">Draw_CachePic_Flags</a></div><div class="ttdeci">cachepic_t * Draw_CachePic_Flags(const char *path, unsigned int cachepicflags)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00085">gl_draw.c:85</a></div></div>
<div class="ttc" id="adraw_8h_html_a9fc49f8bafec6291dd041c965b4849e4"><div class="ttname"><a href="draw_8h.html#a9fc49f8bafec6291dd041c965b4849e4">FONT_NOTIFY</a></div><div class="ttdeci">#define FONT_NOTIFY</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00131">draw.h:131</a></div></div>
<div class="ttc" id="adraw_8h_html_aa4629677424af2c7a2d8b6771723cfeb"><div class="ttname"><a href="draw_8h.html#aa4629677424af2c7a2d8b6771723cfeb">DrawQ_TextWidth</a></div><div class="ttdeci">float DrawQ_TextWidth(const char *text, size_t maxlen, float w, float h, qbool ignorecolorcodes, const dp_font_t *fnt)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01328">gl_draw.c:1328</a></div></div>
<div class="ttc" id="adraw_8h_html_abd0658fb0a72d565561f196b380026cb"><div class="ttname"><a href="draw_8h.html#abd0658fb0a72d565561f196b380026cb">Draw_GetPicTexture</a></div><div class="ttdeci">rtexture_t * Draw_GetPicTexture(cachepic_t *pic)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l00223">gl_draw.c:223</a></div></div>
<div class="ttc" id="adraw_8h_html_acb02c3ade677ca95cc43f3febab11208"><div class="ttname"><a href="draw_8h.html#acb02c3ade677ca95cc43f3febab11208">DrawQ_TextWidth_UntilWidth</a></div><div class="ttdeci">float DrawQ_TextWidth_UntilWidth(const char *text, size_t *maxlen, float w, float h, qbool ignorecolorcodes, const dp_font_t *fnt, float maxWidth)</div><div class="ttdef"><b>Definition</b> <a href="gl__draw_8c_source.html#l01333">gl_draw.c:1333</a></div></div>
<div class="ttc" id="adraw_8h_html_aeb1806e5d5237a283c9dc681f0e020ebafbce1b1f376f645e9f5bad540cbcf06c"><div class="ttname"><a href="draw_8h.html#aeb1806e5d5237a283c9dc681f0e020ebafbce1b1f376f645e9f5bad540cbcf06c">DRAWFLAG_NOGAMMA</a></div><div class="ttdeci">@ DRAWFLAG_NOGAMMA</div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00083">draw.h:82</a></div></div>
<div class="ttc" id="afs_8c_html_a03ffae625c1150af52b17342c57425ac"><div class="ttname"><a href="fs_8c.html#a03ffae625c1150af52b17342c57425ac">FS_FileExtension</a></div><div class="ttdeci">const char * FS_FileExtension(const char *in)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l01410">fs.c:1410</a></div></div>
<div class="ttc" id="afs_8c_html_a46b9b5ad3cc14f77ae63016505163128"><div class="ttname"><a href="fs_8c.html#a46b9b5ad3cc14f77ae63016505163128">FS_LoadFile</a></div><div class="ttdeci">unsigned char * FS_LoadFile(const char *path, mempool_t *pool, qbool quiet, fs_offset_t *filesizepointer)</div><div class="ttdef"><b>Definition</b> <a href="fs_8c_source.html#l03536">fs.c:3536</a></div></div>
<div class="ttc" id="afs_8c_html_a93257bedba32e45fc3f07bea139c0604"><div class="ttname"><a href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a></div><div class="ttdeci">static int(ZEXPORT *qz_inflate)(z_stream *strm</div></div>
<div class="ttc" id="agl__textures_8c_html_a114f2477dc7b969704fce4025b2a4b1b"><div class="ttname"><a href="gl__textures_8c.html#a114f2477dc7b969704fce4025b2a4b1b">R_FreeTexturePool</a></div><div class="ttdeci">void R_FreeTexturePool(rtexturepool_t **rtexturepool)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00403">gl_textures.c:403</a></div></div>
<div class="ttc" id="agl__textures_8c_html_a25f71b614773cdfbc85c0f70615298f2"><div class="ttname"><a href="gl__textures_8c.html#a25f71b614773cdfbc85c0f70615298f2">R_MakeTextureDynamic</a></div><div class="ttdeci">void R_MakeTextureDynamic(rtexture_t *rt, updatecallback_t updatecallback, void *data)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00326">gl_textures.c:326</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ab60a02391841e828427f5cc24cb5dd29"><div class="ttname"><a href="gl__textures_8c.html#ab60a02391841e828427f5cc24cb5dd29">R_AllocTexturePool</a></div><div class="ttdeci">rtexturepool_t * R_AllocTexturePool(void)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00389">gl_textures.c:389</a></div></div>
<div class="ttc" id="agl__textures_8c_html_ad1af1abc226ad21cf0f43b00f90afd70"><div class="ttname"><a href="gl__textures_8c.html#ad1af1abc226ad21cf0f43b00f90afd70">R_MarkDirtyTexture</a></div><div class="ttdeci">void R_MarkDirtyTexture(rtexture_t *rt)</div><div class="ttdef"><b>Definition</b> <a href="gl__textures_8c_source.html#l00312">gl_textures.c:312</a></div></div>
<div class="ttc" id="aglquake_8h_html_a0e843e6cb4b0547b3a2b414af3d53a53"><div class="ttname"><a href="glquake_8h.html#a0e843e6cb4b0547b3a2b414af3d53a53">width</a></div><div class="ttdeci">GLenum GLsizei width</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00621">glquake.h:621</a></div></div>
<div class="ttc" id="aglquake_8h_html_a161f4efd20c5f2bfc9a7c49c07be7ed7"><div class="ttname"><a href="glquake_8h.html#a161f4efd20c5f2bfc9a7c49c07be7ed7">w</a></div><div class="ttdeci">GLubyte GLubyte GLubyte GLubyte w</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00781">glquake.h:781</a></div></div>
<div class="ttc" id="aglquake_8h_html_a486f808b7baede12df3669de9b413b92"><div class="ttname"><a href="glquake_8h.html#a486f808b7baede12df3669de9b413b92">length</a></div><div class="ttdeci">GLenum GLuint GLenum GLsizei length</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00656">glquake.h:656</a></div></div>
<div class="ttc" id="aglquake_8h_html_a75c9c896e11dc1eed9f9f1180b86d099"><div class="ttname"><a href="glquake_8h.html#a75c9c896e11dc1eed9f9f1180b86d099">x</a></div><div class="ttdeci">GLint GLenum GLint x</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00650">glquake.h:650</a></div></div>
<div class="ttc" id="aglquake_8h_html_a820662f5b80a48256e2503352e9f51b9"><div class="ttname"><a href="glquake_8h.html#a820662f5b80a48256e2503352e9f51b9">data</a></div><div class="ttdeci">GLsizeiptr const GLvoid * data</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00638">glquake.h:638</a></div></div>
<div class="ttc" id="aglquake_8h_html_ac615821e7cf9469189648617cb1275be"><div class="ttname"><a href="glquake_8h.html#ac615821e7cf9469189648617cb1275be">name</a></div><div class="ttdeci">const GLchar * name</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00600">glquake.h:600</a></div></div>
<div class="ttc" id="aglquake_8h_html_af7ca775b6d9354291c4d7d01b8b2a8bc"><div class="ttname"><a href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00628">glquake.h:628</a></div></div>
<div class="ttc" id="ahost_8c_html_a18cf3cec0ecbf5cc14125f494c49023d"><div class="ttname"><a href="host_8c.html#a18cf3cec0ecbf5cc14125f494c49023d">host</a></div><div class="ttdeci">host_static_t host</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00041">host.c:41</a></div></div>
<div class="ttc" id="akeys_8h_html_a05e805a865e544a8624a992ac73650d1a6c41000e85ae80262d0b2284c1d3f23c"><div class="ttname"><a href="keys_8h.html#a05e805a865e544a8624a992ac73650d1a6c41000e85ae80262d0b2284c1d3f23c">K_ENTER</a></div><div class="ttdeci">@ K_ENTER</div><div class="ttdef"><b>Definition</b> <a href="keys_8h_source.html#l00055">keys.h:55</a></div></div>
<div class="ttc" id="akeys_8h_html_a05e805a865e544a8624a992ac73650d1a8992bd7284d03c0ba490b43d5bf02892"><div class="ttname"><a href="keys_8h.html#a05e805a865e544a8624a992ac73650d1a8992bd7284d03c0ba490b43d5bf02892">K_ESCAPE</a></div><div class="ttdeci">@ K_ESCAPE</div><div class="ttdef"><b>Definition</b> <a href="keys_8h_source.html#l00056">keys.h:56</a></div></div>
<div class="ttc" id="akeys_8h_html_a05e805a865e544a8624a992ac73650d1ad1890ea20e6fef77cc4000ca19a916b5"><div class="ttname"><a href="keys_8h.html#a05e805a865e544a8624a992ac73650d1ad1890ea20e6fef77cc4000ca19a916b5">K_SPACE</a></div><div class="ttdeci">@ K_SPACE</div><div class="ttdef"><b>Definition</b> <a href="keys_8h_source.html#l00057">keys.h:57</a></div></div>
<div class="ttc" id="amathlib_8h_html_a24e753bacac6be5f30e18f8a2bdefda4"><div class="ttname"><a href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a></div><div class="ttdeci">#define max(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00038">mathlib.h:38</a></div></div>
<div class="ttc" id="amathlib_8h_html_a2d017cd3beb218080a7988e2deed2a11"><div class="ttname"><a href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a></div><div class="ttdeci">#define min(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00037">mathlib.h:37</a></div></div>
<div class="ttc" id="amathlib_8h_html_a553641b2aac0b2a7c43f9f74f8333fd5"><div class="ttname"><a href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a></div><div class="ttdeci">#define bound(min, num, max)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00034">mathlib.h:34</a></div></div>
<div class="ttc" id="aprvm__execprogram_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition</b> <a href="prvm__execprogram_8h_source.html#l00002">prvm_execprogram.h:2</a></div></div>
<div class="ttc" id="aqdefs_8h_html_a6c1fc540567bf862322e6d1a1d191a21"><div class="ttname"><a href="qdefs_8h.html#a6c1fc540567bf862322e6d1a1d191a21">MAXCLVIDEOS</a></div><div class="ttdeci">#define MAXCLVIDEOS</div><div class="ttdoc">maximum number of video streams being played back at once (1 is reserved for the playvideo command)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00138">qdefs.h:138</a></div></div>
<div class="ttc" id="aqdefs_8h_html_abd4ae30fcfdcbbff51bbf3f4e6daeee7"><div class="ttname"><a href="qdefs_8h.html#abd4ae30fcfdcbbff51bbf3f4e6daeee7">MAX_QPATH</a></div><div class="ttdeci">#define MAX_QPATH</div><div class="ttdoc">max length of a quake game pathname</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00169">qdefs.h:169</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00012">qtypes.h:12</a></div></div>
<div class="ttc" id="aqtypes_8h_html_aa250998bce2dc350e4f644297bb579c3"><div class="ttname"><a href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a></div><div class="ttdeci">bool qbool</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00009">qtypes.h:9</a></div></div>
<div class="ttc" id="aquakedef_8h_html"><div class="ttname"><a href="quakedef_8h.html">quakedef.h</a></div></div>
<div class="ttc" id="ar__modules_8c_html_a7f982eee49a26b26f015596ac96edea0"><div class="ttname"><a href="r__modules_8c.html#a7f982eee49a26b26f015596ac96edea0">R_RegisterModule</a></div><div class="ttdeci">void R_RegisterModule(const char *name, void(*start)(void), void(*shutdown)(void), void(*newmap)(void), void(*devicelost)(void), void(*devicerestored)(void))</div><div class="ttdef"><b>Definition</b> <a href="r__modules_8c_source.html#l00025">r_modules.c:25</a></div></div>
<div class="ttc" id="ar__textures_8h_html_ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094"><div class="ttname"><a href="r__textures_8h.html#ab388bb02f3e8f998bf84eba7404aec49ab887b36a912241930415c7f1db44d094">TEXTYPE_BGRA</a></div><div class="ttdeci">@ TEXTYPE_BGRA</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00053">r_textures.h:53</a></div></div>
<div class="ttc" id="ar__textures_8h_html_abe4e0ad1d375c912287a2f199bf6352a"><div class="ttname"><a href="r__textures_8h.html#abe4e0ad1d375c912287a2f199bf6352a">TEXF_CLAMP</a></div><div class="ttdeci">#define TEXF_CLAMP</div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00015">r_textures.h:15</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a2ab77c89eb79b49ccd22bb1b2ad48bf1"><div class="ttname"><a href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a></div><div class="ttdeci">precision highp float</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00045">shader_glsl.h:45</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ac369ee41cd9c6dc18e09c3293e27cf81"><div class="ttname"><a href="shader__glsl_8h.html#ac369ee41cd9c6dc18e09c3293e27cf81">b</a></div><div class="ttdeci">dp_FragColor b</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00386">shader_glsl.h:386</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ada7daae51ef1e670767c18b83ea78044"><div class="ttname"><a href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a></div><div class="ttdeci">ret a</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00296">shader_glsl.h:296</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_adfa1e01d266867c3c98e1651a56241af"><div class="ttname"><a href="shader__glsl_8h.html#adfa1e01d266867c3c98e1651a56241af">px</a></div><div class="ttdeci">vec2 px</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00324">shader_glsl.h:324</a></div></div>
<div class="ttc" id="astructcl__video__subtitle__info__t_html"><div class="ttname"><a href="structcl__video__subtitle__info__t.html">cl_video_subtitle_info_t</a></div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00420">cl_video.c:421</a></div></div>
<div class="ttc" id="astructcl__video__subtitle__info__t_html_a004c59b6eb9e9e502f7efa6bcda49983"><div class="ttname"><a href="structcl__video__subtitle__info__t.html#a004c59b6eb9e9e502f7efa6bcda49983">cl_video_subtitle_info_t::x</a></div><div class="ttdeci">float x</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00423">cl_video.c:423</a></div></div>
<div class="ttc" id="astructcl__video__subtitle__info__t_html_a010f4e515621a96411bd2346ef7f1996"><div class="ttname"><a href="structcl__video__subtitle__info__t.html#a010f4e515621a96411bd2346ef7f1996">cl_video_subtitle_info_t::height</a></div><div class="ttdeci">float height</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00426">cl_video.c:426</a></div></div>
<div class="ttc" id="astructcl__video__subtitle__info__t_html_a518b8a151eccb9e2613f4a79dbdc5081"><div class="ttname"><a href="structcl__video__subtitle__info__t.html#a518b8a151eccb9e2613f4a79dbdc5081">cl_video_subtitle_info_t::y</a></div><div class="ttdeci">float y</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00424">cl_video.c:424</a></div></div>
<div class="ttc" id="astructcl__video__subtitle__info__t_html_a7f6b492c43c49704a5d0526697ea55c6"><div class="ttname"><a href="structcl__video__subtitle__info__t.html#a7f6b492c43c49704a5d0526697ea55c6">cl_video_subtitle_info_t::alignment</a></div><div class="ttdeci">float alignment</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00427">cl_video.c:427</a></div></div>
<div class="ttc" id="astructcl__video__subtitle__info__t_html_a971c2c83d4cc57fd7989585cc327f3e1"><div class="ttname"><a href="structcl__video__subtitle__info__t.html#a971c2c83d4cc57fd7989585cc327f3e1">cl_video_subtitle_info_t::font</a></div><div class="ttdeci">dp_font_t * font</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00422">cl_video.c:422</a></div></div>
<div class="ttc" id="astructcl__video__subtitle__info__t_html_aac63d736960a7b56b4d1ffbc0f3103bc"><div class="ttname"><a href="structcl__video__subtitle__info__t.html#aac63d736960a7b56b4d1ffbc0f3103bc">cl_video_subtitle_info_t::textalpha</a></div><div class="ttdeci">float textalpha</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00429">cl_video.c:429</a></div></div>
<div class="ttc" id="astructcl__video__subtitle__info__t_html_ab5f78183f91acae3075dc45cb615cafc"><div class="ttname"><a href="structcl__video__subtitle__info__t.html#ab5f78183f91acae3075dc45cb615cafc">cl_video_subtitle_info_t::fontsize</a></div><div class="ttdeci">float fontsize</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00428">cl_video.c:428</a></div></div>
<div class="ttc" id="astructcl__video__subtitle__info__t_html_ad07a98ea0bd6a7a632d39580e93de6b1"><div class="ttname"><a href="structcl__video__subtitle__info__t.html#ad07a98ea0bd6a7a632d39580e93de6b1">cl_video_subtitle_info_t::width</a></div><div class="ttdeci">float width</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8c_source.html#l00425">cl_video.c:425</a></div></div>
<div class="ttc" id="astructclient__static__t_html_a1cb0574c7da3dbf46f502d181813cc9c"><div class="ttname"><a href="structclient__static__t.html#a1cb0574c7da3dbf46f502d181813cc9c">client_static_t::permanentmempool</a></div><div class="ttdeci">mempool_t * permanentmempool</div><div class="ttdef"><b>Definition</b> <a href="client_8h_source.html#l00573">client.h:573</a></div></div>
<div class="ttc" id="astructclvideo__t_html"><div class="ttname"><a href="structclvideo__t.html">clvideo_t</a></div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00035">cl_video.h:36</a></div></div>
<div class="ttc" id="astructclvideo__t_html_a04b09966884250b8bf12ddb0edb48fad"><div class="ttname"><a href="structclvideo__t.html#a04b09966884250b8bf12ddb0edb48fad">clvideo_t::stream</a></div><div class="ttdeci">void * stream</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00041">cl_video.h:41</a></div></div>
<div class="ttc" id="astructclvideo__t_html_a46a0b30e8e959ef60771f406fee30f38"><div class="ttname"><a href="structclvideo__t.html#a46a0b30e8e959ef60771f406fee30f38">clvideo_t::state</a></div><div class="ttdeci">clvideostate_t state</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00038">cl_video.h:38</a></div></div>
<div class="ttc" id="astructclvideo__t_html_ac7d1b050491e5e68ff3f151fcbef440b"><div class="ttname"><a href="structclvideo__t.html#ac7d1b050491e5e68ff3f151fcbef440b">clvideo_t::framenum</a></div><div class="ttdeci">int framenum</div><div class="ttdef"><b>Definition</b> <a href="cl__video_8h_source.html#l00044">cl_video.h:44</a></div></div>
<div class="ttc" id="astructcmd__state__t_html"><div class="ttname"><a href="structcmd__state__t.html">cmd_state_t</a></div><div class="ttdoc">command interpreter state - the tokenizing and execution of commands, as well as pointers to which cv...</div><div class="ttdef"><b>Definition</b> <a href="cmd_8h_source.html#l00126">cmd.h:127</a></div></div>
<div class="ttc" id="astructcvar__t_html"><div class="ttname"><a href="structcvar__t.html">cvar_t</a></div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00065">cvar.h:66</a></div></div>
<div class="ttc" id="astructcvar__t_html_a305faa0167494135297f1b8e6216d469"><div class="ttname"><a href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">cvar_t::value</a></div><div class="ttdeci">float value</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00074">cvar.h:74</a></div></div>
<div class="ttc" id="astructcvar__t_html_a376ca13f147f306d71edbe7670e138b0"><div class="ttname"><a href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">cvar_t::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00073">cvar.h:73</a></div></div>
<div class="ttc" id="astructdp__font__t_html"><div class="ttname"><a href="structdp__font__t.html">dp_font_t</a></div><div class="ttdef"><b>Definition</b> <a href="draw_8h_source.html#l00097">draw.h:98</a></div></div>
<div class="ttc" id="astructhost__static__t_html_ac38d937c03a5f5f973a77641c0ae1280"><div class="ttname"><a href="structhost__static__t.html#ac38d937c03a5f5f973a77641c0ae1280">host_static_t::realtime</a></div><div class="ttdeci">double realtime</div><div class="ttdef"><b>Definition</b> <a href="host_8h_source.html#l00037">host.h:37</a></div></div>
<div class="ttc" id="astructrtexture__t_html"><div class="ttname"><a href="structrtexture__t.html">rtexture_t</a></div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00107">r_textures.h:108</a></div></div>
<div class="ttc" id="astructrtexturepool__t_html"><div class="ttname"><a href="structrtexturepool__t.html">rtexturepool_t</a></div><div class="ttdef"><b>Definition</b> <a href="r__textures_8h_source.html#l00119">r_textures.h:120</a></div></div>
<div class="ttc" id="astructviddef__mode__t_html_ab7668ca210f41ea77dd577c0281a0829"><div class="ttname"><a href="structviddef__mode__t.html#ab7668ca210f41ea77dd577c0281a0829">viddef_mode_t::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00060">vid.h:60</a></div></div>
<div class="ttc" id="astructviddef__mode__t_html_ade45897f34f14732feed7d1c1716c508"><div class="ttname"><a href="structviddef__mode__t.html#ade45897f34f14732feed7d1c1716c508">viddef_mode_t::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00061">vid.h:61</a></div></div>
<div class="ttc" id="astructviddef__t_html_aa54d3f3674dac40e0f7776a471d2400d"><div class="ttname"><a href="structviddef__t.html#aa54d3f3674dac40e0f7776a471d2400d">viddef_t::mode</a></div><div class="ttdeci">viddef_mode_t mode</div><div class="ttdoc">currently active video mode</div><div class="ttdef"><b>Definition</b> <a href="vid_8h_source.html#l00073">vid.h:73</a></div></div>
<div class="ttc" id="asys_8h_html_ae9b9461780a044853793708c49317b28"><div class="ttname"><a href="sys_8h.html#ae9b9461780a044853793708c49317b28">Sys_CheckParm</a></div><div class="ttdeci">int Sys_CheckParm(const char *parm)</div><div class="ttdef"><b>Definition</b> <a href="sys__shared_8c_source.html#l00318">sys_shared.c:318</a></div></div>
<div class="ttc" id="avid_8h_html_aa5f05f6f860c65da5834d6ff3d5655af"><div class="ttname"><a href="vid_8h.html#aa5f05f6f860c65da5834d6ff3d5655af">vid</a></div><div class="ttdeci">viddef_t vid</div><div class="ttdef"><b>Definition</b> <a href="vid__shared_8c_source.html#l00064">vid_shared.c:64</a></div></div>
<div class="ttc" id="azone_8h_html_a06bb588bb8d0406e051f04c1ca723d28"><div class="ttname"><a href="zone_8h.html#a06bb588bb8d0406e051f04c1ca723d28">Mem_Free</a></div><div class="ttdeci">#define Mem_Free(mem)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00096">zone.h:96</a></div></div>
<div class="ttc" id="azone_8h_html_a1f8b0c54fe3d32858da2b13a4f7e5783"><div class="ttname"><a href="zone_8h.html#a1f8b0c54fe3d32858da2b13a4f7e5783">Mem_Alloc</a></div><div class="ttdeci">#define Mem_Alloc(pool, size)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00092">zone.h:92</a></div></div>
<div class="ttc" id="azone_8h_html_abbce8ea44a12486a6b59f31f02bab5ee"><div class="ttname"><a href="zone_8h.html#abbce8ea44a12486a6b59f31f02bab5ee">Z_Free</a></div><div class="ttdeci">#define Z_Free(data)</div><div class="ttdef"><b>Definition</b> <a href="zone_8h_source.html#l00164">zone.h:164</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="cl__video_8c.html">cl_video.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
