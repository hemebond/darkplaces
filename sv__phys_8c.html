<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DarkPlaces: sv_phys.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-customisations.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="darkplaces48x48.png"/></td>
  <td id="projectalign">
   <div id="projectname">DarkPlaces
   </div>
   <div id="projectbrief">Game engine based on the Quake 1 engine by id Software, developed by LadyHavoc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('sv__phys_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sv_phys.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="quakedef_8h_source.html">quakedef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="prvm__cmds_8h_source.html">prvm_cmds.h</a>&quot;</code><br />
</div>
<p><a href="sv__phys_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac89f00253dad4d6a1f343f5cbe8bf8f1" id="r_ac89f00253dad4d6a1f343f5cbe8bf8f1"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#ac89f00253dad4d6a1f343f5cbe8bf8f1">MOVE_EPSILON</a>&#160;&#160;&#160;0.01</td></tr>
<tr class="separator:ac89f00253dad4d6a1f343f5cbe8bf8f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002b2f4894492820fe708b1b7e7c5e70" id="r_a002b2f4894492820fe708b1b7e7c5e70"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>&#160;&#160;&#160;(1.0f / 32.0f)</td></tr>
<tr class="separator:a002b2f4894492820fe708b1b7e7c5e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0286e1faffe993ccf0f840a5bdd2a6d" id="r_aa0286e1faffe993ccf0f840a5bdd2a6d"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#aa0286e1faffe993ccf0f840a5bdd2a6d">STOP_EPSILON</a>&#160;&#160;&#160;0.1</td></tr>
<tr class="separator:aa0286e1faffe993ccf0f840a5bdd2a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb2ac25ccfb31c7c98e9971a95cd497" id="r_a1cb2ac25ccfb31c7c98e9971a95cd497"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a1cb2ac25ccfb31c7c98e9971a95cd497">MAX_CLIP_PLANES</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a1cb2ac25ccfb31c7c98e9971a95cd497"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5a79f04ac25aa0ae08e0da15a837777e" id="r_a5a79f04ac25aa0ae08e0da15a837777e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777e">unstickresult_t</a> { <a class="el" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eac0bb7bd6a72614c53310515736c56d2d">UNSTICK_STUCK</a> = 0
, <a class="el" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777ea48168325fd835a3de54128f124f85005">UNSTICK_GOOD</a> = 1
, <a class="el" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eaee2814c902c6b06efbf5668fab167d69">UNSTICK_UNSTUCK</a> = 2
 }</td></tr>
<tr class="separator:a5a79f04ac25aa0ae08e0da15a837777e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a60082ef2895da6c7b2e7611ebc04e134" id="r_a60082ef2895da6c7b2e7611ebc04e134"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a60082ef2895da6c7b2e7611ebc04e134">SV_Physics_Toss</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a60082ef2895da6c7b2e7611ebc04e134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f309efdaf1bf1697cab684fcc9afaae" id="r_a9f309efdaf1bf1697cab684fcc9afaae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a9f309efdaf1bf1697cab684fcc9afaae">SV_GetPitchSign</a> (<a class="el" href="structprvm__prog__t.html">prvm_prog_t</a> *prog, <a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a9f309efdaf1bf1697cab684fcc9afaae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50467ff3df4ef36847a93af296c57d2c" id="r_a50467ff3df4ef36847a93af296c57d2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>)</td></tr>
<tr class="memdesc:a50467ff3df4ef36847a93af296c57d2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates hitsupercontentsmask for a generic qc entity  <br /></td></tr>
<tr class="separator:a50467ff3df4ef36847a93af296c57d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6c6bd13d64fc03beb5cac849892747" id="r_a1e6c6bd13d64fc03beb5cac849892747"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrace__t.html">trace_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a1e6c6bd13d64fc03beb5cac849892747">SV_TracePoint</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, <a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask)</td></tr>
<tr class="separator:a1e6c6bd13d64fc03beb5cac849892747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70632daf1b4426714e43ccb49d60368d" id="r_a70632daf1b4426714e43ccb49d60368d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrace__t.html">trace_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a70632daf1b4426714e43ccb49d60368d">SV_TraceLine</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, <a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask, <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> extend)</td></tr>
<tr class="separator:a70632daf1b4426714e43ccb49d60368d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0c162bba7ef44fcfa201affd5c853ee" id="r_af0c162bba7ef44fcfa201affd5c853ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrace__t.html">trace_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#af0c162bba7ef44fcfa201affd5c853ee">SV_TraceBox</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> maxs, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, <a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask, <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> extend)</td></tr>
<tr class="memdesc:af0c162bba7ef44fcfa201affd5c853ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">traces a box move against worldmodel and all entities in the specified area  <br /></td></tr>
<tr class="separator:af0c162bba7ef44fcfa201affd5c853ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc73364265c2ee1c656afa098ebb712c" id="r_abc73364265c2ee1c656afa098ebb712c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#abc73364265c2ee1c656afa098ebb712c">SV_PointSuperContents</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>)</td></tr>
<tr class="separator:abc73364265c2ee1c656afa098ebb712c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917c9043f29f4272fd300c402d4622a0" id="r_a917c9043f29f4272fd300c402d4622a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a917c9043f29f4272fd300c402d4622a0">SV_EntitiesInBox</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> maxs, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> maxedicts, <a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> **<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultedicts</a>)</td></tr>
<tr class="separator:a917c9043f29f4272fd300c402d4622a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67095d474fa0b88721f6ec8ea3a576c1" id="r_a67095d474fa0b88721f6ec8ea3a576c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a67095d474fa0b88721f6ec8ea3a576c1">SV_LinkEdict_TouchAreaGrid_Call</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *touch, <a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a67095d474fa0b88721f6ec8ea3a576c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde235834ab0ac8d11bb81b9e14cff61" id="r_afde235834ab0ac8d11bb81b9e14cff61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#afde235834ab0ac8d11bb81b9e14cff61">SV_LinkEdict_TouchAreaGrid</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:afde235834ab0ac8d11bb81b9e14cff61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d94ecae3652a53c97431138a3dfce4" id="r_af8d94ecae3652a53c97431138a3dfce4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#af8d94ecae3652a53c97431138a3dfce4">RotateBBox</a> (<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> maxs, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> angles, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> rotatedmins, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> rotatedmaxs)</td></tr>
<tr class="separator:af8d94ecae3652a53c97431138a3dfce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c9f31122176959d30eba9f864f843ef" id="r_a7c9f31122176959d30eba9f864f843ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a7c9f31122176959d30eba9f864f843ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630147d09cc18c1e11b594adc364a7fe" id="r_a630147d09cc18c1e11b594adc364a7fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a630147d09cc18c1e11b594adc364a7fe">SV_TestEntityPosition</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>)</td></tr>
<tr class="separator:a630147d09cc18c1e11b594adc364a7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accbf009b322da0655d6e080e0b28c984" id="r_accbf009b322da0655d6e080e0b28c984"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#accbf009b322da0655d6e080e0b28c984">SV_CheckContentsTransition</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent, <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nContents</a>)</td></tr>
<tr class="separator:accbf009b322da0655d6e080e0b28c984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9864353b8cb7a611ab22039ad7aa42ee" id="r_a9864353b8cb7a611ab22039ad7aa42ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a9864353b8cb7a611ab22039ad7aa42ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485731d3cafe0f22d9f8721d53d6c5ec" id="r_a485731d3cafe0f22d9f8721d53d6c5ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a485731d3cafe0f22d9f8721d53d6c5ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3974b72887136f11d2cbaa89bcf06b5a" id="r_a3974b72887136f11d2cbaa89bcf06b5a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a3974b72887136f11d2cbaa89bcf06b5a">SV_Impact</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, <a class="el" href="structtrace__t.html">trace_t</a> *trace)</td></tr>
<tr class="separator:a3974b72887136f11d2cbaa89bcf06b5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a37c42478a1c07683b8f073313d512" id="r_a29a37c42478a1c07683b8f073313d512"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a29a37c42478a1c07683b8f073313d512">ClipVelocity</a> (<a class="el" href="qtypes_8h.html#a74bc4b300862fe52bf3d855e89caff65">prvm_vec3_t</a> in, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>, <a class="el" href="qtypes_8h.html#a74bc4b300862fe52bf3d855e89caff65">prvm_vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>, <a class="el" href="qtypes_8h.html#ad5100de260acb46c4ec063e0bcf7a2f2">prvm_vec_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">overbounce</a>)</td></tr>
<tr class="separator:a29a37c42478a1c07683b8f073313d512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e6d7a6770a04986938885706e85ff3" id="r_a91e6d7a6770a04986938885706e85ff3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a91e6d7a6770a04986938885706e85ff3">SV_Gravity</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a91e6d7a6770a04986938885706e85ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747b50bcc3f85c8f91b7af1e000bbd9b" id="r_a747b50bcc3f85c8f91b7af1e000bbd9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a747b50bcc3f85c8f91b7af1e000bbd9b">SV_PushEntity</a> (<a class="el" href="structtrace__t.html">trace_t</a> *trace, <a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">push</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dolink</a>, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkstuck</a>)</td></tr>
<tr class="separator:a747b50bcc3f85c8f91b7af1e000bbd9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6d1ea2732f173ee2bd33eecec39b34e" id="r_aa6d1ea2732f173ee2bd33eecec39b34e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#aa6d1ea2732f173ee2bd33eecec39b34e">SV_FlyMove</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent, <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> time, <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">applygravity</a>, <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stepnormal</a>, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> hitsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipsupercontentsmask, <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> skipmaterialflagsmask, <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> stepheight)</td></tr>
<tr class="separator:aa6d1ea2732f173ee2bd33eecec39b34e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb487bd3f848165c9ac4f679de7b5973" id="r_adb487bd3f848165c9ac4f679de7b5973"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#adb487bd3f848165c9ac4f679de7b5973">SV_NudgeOutOfSolid_PivotIsKnownGood</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pivot</a>)</td></tr>
<tr class="separator:adb487bd3f848165c9ac4f679de7b5973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3f2eb55eb8c77ccc80ac7f70c6d047b" id="r_ac3f2eb55eb8c77ccc80ac7f70c6d047b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#ac3f2eb55eb8c77ccc80ac7f70c6d047b">SV_PushMove</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> <a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>)</td></tr>
<tr class="separator:ac3f2eb55eb8c77ccc80ac7f70c6d047b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca69f22dc97de2d3e4247c2b2211aff" id="r_a0ca69f22dc97de2d3e4247c2b2211aff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a0ca69f22dc97de2d3e4247c2b2211aff">SV_Physics_Pusher</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a0ca69f22dc97de2d3e4247c2b2211aff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cbad144a166bf4db6cc56c53daefe24" id="r_a7cbad144a166bf4db6cc56c53daefe24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777e">unstickresult_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a7cbad144a166bf4db6cc56c53daefe24">SV_UnstickEntityReturnOffset</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent, <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="el" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>)</td></tr>
<tr class="separator:a7cbad144a166bf4db6cc56c53daefe24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16993e214594ce4afc656210f19c602e" id="r_a16993e214594ce4afc656210f19c602e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a16993e214594ce4afc656210f19c602e">SV_UnstickEntity</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a16993e214594ce4afc656210f19c602e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5c359554d0e8e8954d33ebd8f27e276" id="r_aa5c359554d0e8e8954d33ebd8f27e276"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#aa5c359554d0e8e8954d33ebd8f27e276">SV_CheckStuck</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:aa5c359554d0e8e8954d33ebd8f27e276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22c70318aed81f65c06068a81c50cac7" id="r_a22c70318aed81f65c06068a81c50cac7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a22c70318aed81f65c06068a81c50cac7">SV_CheckWater</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a22c70318aed81f65c06068a81c50cac7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef8b5003feec0ade5df5648224e6e02" id="r_aeef8b5003feec0ade5df5648224e6e02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#aeef8b5003feec0ade5df5648224e6e02">SV_WallFriction</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent, <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> *<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stepnormal</a>)</td></tr>
<tr class="separator:aeef8b5003feec0ade5df5648224e6e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39de15c3df1ba58404265c889931685f" id="r_a39de15c3df1ba58404265c889931685f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a39de15c3df1ba58404265c889931685f">SV_WalkMove</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a39de15c3df1ba58404265c889931685f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bbe0231383c81c36b2428e49333d74f" id="r_a6bbe0231383c81c36b2428e49333d74f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a6bbe0231383c81c36b2428e49333d74f">SV_Physics_Follow</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a6bbe0231383c81c36b2428e49333d74f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f6383278aa38f1dbbcfb8bbc456a50e" id="r_a9f6383278aa38f1dbbcfb8bbc456a50e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a9f6383278aa38f1dbbcfb8bbc456a50e">SV_CheckWaterTransition</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a9f6383278aa38f1dbbcfb8bbc456a50e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c10775ac9a230cf43270bb8b914fa59" id="r_a4c10775ac9a230cf43270bb8b914fa59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a4c10775ac9a230cf43270bb8b914fa59">SV_Physics_Step</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a4c10775ac9a230cf43270bb8b914fa59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4ce51a8d3dfc13dcd113ce2df4248e" id="r_afa4ce51a8d3dfc13dcd113ce2df4248e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#afa4ce51a8d3dfc13dcd113ce2df4248e">SV_Physics_Entity</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:afa4ce51a8d3dfc13dcd113ce2df4248e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79963a1314dda65a82e42c7d54d78a49" id="r_a79963a1314dda65a82e42c7d54d78a49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a79963a1314dda65a82e42c7d54d78a49">SV_Physics_ClientEntity_NoThink</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a79963a1314dda65a82e42c7d54d78a49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb35a099ede593306dda33b0e5a01b81" id="r_afb35a099ede593306dda33b0e5a01b81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#afb35a099ede593306dda33b0e5a01b81">SV_Physics_ClientMove</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:afb35a099ede593306dda33b0e5a01b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6b58a40a0f70093b8f5a0d3aa81750" id="r_a1e6b58a40a0f70093b8f5a0d3aa81750"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a1e6b58a40a0f70093b8f5a0d3aa81750">SV_Physics_ClientEntity_PreThink</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a1e6b58a40a0f70093b8f5a0d3aa81750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e566493d28cbe7512e5a9f425c46284" id="r_a9e566493d28cbe7512e5a9f425c46284"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a9e566493d28cbe7512e5a9f425c46284">SV_Physics_ClientEntity_PostThink</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:a9e566493d28cbe7512e5a9f425c46284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed8bfbee5a21df58184958fc3b1de414" id="r_aed8bfbee5a21df58184958fc3b1de414"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#aed8bfbee5a21df58184958fc3b1de414">SV_Physics_ClientEntity</a> (<a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *ent)</td></tr>
<tr class="separator:aed8bfbee5a21df58184958fc3b1de414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae711dbec1d0bbf081f1048e3d3310807" id="r_ae711dbec1d0bbf081f1048e3d3310807"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#ae711dbec1d0bbf081f1048e3d3310807">SV_Physics</a> (<a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>)</td></tr>
<tr class="separator:ae711dbec1d0bbf081f1048e3d3310807"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3fb3d2c90985f8b7fed374d8a567a164" id="r_a3fb3d2c90985f8b7fed374d8a567a164"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv__phys_8c.html#a3fb3d2c90985f8b7fed374d8a567a164">unstickoffsets</a> []</td></tr>
<tr class="separator:a3fb3d2c90985f8b7fed374d8a567a164"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a002b2f4894492820fe708b1b7e7c5e70" name="a002b2f4894492820fe708b1b7e7c5e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a002b2f4894492820fe708b1b7e7c5e70">&#9670;&#160;</a></span>EPSILON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> EPSILON&#160;&#160;&#160;(1.0f / 32.0f)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1cb2ac25ccfb31c7c98e9971a95cd497" name="a1cb2ac25ccfb31c7c98e9971a95cd497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cb2ac25ccfb31c7c98e9971a95cd497">&#9670;&#160;</a></span>MAX_CLIP_PLANES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> MAX_CLIP_PLANES&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l01198">1198</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>

</div>
</div>
<a id="ac89f00253dad4d6a1f343f5cbe8bf8f1" name="ac89f00253dad4d6a1f343f5cbe8bf8f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac89f00253dad4d6a1f343f5cbe8bf8f1">&#9670;&#160;</a></span>MOVE_EPSILON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> MOVE_EPSILON&#160;&#160;&#160;0.01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00043">43</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>

</div>
</div>
<a id="aa0286e1faffe993ccf0f840a5bdd2a6d" name="aa0286e1faffe993ccf0f840a5bdd2a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0286e1faffe993ccf0f840a5bdd2a6d">&#9670;&#160;</a></span>STOP_EPSILON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">define</a> STOP_EPSILON&#160;&#160;&#160;0.1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l01168">1168</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a5a79f04ac25aa0ae08e0da15a837777e" name="a5a79f04ac25aa0ae08e0da15a837777e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a79f04ac25aa0ae08e0da15a837777e">&#9670;&#160;</a></span>unstickresult_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">enum</a> <a class="el" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777e">unstickresult_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5a79f04ac25aa0ae08e0da15a837777eac0bb7bd6a72614c53310515736c56d2d" name="a5a79f04ac25aa0ae08e0da15a837777eac0bb7bd6a72614c53310515736c56d2d"></a>UNSTICK_STUCK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5a79f04ac25aa0ae08e0da15a837777ea48168325fd835a3de54128f124f85005" name="a5a79f04ac25aa0ae08e0da15a837777ea48168325fd835a3de54128f124f85005"></a>UNSTICK_GOOD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5a79f04ac25aa0ae08e0da15a837777eaee2814c902c6b06efbf5668fab167d69" name="a5a79f04ac25aa0ae08e0da15a837777eaee2814c902c6b06efbf5668fab167d69"></a>UNSTICK_UNSTUCK&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02035">2035</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2036</span>{</div>
<div class="line"><span class="lineno"> 2037</span>    <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eac0bb7bd6a72614c53310515736c56d2d">UNSTICK_STUCK</a> = 0,</div>
<div class="line"><span class="lineno"> 2038</span>    <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777ea48168325fd835a3de54128f124f85005">UNSTICK_GOOD</a> = 1,</div>
<div class="line"><span class="lineno"> 2039</span>    <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eaee2814c902c6b06efbf5668fab167d69">UNSTICK_UNSTUCK</a> = 2</div>
<div class="line"><span class="lineno"> 2040</span>}</div>
<div class="ttc" id="asv__phys_8c_html_a5a79f04ac25aa0ae08e0da15a837777ea48168325fd835a3de54128f124f85005"><div class="ttname"><a href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777ea48168325fd835a3de54128f124f85005">UNSTICK_GOOD</a></div><div class="ttdeci">@ UNSTICK_GOOD</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02038">sv_phys.c:2038</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a5a79f04ac25aa0ae08e0da15a837777eac0bb7bd6a72614c53310515736c56d2d"><div class="ttname"><a href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eac0bb7bd6a72614c53310515736c56d2d">UNSTICK_STUCK</a></div><div class="ttdeci">@ UNSTICK_STUCK</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02037">sv_phys.c:2037</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a5a79f04ac25aa0ae08e0da15a837777eaee2814c902c6b06efbf5668fab167d69"><div class="ttname"><a href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eaee2814c902c6b06efbf5668fab167d69">UNSTICK_UNSTUCK</a></div><div class="ttdeci">@ UNSTICK_UNSTUCK</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02040">sv_phys.c:2039</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a29a37c42478a1c07683b8f073313d512" name="a29a37c42478a1c07683b8f073313d512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29a37c42478a1c07683b8f073313d512">&#9670;&#160;</a></span>ClipVelocity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> ClipVelocity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a74bc4b300862fe52bf3d855e89caff65">prvm_vec3_t</a>&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>normal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a74bc4b300862fe52bf3d855e89caff65">prvm_vec3_t</a>&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#ad5100de260acb46c4ec063e0bcf7a2f2">prvm_vec_t</a>&#160;</td>
          <td class="paramname"><em>overbounce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l01169">1169</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1170</span>{</div>
<div class="line"><span class="lineno"> 1171</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1172</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backoff</a>;</div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backoff</a> = -<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (in, <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>) * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">overbounce</a>;</div>
<div class="line"><span class="lineno"> 1175</span>    <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(in, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backoff</a>, <a class="code hl_variable" href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>);</div>
<div class="line"><span class="lineno"> 1176</span> </div>
<div class="line"><span class="lineno"> 1177</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1178</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; -<a class="code hl_define" href="sv__phys_8c.html#aa0286e1faffe993ccf0f840a5bdd2a6d">STOP_EPSILON</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; <a class="code hl_define" href="sv__phys_8c.html#aa0286e1faffe993ccf0f840a5bdd2a6d">STOP_EPSILON</a>)</div>
<div class="line"><span class="lineno"> 1179</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">out</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><span class="lineno"> 1180</span>}</div>
<div class="ttc" id="aglquake_8h_html_af7ca775b6d9354291c4d7d01b8b2a8bc"><div class="ttname"><a href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a></div><div class="ttdeci">GLuint index</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00628">glquake.h:628</a></div></div>
<div class="ttc" id="amathlib_8h_html_ac892cc77f8b6dd3dd543d3f637d63bd1"><div class="ttname"><a href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a></div><div class="ttdeci">#define DotProduct(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00097">mathlib.h:97</a></div></div>
<div class="ttc" id="amathlib_8h_html_ae0ab782cffa212723ac17c32ab8f4332"><div class="ttname"><a href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a></div><div class="ttdeci">#define VectorMA(a, scale, b, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00113">mathlib.h:113</a></div></div>
<div class="ttc" id="aprvm__execprogram_8h_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition</b> <a href="prvm__execprogram_8h_source.html#l00002">prvm_execprogram.h:2</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a7f9900a7305f0a389e52eb9aef7b1f13"><div class="ttname"><a href="shader__glsl_8h.html#a7f9900a7305f0a389e52eb9aef7b1f13">normal</a></div><div class="ttdeci">vec3 normal</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00575">shader_glsl.h:575</a></div></div>
<div class="ttc" id="asv__phys_8c_html_aa0286e1faffe993ccf0f840a5bdd2a6d"><div class="ttname"><a href="sv__phys_8c.html#aa0286e1faffe993ccf0f840a5bdd2a6d">STOP_EPSILON</a></div><div class="ttdeci">#define STOP_EPSILON</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l01168">sv_phys.c:1168</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l01199">SV_FlyMove()</a>, and <a class="el" href="sv__phys_8c_source.html#l02602">SV_Physics_Toss()</a>.</p>

</div>
</div>
<a id="af8d94ecae3652a53c97431138a3dfce4" name="af8d94ecae3652a53c97431138a3dfce4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8d94ecae3652a53c97431138a3dfce4">&#9670;&#160;</a></span>RotateBBox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> RotateBBox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>mins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>maxs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>angles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>rotatedmins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>rotatedmaxs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00767">767</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  768</span>{</div>
<div class="line"><span class="lineno">  769</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, u;</div>
<div class="line"><span class="lineno">  770</span>    <a class="code hl_struct" href="structmatrix4x4__t.html">matrix4x4_t</a> m;</div>
<div class="line"><span class="lineno">  771</span>    <a class="code hl_function" href="matrixlib_8c.html#a80867fbbc3b77b40fb8349d1e694a2de">Matrix4x4_CreateFromQuakeEntity</a>(&amp;m, 0, 0, 0, angles[<a class="code hl_define" href="qtypes_8h.html#acd633835a520a62245ec6cfeb6d00e97">PITCH</a>], angles[<a class="code hl_define" href="qtypes_8h.html#ac71b1e54b98dc1031873048bc61d0438">YAW</a>], angles[<a class="code hl_define" href="qtypes_8h.html#af902416f65138704a180dbae2dc9d8f2">ROLL</a>], 1.0);</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = mins[0]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = mins[1]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] = mins[2]; <a class="code hl_function" href="matrixlib_8c.html#a2c67a69e5ad398eda2624c8507e8b5fa">Matrix4x4_Transform</a>(&amp;m, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, u);</div>
<div class="line"><span class="lineno">  774</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(u, rotatedmins); <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(u, rotatedmaxs);</div>
<div class="line"><span class="lineno">  775</span>    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = maxs[0]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = mins[1]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] = mins[2]; <a class="code hl_function" href="matrixlib_8c.html#a2c67a69e5ad398eda2624c8507e8b5fa">Matrix4x4_Transform</a>(&amp;m, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, u);</div>
<div class="line"><span class="lineno">  776</span>        <span class="keywordflow">if</span>(rotatedmins[0] &gt; u[0]) { rotatedmins[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmins[1] &gt; u[1]) { rotatedmins[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmins[2] &gt; u[2]) { rotatedmins[2] = u[2]; }</div>
<div class="line"><span class="lineno">  777</span>        <span class="keywordflow">if</span>(rotatedmaxs[0] &lt; u[0]) { rotatedmaxs[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmaxs[1] &lt; u[1]) { rotatedmaxs[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmaxs[2] &lt; u[2]) { rotatedmaxs[2] = u[2]; }</div>
<div class="line"><span class="lineno">  778</span>    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = mins[0]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = maxs[1]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] = mins[2]; <a class="code hl_function" href="matrixlib_8c.html#a2c67a69e5ad398eda2624c8507e8b5fa">Matrix4x4_Transform</a>(&amp;m, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, u);</div>
<div class="line"><span class="lineno">  779</span>        <span class="keywordflow">if</span>(rotatedmins[0] &gt; u[0]) { rotatedmins[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmins[1] &gt; u[1]) { rotatedmins[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmins[2] &gt; u[2]) { rotatedmins[2] = u[2]; }</div>
<div class="line"><span class="lineno">  780</span>        <span class="keywordflow">if</span>(rotatedmaxs[0] &lt; u[0]) { rotatedmaxs[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmaxs[1] &lt; u[1]) { rotatedmaxs[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmaxs[2] &lt; u[2]) { rotatedmaxs[2] = u[2]; }</div>
<div class="line"><span class="lineno">  781</span>    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = maxs[0]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = maxs[1]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] = mins[2]; <a class="code hl_function" href="matrixlib_8c.html#a2c67a69e5ad398eda2624c8507e8b5fa">Matrix4x4_Transform</a>(&amp;m, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, u);</div>
<div class="line"><span class="lineno">  782</span>        <span class="keywordflow">if</span>(rotatedmins[0] &gt; u[0]) { rotatedmins[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmins[1] &gt; u[1]) { rotatedmins[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmins[2] &gt; u[2]) { rotatedmins[2] = u[2]; }</div>
<div class="line"><span class="lineno">  783</span>        <span class="keywordflow">if</span>(rotatedmaxs[0] &lt; u[0]) { rotatedmaxs[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmaxs[1] &lt; u[1]) { rotatedmaxs[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmaxs[2] &lt; u[2]) { rotatedmaxs[2] = u[2]; }</div>
<div class="line"><span class="lineno">  784</span>    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = mins[0]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = mins[1]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] = maxs[2]; <a class="code hl_function" href="matrixlib_8c.html#a2c67a69e5ad398eda2624c8507e8b5fa">Matrix4x4_Transform</a>(&amp;m, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, u);</div>
<div class="line"><span class="lineno">  785</span>        <span class="keywordflow">if</span>(rotatedmins[0] &gt; u[0]) { rotatedmins[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmins[1] &gt; u[1]) { rotatedmins[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmins[2] &gt; u[2]) { rotatedmins[2] = u[2]; }</div>
<div class="line"><span class="lineno">  786</span>        <span class="keywordflow">if</span>(rotatedmaxs[0] &lt; u[0]) { rotatedmaxs[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmaxs[1] &lt; u[1]) { rotatedmaxs[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmaxs[2] &lt; u[2]) { rotatedmaxs[2] = u[2]; }</div>
<div class="line"><span class="lineno">  787</span>    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = maxs[0]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = mins[1]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] = maxs[2]; <a class="code hl_function" href="matrixlib_8c.html#a2c67a69e5ad398eda2624c8507e8b5fa">Matrix4x4_Transform</a>(&amp;m, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, u);</div>
<div class="line"><span class="lineno">  788</span>        <span class="keywordflow">if</span>(rotatedmins[0] &gt; u[0]) { rotatedmins[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmins[1] &gt; u[1]) { rotatedmins[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmins[2] &gt; u[2]) { rotatedmins[2] = u[2]; }</div>
<div class="line"><span class="lineno">  789</span>        <span class="keywordflow">if</span>(rotatedmaxs[0] &lt; u[0]) { rotatedmaxs[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmaxs[1] &lt; u[1]) { rotatedmaxs[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmaxs[2] &lt; u[2]) { rotatedmaxs[2] = u[2]; }</div>
<div class="line"><span class="lineno">  790</span>    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = mins[0]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = maxs[1]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] = maxs[2]; <a class="code hl_function" href="matrixlib_8c.html#a2c67a69e5ad398eda2624c8507e8b5fa">Matrix4x4_Transform</a>(&amp;m, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, u);</div>
<div class="line"><span class="lineno">  791</span>        <span class="keywordflow">if</span>(rotatedmins[0] &gt; u[0]) { rotatedmins[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmins[1] &gt; u[1]) { rotatedmins[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmins[2] &gt; u[2]) { rotatedmins[2] = u[2]; }</div>
<div class="line"><span class="lineno">  792</span>        <span class="keywordflow">if</span>(rotatedmaxs[0] &lt; u[0]) { rotatedmaxs[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmaxs[1] &lt; u[1]) { rotatedmaxs[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmaxs[2] &lt; u[2]) { rotatedmaxs[2] = u[2]; }</div>
<div class="line"><span class="lineno">  793</span>    <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = maxs[0]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = maxs[1]; <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] = maxs[2]; <a class="code hl_function" href="matrixlib_8c.html#a2c67a69e5ad398eda2624c8507e8b5fa">Matrix4x4_Transform</a>(&amp;m, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, u);</div>
<div class="line"><span class="lineno">  794</span>        <span class="keywordflow">if</span>(rotatedmins[0] &gt; u[0]) { rotatedmins[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmins[1] &gt; u[1]) { rotatedmins[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmins[2] &gt; u[2]) { rotatedmins[2] = u[2]; }</div>
<div class="line"><span class="lineno">  795</span>        <span class="keywordflow">if</span>(rotatedmaxs[0] &lt; u[0]) { rotatedmaxs[0] = u[0]; } <span class="keywordflow">if</span>(rotatedmaxs[1] &lt; u[1]) { rotatedmaxs[1] = u[1]; } <span class="keywordflow">if</span>(rotatedmaxs[2] &lt; u[2]) { rotatedmaxs[2] = u[2]; }</div>
<div class="line"><span class="lineno">  796</span>}</div>
<div class="ttc" id="aglquake_8h_html_a4d1613b1e415f5e41c4651a1793b277a"><div class="ttname"><a href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a></div><div class="ttdeci">const GLdouble * v</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00761">glquake.h:761</a></div></div>
<div class="ttc" id="amathlib_8h_html_accb62c1cf8b53e0446be03f3d5899a68"><div class="ttname"><a href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a></div><div class="ttdeci">#define VectorCopy(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00100">mathlib.h:100</a></div></div>
<div class="ttc" id="amatrixlib_8c_html_a2c67a69e5ad398eda2624c8507e8b5fa"><div class="ttname"><a href="matrixlib_8c.html#a2c67a69e5ad398eda2624c8507e8b5fa">Matrix4x4_Transform</a></div><div class="ttdeci">void Matrix4x4_Transform(const matrix4x4_t *in, const float v[3], float out[3])</div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8c_source.html#l01657">matrixlib.c:1657</a></div></div>
<div class="ttc" id="amatrixlib_8c_html_a80867fbbc3b77b40fb8349d1e694a2de"><div class="ttname"><a href="matrixlib_8c.html#a80867fbbc3b77b40fb8349d1e694a2de">Matrix4x4_CreateFromQuakeEntity</a></div><div class="ttdeci">void Matrix4x4_CreateFromQuakeEntity(matrix4x4_t *out, double x, double y, double z, double pitch, double yaw, double roll, double scale)</div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8c_source.html#l00715">matrixlib.c:715</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a5fab60d2366b4888d93d5814eb04c9e9"><div class="ttname"><a href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a></div><div class="ttdeci">vec_t vec3_t[3]</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00067">qtypes.h:67</a></div></div>
<div class="ttc" id="aqtypes_8h_html_ac71b1e54b98dc1031873048bc61d0438"><div class="ttname"><a href="qtypes_8h.html#ac71b1e54b98dc1031873048bc61d0438">YAW</a></div><div class="ttdeci">#define YAW</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00019">qtypes.h:19</a></div></div>
<div class="ttc" id="aqtypes_8h_html_acd633835a520a62245ec6cfeb6d00e97"><div class="ttname"><a href="qtypes_8h.html#acd633835a520a62245ec6cfeb6d00e97">PITCH</a></div><div class="ttdeci">#define PITCH</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00016">qtypes.h:16</a></div></div>
<div class="ttc" id="aqtypes_8h_html_af902416f65138704a180dbae2dc9d8f2"><div class="ttname"><a href="qtypes_8h.html#af902416f65138704a180dbae2dc9d8f2">ROLL</a></div><div class="ttdeci">#define ROLL</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00022">qtypes.h:22</a></div></div>
<div class="ttc" id="astructmatrix4x4__t_html"><div class="ttname"><a href="structmatrix4x4__t.html">matrix4x4_t</a></div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8h_source.html#l00009">matrixlib.h:10</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l00804">SV_LinkEdict()</a>.</p>

</div>
</div>
<a id="accbf009b322da0655d6e080e0b28c984" name="accbf009b322da0655d6e080e0b28c984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accbf009b322da0655d6e080e0b28c984">&#9670;&#160;</a></span>SV_CheckContentsTransition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> SV_CheckContentsTransition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>nContents</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00994">994</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  995</span>{</div>
<div class="line"><span class="lineno">  996</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno">  997</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bValidFunctionCall</a>;</div>
<div class="line"><span class="lineno">  998</span> </div>
<div class="line"><span class="lineno">  999</span>    <span class="comment">// Default Valid Function Call to False</span></div>
<div class="line"><span class="lineno"> 1000</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bValidFunctionCall</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1001</span> </div>
<div class="line"><span class="lineno"> 1002</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, watertype) != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nContents</a>)</div>
<div class="line"><span class="lineno"> 1003</span>    { <span class="comment">// Changed Contents</span></div>
<div class="line"><span class="lineno"> 1004</span>        <span class="comment">// Acquire Contents Transition Function from QC</span></div>
<div class="line"><span class="lineno"> 1005</span>        <span class="keywordflow">if</span>(<a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">contentstransition</a>))</div>
<div class="line"><span class="lineno"> 1006</span>        { <span class="comment">// Valid Function; Execute</span></div>
<div class="line"><span class="lineno"> 1007</span>            <span class="comment">// Assign Valid Function</span></div>
<div class="line"><span class="lineno"> 1008</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bValidFunctionCall</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1009</span>            <span class="comment">// Prepare Parameters (Original Contents, New Contents)</span></div>
<div class="line"><span class="lineno"> 1010</span>            <span class="comment">// Original Contents</span></div>
<div class="line"><span class="lineno"> 1011</span>            <a class="code hl_define" href="progsvm_8h.html#add057f87d55ed37e8b07ad5d34ffb427">PRVM_G_FLOAT</a>(<a class="code hl_define" href="pr__comp_8h.html#ae6550ffd28caf1794e06dcb314ddd2a5">OFS_PARM0</a>) = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, watertype);</div>
<div class="line"><span class="lineno"> 1012</span>            <span class="comment">// New Contents</span></div>
<div class="line"><span class="lineno"> 1013</span>            <a class="code hl_define" href="progsvm_8h.html#add057f87d55ed37e8b07ad5d34ffb427">PRVM_G_FLOAT</a>(<a class="code hl_define" href="pr__comp_8h.html#af91f07bfdad48e7ecdc1c61dc4796bdb">OFS_PARM1</a>) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nContents</a>;</div>
<div class="line"><span class="lineno"> 1014</span>            <span class="comment">// Assign Self</span></div>
<div class="line"><span class="lineno"> 1015</span>            <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent);</div>
<div class="line"><span class="lineno"> 1016</span>            <span class="comment">// Set Time</span></div>
<div class="line"><span class="lineno"> 1017</span>            <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno"> 1018</span>            <span class="comment">// Execute VM Function</span></div>
<div class="line"><span class="lineno"> 1019</span>            prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">ExecuteProgram</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">contentstransition</a>), <span class="stringliteral">&quot;contentstransition: NULL function&quot;</span>);</div>
<div class="line"><span class="lineno"> 1020</span>        }</div>
<div class="line"><span class="lineno"> 1021</span>    }</div>
<div class="line"><span class="lineno"> 1022</span> </div>
<div class="line"><span class="lineno"> 1023</span>    <span class="comment">// Return if Function Call was Valid</span></div>
<div class="line"><span class="lineno"> 1024</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bValidFunctionCall</a>;</div>
<div class="line"><span class="lineno"> 1025</span>}</div>
<div class="ttc" id="apr__comp_8h_html_ae6550ffd28caf1794e06dcb314ddd2a5"><div class="ttname"><a href="pr__comp_8h.html#ae6550ffd28caf1794e06dcb314ddd2a5">OFS_PARM0</a></div><div class="ttdeci">#define OFS_PARM0</div><div class="ttdef"><b>Definition</b> <a href="pr__comp_8h_source.html#l00034">pr_comp.h:34</a></div></div>
<div class="ttc" id="apr__comp_8h_html_af91f07bfdad48e7ecdc1c61dc4796bdb"><div class="ttname"><a href="pr__comp_8h.html#af91f07bfdad48e7ecdc1c61dc4796bdb">OFS_PARM1</a></div><div class="ttdeci">#define OFS_PARM1</div><div class="ttdef"><b>Definition</b> <a href="pr__comp_8h_source.html#l00035">pr_comp.h:35</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a25ac170152a31d9193ff7a844e51149e"><div class="ttname"><a href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a></div><div class="ttdeci">#define PRVM_serverglobaledict(fieldname)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00179">progsvm.h:179</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a45b837733ab601c2b34a4708f8868882"><div class="ttname"><a href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a></div><div class="ttdeci">#define PRVM_EDICT_TO_PROG(e)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00872">progsvm.h:872</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_aa1687942beffe2ad61c92d33c2cbdb27"><div class="ttname"><a href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a></div><div class="ttdeci">#define PRVM_serverglobalfloat(fieldname)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00176">progsvm.h:176</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_aa470b2bd6729775cb9581bb36c7ed73d"><div class="ttname"><a href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a></div><div class="ttdeci">#define PRVM_serveredictfloat(ed, fieldname)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00171">progsvm.h:171</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_acf1e5f01355f386e758ebff588838f65"><div class="ttname"><a href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a></div><div class="ttdeci">#define PRVM_serveredictfunction(ed, fieldname)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00175">progsvm.h:175</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_add057f87d55ed37e8b07ad5d34ffb427"><div class="ttname"><a href="progsvm_8h.html#add057f87d55ed37e8b07ad5d34ffb427">PRVM_G_FLOAT</a></div><div class="ttdeci">#define PRVM_G_FLOAT(o)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00879">progsvm.h:879</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_af0488a3f2145e274c2d766ace6d1c0c8"><div class="ttname"><a href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a></div><div class="ttdeci">#define SVVM_prog</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00763">progsvm.h:763</a></div></div>
<div class="ttc" id="aserver_8h_html_a0ff9eb096e93804922c75bbddaf18703"><div class="ttname"><a href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a></div><div class="ttdeci">server_t sv</div><div class="ttdoc">local server</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00219">sv_main.c:219</a></div></div>
<div class="ttc" id="astructprvm__prog__t_html"><div class="ttname"><a href="structprvm__prog__t.html">prvm_prog_t</a></div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00533">progsvm.h:534</a></div></div>
<div class="ttc" id="astructprvm__prog__t_html_abed8fababa1221bd4c66bc07041b01d4"><div class="ttname"><a href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">prvm_prog_t::ExecuteProgram</a></div><div class="ttdeci">void(* ExecuteProgram)(struct prvm_prog_s *prog, func_t fnum, const char *errormessage)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00746">progsvm.h:746</a></div></div>
<div class="ttc" id="astructserver__t_html_a06e5eb786b900d7702cf9460f5e6b4e9"><div class="ttname"><a href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">server_t::time</a></div><div class="ttdeci">double time</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00076">server.h:76</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l02152">SV_CheckWater()</a>, and <a class="el" href="sv__phys_8c_source.html#l02553">SV_CheckWaterTransition()</a>.</p>

</div>
</div>
<a id="aa5c359554d0e8e8954d33ebd8f27e276" name="aa5c359554d0e8e8954d33ebd8f27e276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5c359554d0e8e8954d33ebd8f27e276">&#9670;&#160;</a></span>SV_CheckStuck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_CheckStuck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02117">2117</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2118</span>{</div>
<div class="line"><span class="lineno"> 2119</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2120</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>;</div>
<div class="line"><span class="lineno"> 2121</span> </div>
<div class="line"><span class="lineno"> 2122</span>    <span class="keywordflow">switch</span>(<a class="code hl_function" href="sv__phys_8c.html#a7cbad144a166bf4db6cc56c53daefe24">SV_UnstickEntityReturnOffset</a>(ent, <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>))</div>
<div class="line"><span class="lineno"> 2123</span>    {</div>
<div class="line"><span class="lineno"> 2124</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777ea48168325fd835a3de54128f124f85005">UNSTICK_GOOD</a>:</div>
<div class="line"><span class="lineno"> 2125</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, oldorigin));</div>
<div class="line"><span class="lineno"> 2126</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2127</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eaee2814c902c6b06efbf5668fab167d69">UNSTICK_UNSTUCK</a>:</div>
<div class="line"><span class="lineno"> 2128</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Unstuck player entity %i (classname \&quot;%s\&quot;) with offset %f %f %f.\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent), <a class="code hl_function" href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acb5aad18f3cb72746b413c4ef70a8a38">PRVM_serveredictstring</a>(ent, classname)), <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>[0], <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>[1], <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>[2]);</div>
<div class="line"><span class="lineno"> 2129</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2130</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eac0bb7bd6a72614c53310515736c56d2d">UNSTICK_STUCK</a>:</div>
<div class="line"><span class="lineno"> 2131</span>            <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, oldorigin), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>);</div>
<div class="line"><span class="lineno"> 2132</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="sv__phys_8c.html#a630147d09cc18c1e11b594adc364a7fe">SV_TestEntityPosition</a>(ent, <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>))</div>
<div class="line"><span class="lineno"> 2133</span>            {</div>
<div class="line"><span class="lineno"> 2134</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Unstuck player entity %i (classname \&quot;%s\&quot;) by restoring oldorigin.\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent), <a class="code hl_function" href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acb5aad18f3cb72746b413c4ef70a8a38">PRVM_serveredictstring</a>(ent, classname)));</div>
<div class="line"><span class="lineno"> 2135</span>                <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 2136</span>                <span class="comment">//SV_LinkEdict_TouchAreaGrid(ent);</span></div>
<div class="line"><span class="lineno"> 2137</span>            }</div>
<div class="line"><span class="lineno"> 2138</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2139</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Stuck player entity %i (classname \&quot;%s\&quot;).\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent), <a class="code hl_function" href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acb5aad18f3cb72746b413c4ef70a8a38">PRVM_serveredictstring</a>(ent, classname)));</div>
<div class="line"><span class="lineno"> 2140</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2141</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2142</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SV_UnstickEntityReturnOffset returned a value outside its enum.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2143</span>    }</div>
<div class="line"><span class="lineno"> 2144</span>}</div>
<div class="ttc" id="aconsole_8c_html_a2696300802453d9333e9f52e5fae15bc"><div class="ttname"><a href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a></div><div class="ttdeci">void Con_DPrintf(const char *fmt,...)</div><div class="ttdoc">A Con_Printf that only shows up if the &quot;developer&quot; cvar is set.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01490">console.c:1490</a></div></div>
<div class="ttc" id="aconsole_8c_html_a49b71fe9a87e57a440e07af4a869a9f6"><div class="ttname"><a href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a></div><div class="ttdeci">void Con_Printf(const char *fmt,...)</div><div class="ttdoc">Prints to all appropriate console targets.</div><div class="ttdef"><b>Definition</b> <a href="console_8c_source.html#l01460">console.c:1460</a></div></div>
<div class="ttc" id="aglquake_8h_html_a9d8e5095d0454547c650ff9bde64f8e6"><div class="ttname"><a href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a></div><div class="ttdeci">GLuint GLuint GLintptr offset</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00631">glquake.h:631</a></div></div>
<div class="ttc" id="amathlib_8h_html_adb186b506beeecc27d7222f69e4496f5"><div class="ttname"><a href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a></div><div class="ttdeci">#define VectorSubtract(a, b, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00098">mathlib.h:98</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a16fa54cb588d80ed1cc30202c924de69"><div class="ttname"><a href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a></div><div class="ttdeci">#define PRVM_serveredictvector(ed, fieldname)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00172">progsvm.h:172</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a69666cdc9628aebc4b380b6ad1868140"><div class="ttname"><a href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a></div><div class="ttdeci">const char * PRVM_GetString(prvm_prog_t *prog, int num)</div><div class="ttdef"><b>Definition</b> <a href="prvm__edict_8c_source.html#l03231">prvm_edict.c:3231</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_acb5aad18f3cb72746b413c4ef70a8a38"><div class="ttname"><a href="progsvm_8h.html#acb5aad18f3cb72746b413c4ef70a8a38">PRVM_serveredictstring</a></div><div class="ttdeci">#define PRVM_serveredictstring(ed, fieldname)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00173">progsvm.h:173</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a630147d09cc18c1e11b594adc364a7fe"><div class="ttname"><a href="sv__phys_8c.html#a630147d09cc18c1e11b594adc364a7fe">SV_TestEntityPosition</a></div><div class="ttdeci">static int SV_TestEntityPosition(prvm_edict_t *ent, vec3_t offset)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00925">sv_phys.c:925</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a7c9f31122176959d30eba9f864f843ef"><div class="ttname"><a href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a></div><div class="ttdeci">void SV_LinkEdict(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00804">sv_phys.c:804</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a7cbad144a166bf4db6cc56c53daefe24"><div class="ttname"><a href="sv__phys_8c.html#a7cbad144a166bf4db6cc56c53daefe24">SV_UnstickEntityReturnOffset</a></div><div class="ttdeci">static unstickresult_t SV_UnstickEntityReturnOffset(prvm_edict_t *ent, vec3_t offset)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02043">sv_phys.c:2043</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l02292">SV_WalkMove()</a>.</p>

</div>
</div>
<a id="a9864353b8cb7a611ab22039ad7aa42ee" name="a9864353b8cb7a611ab22039ad7aa42ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9864353b8cb7a611ab22039ad7aa42ee">&#9670;&#160;</a></span>SV_CheckVelocity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_CheckVelocity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l01033">1033</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1034</span>{</div>
<div class="line"><span class="lineno"> 1035</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 1036</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 1037</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="sv__user_8c.html#a14746544c05a412cefc428b12d3d8de8">wishspeed</a>;</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span><span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1040</span><span class="comment">// bound velocity</span></div>
<div class="line"><span class="lineno"> 1041</span><span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1042</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>=0 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;3 ; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1043</span>    {</div>
<div class="line"><span class="lineno"> 1044</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isnan</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div>
<div class="line"><span class="lineno"> 1045</span>        {</div>
<div class="line"><span class="lineno"> 1046</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Got a NaN velocity on entity #%i (%s)\n&quot;</span>, <a class="code hl_define" href="progsvm_8h.html#a7d15dfc00e1b610f47f92d97e6e81ff0">PRVM_NUM_FOR_EDICT</a>(ent), <a class="code hl_function" href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acb5aad18f3cb72746b413c4ef70a8a38">PRVM_serveredictstring</a>(ent, classname)));</div>
<div class="line"><span class="lineno"> 1047</span>            <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><span class="lineno"> 1048</span>        }</div>
<div class="line"><span class="lineno"> 1049</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">isnan</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div>
<div class="line"><span class="lineno"> 1050</span>        {</div>
<div class="line"><span class="lineno"> 1051</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;Got a NaN origin on entity #%i (%s)\n&quot;</span>, <a class="code hl_define" href="progsvm_8h.html#a7d15dfc00e1b610f47f92d97e6e81ff0">PRVM_NUM_FOR_EDICT</a>(ent), <a class="code hl_function" href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acb5aad18f3cb72746b413c4ef70a8a38">PRVM_serveredictstring</a>(ent, classname)));</div>
<div class="line"><span class="lineno"> 1052</span>            <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><span class="lineno"> 1053</span>        }</div>
<div class="line"><span class="lineno"> 1054</span>    }</div>
<div class="line"><span class="lineno"> 1055</span> </div>
<div class="line"><span class="lineno"> 1056</span>    <span class="comment">// LadyHavoc: a hack to ensure that the (rather silly) id1 quakec</span></div>
<div class="line"><span class="lineno"> 1057</span>    <span class="comment">// player_run/player_stand1 does not horribly malfunction if the</span></div>
<div class="line"><span class="lineno"> 1058</span>    <span class="comment">// velocity becomes a denormalized float</span></div>
<div class="line"><span class="lineno"> 1059</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a87789aa9d422deb982e0e65c6104a032">VectorLength2</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)) &lt; 0.0000001)</div>
<div class="line"><span class="lineno"> 1060</span>        <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 1061</span> </div>
<div class="line"><span class="lineno"> 1062</span>    <span class="comment">// LadyHavoc: max velocity fix, inspired by Maddes&#39;s source fixes, but this is faster</span></div>
<div class="line"><span class="lineno"> 1063</span>    <a class="code hl_variable" href="sv__user_8c.html#a14746544c05a412cefc428b12d3d8de8">wishspeed</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 1064</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="sv__user_8c.html#a14746544c05a412cefc428b12d3d8de8">wishspeed</a> &gt; <a class="code hl_variable" href="server_8h.html#ac016c2492ebc35f8824de881bdaa3f6b">sv_maxvelocity</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * <a class="code hl_variable" href="server_8h.html#ac016c2492ebc35f8824de881bdaa3f6b">sv_maxvelocity</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>)</div>
<div class="line"><span class="lineno"> 1065</span>    {</div>
<div class="line"><span class="lineno"> 1066</span>        <a class="code hl_variable" href="sv__user_8c.html#a14746544c05a412cefc428b12d3d8de8">wishspeed</a> = <a class="code hl_variable" href="server_8h.html#ac016c2492ebc35f8824de881bdaa3f6b">sv_maxvelocity</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> / <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">sqrt</a>(<a class="code hl_variable" href="sv__user_8c.html#a14746544c05a412cefc428b12d3d8de8">wishspeed</a>);</div>
<div class="line"><span class="lineno"> 1067</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[0] *= <a class="code hl_variable" href="sv__user_8c.html#a14746544c05a412cefc428b12d3d8de8">wishspeed</a>;</div>
<div class="line"><span class="lineno"> 1068</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[1] *= <a class="code hl_variable" href="sv__user_8c.html#a14746544c05a412cefc428b12d3d8de8">wishspeed</a>;</div>
<div class="line"><span class="lineno"> 1069</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[2] *= <a class="code hl_variable" href="sv__user_8c.html#a14746544c05a412cefc428b12d3d8de8">wishspeed</a>;</div>
<div class="line"><span class="lineno"> 1070</span>    }</div>
<div class="line"><span class="lineno"> 1071</span>}</div>
<div class="ttc" id="amathlib_8h_html_a547609f6e7dbcd2c93a0adf5430ef665"><div class="ttname"><a href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a></div><div class="ttdeci">#define VectorClear(a)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00096">mathlib.h:96</a></div></div>
<div class="ttc" id="amathlib_8h_html_a87789aa9d422deb982e0e65c6104a032"><div class="ttname"><a href="mathlib_8h.html#a87789aa9d422deb982e0e65c6104a032">VectorLength2</a></div><div class="ttdeci">#define VectorLength2(a)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00109">mathlib.h:109</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a7d15dfc00e1b610f47f92d97e6e81ff0"><div class="ttname"><a href="progsvm_8h.html#a7d15dfc00e1b610f47f92d97e6e81ff0">PRVM_NUM_FOR_EDICT</a></div><div class="ttdeci">#define PRVM_NUM_FOR_EDICT(e)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00867">progsvm.h:867</a></div></div>
<div class="ttc" id="aserver_8h_html_ac016c2492ebc35f8824de881bdaa3f6b"><div class="ttname"><a href="server_8h.html#ac016c2492ebc35f8824de881bdaa3f6b">sv_maxvelocity</a></div><div class="ttdeci">cvar_t sv_maxvelocity</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00141">sv_main.c:141</a></div></div>
<div class="ttc" id="astructcvar__t_html_a305faa0167494135297f1b8e6216d469"><div class="ttname"><a href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">cvar_t::value</a></div><div class="ttdeci">float value</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00074">cvar.h:74</a></div></div>
<div class="ttc" id="asv__user_8c_html_a14746544c05a412cefc428b12d3d8de8"><div class="ttname"><a href="sv__user_8c.html#a14746544c05a412cefc428b12d3d8de8">wishspeed</a></div><div class="ttdeci">static float wishspeed</div><div class="ttdef"><b>Definition</b> <a href="sv__user_8c_source.html#l00306">sv_user.c:306</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03062">SV_Physics_ClientEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l03025">SV_Physics_ClientEntity_PostThink()</a>, <a class="el" href="sv__phys_8c_source.html#l02996">SV_Physics_ClientEntity_PreThink()</a>, <a class="el" href="sv__phys_8c_source.html#l02953">SV_Physics_ClientMove()</a>, <a class="el" href="sv__phys_8c_source.html#l02758">SV_Physics_Step()</a>, <a class="el" href="sv__phys_8c_source.html#l02602">SV_Physics_Toss()</a>, <a class="el" href="sv__user_8c_source.html#l00571">SV_PlayerPhysics()</a>, <a class="el" href="svvm__cmds_8c_source.html#l00712">SV_Trace_Toss()</a>, and <a class="el" href="sv__phys_8c_source.html#l02292">SV_WalkMove()</a>.</p>

</div>
</div>
<a id="a22c70318aed81f65c06068a81c50cac7" name="a22c70318aed81f65c06068a81c50cac7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22c70318aed81f65c06068a81c50cac7">&#9670;&#160;</a></span>SV_CheckWater()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> SV_CheckWater </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02152">2152</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2153</span>{</div>
<div class="line"><span class="lineno"> 2154</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2155</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a>;</div>
<div class="line"><span class="lineno"> 2156</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nNativeContents</a>;</div>
<div class="line"><span class="lineno"> 2157</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>;</div>
<div class="line"><span class="lineno"> 2158</span> </div>
<div class="line"><span class="lineno"> 2159</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[0] = <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[0];</div>
<div class="line"><span class="lineno"> 2160</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[1] = <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[1];</div>
<div class="line"><span class="lineno"> 2161</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[2] = <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[2] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, mins)[2] + 1;</div>
<div class="line"><span class="lineno"> 2162</span> </div>
<div class="line"><span class="lineno"> 2163</span>    <span class="comment">// DRESK - Support for Entity Contents Transition Event</span></div>
<div class="line"><span class="lineno"> 2164</span>    <span class="comment">// NOTE: Some logic needed to be slightly re-ordered</span></div>
<div class="line"><span class="lineno"> 2165</span>    <span class="comment">// to not affect performance and allow for the feature.</span></div>
<div class="line"><span class="lineno"> 2166</span> </div>
<div class="line"><span class="lineno"> 2167</span>    <span class="comment">// Acquire Super Contents Prior to Resets</span></div>
<div class="line"><span class="lineno"> 2168</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a> = <a class="code hl_function" href="sv__phys_8c.html#abc73364265c2ee1c656afa098ebb712c">SV_PointSuperContents</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>);</div>
<div class="line"><span class="lineno"> 2169</span>    <span class="comment">// Acquire Native Contents Here</span></div>
<div class="line"><span class="lineno"> 2170</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nNativeContents</a> = <a class="code hl_function" href="model__brush_8c.html#a5a5b192b1222eacd1e23dfdeab66ab62">Mod_Q1BSP_NativeContentsFromSuperContents</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a>);</div>
<div class="line"><span class="lineno"> 2171</span> </div>
<div class="line"><span class="lineno"> 2172</span>    <span class="comment">// DRESK - Support for Entity Contents Transition Event</span></div>
<div class="line"><span class="lineno"> 2173</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, watertype))</div>
<div class="line"><span class="lineno"> 2174</span>        <span class="comment">// Entity did NOT Spawn; Check</span></div>
<div class="line"><span class="lineno"> 2175</span>        <a class="code hl_function" href="sv__phys_8c.html#accbf009b322da0655d6e080e0b28c984">SV_CheckContentsTransition</a>(ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nNativeContents</a>);</div>
<div class="line"><span class="lineno"> 2176</span> </div>
<div class="line"><span class="lineno"> 2177</span> </div>
<div class="line"><span class="lineno"> 2178</span>    <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, waterlevel) = 0;</div>
<div class="line"><span class="lineno"> 2179</span>    <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, watertype) = <a class="code hl_define" href="bspfile_8h.html#af408f18a1c9fcfe68dc88036d6186522">CONTENTS_EMPTY</a>;</div>
<div class="line"><span class="lineno"> 2180</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a> = <a class="code hl_function" href="sv__phys_8c.html#abc73364265c2ee1c656afa098ebb712c">SV_PointSuperContents</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>);</div>
<div class="line"><span class="lineno"> 2181</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a> &amp; (<a class="code hl_define" href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a>))</div>
<div class="line"><span class="lineno"> 2182</span>    {</div>
<div class="line"><span class="lineno"> 2183</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, watertype) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">nNativeContents</a>;</div>
<div class="line"><span class="lineno"> 2184</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, waterlevel) = 1;</div>
<div class="line"><span class="lineno"> 2185</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[2] = <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[2] + (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, mins)[2] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, maxs)[2])*0.5;</div>
<div class="line"><span class="lineno"> 2186</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="sv__phys_8c.html#abc73364265c2ee1c656afa098ebb712c">SV_PointSuperContents</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>) &amp; (<a class="code hl_define" href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a>))</div>
<div class="line"><span class="lineno"> 2187</span>        {</div>
<div class="line"><span class="lineno"> 2188</span>            <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, waterlevel) = 2;</div>
<div class="line"><span class="lineno"> 2189</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>[2] = <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[2] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, view_ofs)[2];</div>
<div class="line"><span class="lineno"> 2190</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="sv__phys_8c.html#abc73364265c2ee1c656afa098ebb712c">SV_PointSuperContents</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>) &amp; (<a class="code hl_define" href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a>))</div>
<div class="line"><span class="lineno"> 2191</span>                <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, waterlevel) = 3;</div>
<div class="line"><span class="lineno"> 2192</span>        }</div>
<div class="line"><span class="lineno"> 2193</span>    }</div>
<div class="line"><span class="lineno"> 2194</span> </div>
<div class="line"><span class="lineno"> 2195</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, waterlevel) &gt; 1;</div>
<div class="line"><span class="lineno"> 2196</span>}</div>
<div class="ttc" id="abspfile_8h_html_a86cebf49778299337e696bf0abc2d046"><div class="ttname"><a href="bspfile_8h.html#a86cebf49778299337e696bf0abc2d046">SUPERCONTENTS_LIQUIDSMASK</a></div><div class="ttdeci">#define SUPERCONTENTS_LIQUIDSMASK</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00218">bspfile.h:218</a></div></div>
<div class="ttc" id="abspfile_8h_html_af408f18a1c9fcfe68dc88036d6186522"><div class="ttname"><a href="bspfile_8h.html#af408f18a1c9fcfe68dc88036d6186522">CONTENTS_EMPTY</a></div><div class="ttdeci">#define CONTENTS_EMPTY</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00133">bspfile.h:133</a></div></div>
<div class="ttc" id="amodel__brush_8c_html_a5a5b192b1222eacd1e23dfdeab66ab62"><div class="ttname"><a href="model__brush_8c.html#a5a5b192b1222eacd1e23dfdeab66ab62">Mod_Q1BSP_NativeContentsFromSuperContents</a></div><div class="ttdeci">int Mod_Q1BSP_NativeContentsFromSuperContents(int supercontents)</div><div class="ttdef"><b>Definition</b> <a href="model__brush_8c_source.html#l00648">model_brush.c:648</a></div></div>
<div class="ttc" id="asv__phys_8c_html_abc73364265c2ee1c656afa098ebb712c"><div class="ttname"><a href="sv__phys_8c.html#abc73364265c2ee1c656afa098ebb712c">SV_PointSuperContents</a></div><div class="ttdeci">int SV_PointSuperContents(const vec3_t point)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00611">sv_phys.c:611</a></div></div>
<div class="ttc" id="asv__phys_8c_html_accbf009b322da0655d6e080e0b28c984"><div class="ttname"><a href="sv__phys_8c.html#accbf009b322da0655d6e080e0b28c984">SV_CheckContentsTransition</a></div><div class="ttdeci">static int SV_CheckContentsTransition(prvm_edict_t *ent, const int nContents)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00994">sv_phys.c:994</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03062">SV_Physics_ClientEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l02825">SV_Physics_Entity()</a>, and <a class="el" href="sv__phys_8c_source.html#l02292">SV_WalkMove()</a>.</p>

</div>
</div>
<a id="a9f6383278aa38f1dbbcfb8bbc456a50e" name="a9f6383278aa38f1dbbcfb8bbc456a50e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f6383278aa38f1dbbcfb8bbc456a50e">&#9670;&#160;</a></span>SV_CheckWaterTransition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_CheckWaterTransition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02553">2553</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2554</span>{</div>
<div class="line"><span class="lineno"> 2555</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entorigin</a>;</div>
<div class="line"><span class="lineno"> 2556</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2557</span>    <span class="comment">// LadyHavoc: bugfixes in this function are keyed to the sv_gameplayfix_bugfixedcheckwatertransition cvar - if this cvar is 0 then all the original bugs should be reenabled for compatibility</span></div>
<div class="line"><span class="lineno"> 2558</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a>;</div>
<div class="line"><span class="lineno"> 2559</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entorigin</a>);</div>
<div class="line"><span class="lineno"> 2560</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a> = <a class="code hl_function" href="model__brush_8c.html#a5a5b192b1222eacd1e23dfdeab66ab62">Mod_Q1BSP_NativeContentsFromSuperContents</a>(<a class="code hl_function" href="sv__phys_8c.html#abc73364265c2ee1c656afa098ebb712c">SV_PointSuperContents</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entorigin</a>));</div>
<div class="line"><span class="lineno"> 2561</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, watertype))</div>
<div class="line"><span class="lineno"> 2562</span>    {</div>
<div class="line"><span class="lineno"> 2563</span>        <span class="comment">// just spawned here</span></div>
<div class="line"><span class="lineno"> 2564</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#a9f24bab157086eaea993a94281545d5a">sv_gameplayfix_fixedcheckwatertransition</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2565</span>        {</div>
<div class="line"><span class="lineno"> 2566</span>            <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, watertype) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a>;</div>
<div class="line"><span class="lineno"> 2567</span>            <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, waterlevel) = 1;</div>
<div class="line"><span class="lineno"> 2568</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2569</span>        }</div>
<div class="line"><span class="lineno"> 2570</span>    }</div>
<div class="line"><span class="lineno"> 2571</span>    <span class="comment">// DRESK - Support for Entity Contents Transition Event</span></div>
<div class="line"><span class="lineno"> 2572</span>    <span class="comment">// NOTE: Call here BEFORE updating the watertype below,</span></div>
<div class="line"><span class="lineno"> 2573</span>    <span class="comment">// and suppress watersplash sound if a valid function</span></div>
<div class="line"><span class="lineno"> 2574</span>    <span class="comment">// call was made to allow for custom &quot;splash&quot; sounds.</span></div>
<div class="line"><span class="lineno"> 2575</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_function" href="sv__phys_8c.html#accbf009b322da0655d6e080e0b28c984">SV_CheckContentsTransition</a>(ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a>) )</div>
<div class="line"><span class="lineno"> 2576</span>    { <span class="comment">// Contents Transition Function Invalid; Potentially Play Water Sound</span></div>
<div class="line"><span class="lineno"> 2577</span>        <span class="comment">// check if the entity crossed into or out of water</span></div>
<div class="line"><span class="lineno"> 2578</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a893d45148dc11850415b0d824701612c">sv_sound_watersplash</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a> &amp;&amp; ((<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, watertype) == <a class="code hl_define" href="bspfile_8h.html#ade922e5f0b8f2b02147858c2b6d579cc">CONTENTS_WATER</a> || <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, watertype) == <a class="code hl_define" href="bspfile_8h.html#ac74aa6092339c35717e12dc058040a01">CONTENTS_SLIME</a>) != (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a> == <a class="code hl_define" href="bspfile_8h.html#ade922e5f0b8f2b02147858c2b6d579cc">CONTENTS_WATER</a> || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a> == <a class="code hl_define" href="bspfile_8h.html#ac74aa6092339c35717e12dc058040a01">CONTENTS_SLIME</a>)))</div>
<div class="line"><span class="lineno"> 2579</span>            <a class="code hl_function" href="server_8h.html#a57491dc5d804469a2d64e0aeb0eabb70">SV_StartSound</a> (ent, 0, <a class="code hl_variable" href="server_8h.html#a893d45148dc11850415b0d824701612c">sv_sound_watersplash</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, 255, 1, <span class="keyword">false</span>, 1.0f);</div>
<div class="line"><span class="lineno"> 2580</span>    }</div>
<div class="line"><span class="lineno"> 2581</span> </div>
<div class="line"><span class="lineno"> 2582</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a> &lt;= <a class="code hl_define" href="bspfile_8h.html#ade922e5f0b8f2b02147858c2b6d579cc">CONTENTS_WATER</a>)</div>
<div class="line"><span class="lineno"> 2583</span>    {</div>
<div class="line"><span class="lineno"> 2584</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, watertype) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a>;</div>
<div class="line"><span class="lineno"> 2585</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, waterlevel) = 1;</div>
<div class="line"><span class="lineno"> 2586</span>    }</div>
<div class="line"><span class="lineno"> 2587</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2588</span>    {</div>
<div class="line"><span class="lineno"> 2589</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, watertype) = <a class="code hl_define" href="bspfile_8h.html#af408f18a1c9fcfe68dc88036d6186522">CONTENTS_EMPTY</a>;</div>
<div class="line"><span class="lineno"> 2590</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, waterlevel) = <a class="code hl_variable" href="server_8h.html#a9f24bab157086eaea993a94281545d5a">sv_gameplayfix_fixedcheckwatertransition</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> ? 0 : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cont</a>;</div>
<div class="line"><span class="lineno"> 2591</span>    }</div>
<div class="line"><span class="lineno"> 2592</span>}</div>
<div class="ttc" id="abspfile_8h_html_ac74aa6092339c35717e12dc058040a01"><div class="ttname"><a href="bspfile_8h.html#ac74aa6092339c35717e12dc058040a01">CONTENTS_SLIME</a></div><div class="ttdeci">#define CONTENTS_SLIME</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00136">bspfile.h:136</a></div></div>
<div class="ttc" id="abspfile_8h_html_ade922e5f0b8f2b02147858c2b6d579cc"><div class="ttname"><a href="bspfile_8h.html#ade922e5f0b8f2b02147858c2b6d579cc">CONTENTS_WATER</a></div><div class="ttdeci">#define CONTENTS_WATER</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00135">bspfile.h:135</a></div></div>
<div class="ttc" id="aserver_8h_html_a57491dc5d804469a2d64e0aeb0eabb70"><div class="ttname"><a href="server_8h.html#a57491dc5d804469a2d64e0aeb0eabb70">SV_StartSound</a></div><div class="ttdeci">void SV_StartSound(prvm_edict_t *entity, int channel, const char *sample, int volume, float attenuation, qbool reliable, float speed)</div><div class="ttdef"><b>Definition</b> <a href="sv__send_8c_source.html#l00228">sv_send.c:228</a></div></div>
<div class="ttc" id="aserver_8h_html_a893d45148dc11850415b0d824701612c"><div class="ttname"><a href="server_8h.html#a893d45148dc11850415b0d824701612c">sv_sound_watersplash</a></div><div class="ttdeci">cvar_t sv_sound_watersplash</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00150">sv_main.c:150</a></div></div>
<div class="ttc" id="aserver_8h_html_a9f24bab157086eaea993a94281545d5a"><div class="ttname"><a href="server_8h.html#a9f24bab157086eaea993a94281545d5a">sv_gameplayfix_fixedcheckwatertransition</a></div><div class="ttdeci">cvar_t sv_gameplayfix_fixedcheckwatertransition</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00131">sv_main.c:131</a></div></div>
<div class="ttc" id="astructcvar__t_html_a376ca13f147f306d71edbe7670e138b0"><div class="ttname"><a href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">cvar_t::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00073">cvar.h:73</a></div></div>
<div class="ttc" id="astructcvar__t_html_aa8b859b9332810d238c09b51ea54a2f4"><div class="ttname"><a href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">cvar_t::string</a></div><div class="ttdeci">const char * string</div><div class="ttdef"><b>Definition</b> <a href="cvar_8h_source.html#l00071">cvar.h:71</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03062">SV_Physics_ClientEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l02825">SV_Physics_Entity()</a>, and <a class="el" href="sv__phys_8c_source.html#l02602">SV_Physics_Toss()</a>.</p>

</div>
</div>
<a id="a917c9043f29f4272fd300c402d4622a0" name="a917c9043f29f4272fd300c402d4622a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a917c9043f29f4272fd300c402d4622a0">&#9670;&#160;</a></span>SV_EntitiesInBox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> SV_EntitiesInBox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>mins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>maxs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>maxedicts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> **&#160;</td>
          <td class="paramname"><em>resultedicts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00673">673</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  674</span>{</div>
<div class="line"><span class="lineno">  675</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno">  676</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">paddedmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">paddedmaxs</a>;</div>
<div class="line"><span class="lineno">  677</span>    <span class="keywordflow">if</span> (maxedicts &lt; 1 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultedicts</a> == <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno">  678</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  679</span>    <span class="comment">// LadyHavoc: discovered this actually causes its own bugs (dm6 teleporters being too close to info_teleport_destination)</span></div>
<div class="line"><span class="lineno">  680</span>    <span class="comment">//VectorSet(paddedmins, mins[0] - 10, mins[1] - 10, mins[2] - 1);</span></div>
<div class="line"><span class="lineno">  681</span>    <span class="comment">//VectorSet(paddedmaxs, maxs[0] + 10, maxs[1] + 10, maxs[2] + 1);</span></div>
<div class="line"><span class="lineno">  682</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">paddedmins</a>);</div>
<div class="line"><span class="lineno">  683</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">paddedmaxs</a>);</div>
<div class="line"><span class="lineno">  684</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a2c6bd02f4074fcae9f123914cc5936a0">sv_areadebug</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  685</span>    {</div>
<div class="line"><span class="lineno">  686</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numresultedicts</a> = 0;</div>
<div class="line"><span class="lineno">  687</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edictindex</a>;</div>
<div class="line"><span class="lineno">  688</span>        <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a>;</div>
<div class="line"><span class="lineno">  689</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edictindex</a> = 1;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edictindex</a> &lt; prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a44e6dca679d367ff168f53ecd94b5f74">num_edicts</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edictindex</a>++)</div>
<div class="line"><span class="lineno">  690</span>        {</div>
<div class="line"><span class="lineno">  691</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a> = <a class="code hl_define" href="progsvm_8h.html#a5e6d1308a7bb93e27d9cad85515c7dd6">PRVM_EDICT_NUM</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">edictindex</a>);</div>
<div class="line"><span class="lineno">  692</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a>-&gt;free &amp;&amp; <a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a>, absmin), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a>, absmax), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">paddedmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">paddedmaxs</a>))</div>
<div class="line"><span class="lineno">  693</span>            {</div>
<div class="line"><span class="lineno">  694</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultedicts</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numresultedicts</a>++] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a>;</div>
<div class="line"><span class="lineno">  695</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numresultedicts</a> == maxedicts)</div>
<div class="line"><span class="lineno">  696</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  697</span>            }</div>
<div class="line"><span class="lineno">  698</span>        }</div>
<div class="line"><span class="lineno">  699</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numresultedicts</a>;</div>
<div class="line"><span class="lineno">  700</span>    }</div>
<div class="line"><span class="lineno">  701</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="world_8c.html#a1a424fb7d73a4ec5f47107b88f852a8b">World_EntitiesInBox</a>(&amp;<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a3ffa690135ba8071501ba4c64b6aeaa2">world</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">paddedmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">paddedmaxs</a>, maxedicts, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">resultedicts</a>);</div>
<div class="line"><span class="lineno">  703</span>}</div>
<div class="ttc" id="amathlib_8h_html_a3f4b2cfbd3195eddeb10b2e14b7e4d8c"><div class="ttname"><a href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a></div><div class="ttdeci">#define BoxesOverlap(a, b, c, d)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00121">mathlib.h:121</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a5e6d1308a7bb93e27d9cad85515c7dd6"><div class="ttname"><a href="progsvm_8h.html#a5e6d1308a7bb93e27d9cad85515c7dd6">PRVM_EDICT_NUM</a></div><div class="ttdeci">#define PRVM_EDICT_NUM(n)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00864">progsvm.h:864</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00012">qtypes.h:12</a></div></div>
<div class="ttc" id="aserver_8h_html_a2c6bd02f4074fcae9f123914cc5936a0"><div class="ttname"><a href="server_8h.html#a2c6bd02f4074fcae9f123914cc5936a0">sv_areadebug</a></div><div class="ttdeci">cvar_t sv_areadebug</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00162">sv_main.c:162</a></div></div>
<div class="ttc" id="astructprvm__edict__t_html"><div class="ttname"><a href="structprvm__edict__t.html">prvm_edict_t</a></div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00089">progsvm.h:90</a></div></div>
<div class="ttc" id="astructprvm__prog__t_html_a44e6dca679d367ff168f53ecd94b5f74"><div class="ttname"><a href="structprvm__prog__t.html#a44e6dca679d367ff168f53ecd94b5f74">prvm_prog_t::num_edicts</a></div><div class="ttdeci">int num_edicts</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00668">progsvm.h:668</a></div></div>
<div class="ttc" id="astructserver__t_html_a3ffa690135ba8071501ba4c64b6aeaa2"><div class="ttname"><a href="structserver__t.html#a3ffa690135ba8071501ba4c64b6aeaa2">server_t::world</a></div><div class="ttdeci">world_t world</div><div class="ttdoc">collision culling data</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00106">server.h:106</a></div></div>
<div class="ttc" id="aworld_8c_html_a1a424fb7d73a4ec5f47107b88f852a8b"><div class="ttname"><a href="world_8c.html#a1a424fb7d73a4ec5f47107b88f852a8b">World_EntitiesInBox</a></div><div class="ttdeci">int World_EntitiesInBox(world_t *world, const vec3_t requestmins, const vec3_t requestmaxs, int maxlist, prvm_edict_t **list)</div><div class="ttdef"><b>Definition</b> <a href="world_8c_source.html#l00188">world.c:188</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__send_8c_source.html#l00723">SV_CanSeeBox()</a>, <a class="el" href="sv__phys_8c_source.html#l00727">SV_LinkEdict_TouchAreaGrid()</a>, <a class="el" href="sv__phys_8c_source.html#l00611">SV_PointSuperContents()</a>, <a class="el" href="sv__phys_8c_source.html#l01668">SV_PushMove()</a>, <a class="el" href="sv__phys_8c_source.html#l00414">SV_TraceBox()</a>, <a class="el" href="sv__phys_8c_source.html#l00256">SV_TraceLine()</a>, <a class="el" href="sv__phys_8c_source.html#l00104">SV_TracePoint()</a>, <a class="el" href="svvm__cmds_8c_source.html#l01070">VM_SV_findbox()</a>, and <a class="el" href="svvm__cmds_8c_source.html#l00993">VM_SV_findradius()</a>.</p>

</div>
</div>
<a id="aa6d1ea2732f173ee2bd33eecec39b34e" name="aa6d1ea2732f173ee2bd33eecec39b34e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6d1ea2732f173ee2bd33eecec39b34e">&#9670;&#160;</a></span>SV_FlyMove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> SV_FlyMove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>applygravity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> *&#160;</td>
          <td class="paramname"><em>stepnormal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>&#160;</td>
          <td class="paramname"><em>stepheight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l01199">1199</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1200</span>{</div>
<div class="line"><span class="lineno"> 1201</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 1202</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>, numplanes, blocked, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bumpcount</a>;</div>
<div class="line"><span class="lineno"> 1203</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">time_left</a>, gravity;</div>
<div class="line"><span class="lineno"> 1204</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">push</a>, planes[<a class="code hl_define" href="sv__phys_8c.html#a1cb2ac25ccfb31c7c98e9971a95cd497">MAX_CLIP_PLANES</a>];</div>
<div class="line"><span class="lineno"> 1205</span>    <a class="code hl_typedef" href="qtypes_8h.html#a74bc4b300862fe52bf3d855e89caff65">prvm_vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">primal_velocity</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">original_velocity</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">new_velocity</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restore_velocity</a>;</div>
<div class="line"><span class="lineno"> 1206</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 1207</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end;</div>
<div class="line"><span class="lineno"> 1208</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1209</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><span class="lineno"> 1210</span>    <span class="keywordflow">if</span> (time &lt;= 0)</div>
<div class="line"><span class="lineno"> 1211</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1212</span>    gravity = 0;</div>
<div class="line"><span class="lineno"> 1213</span> </div>
<div class="line"><span class="lineno"> 1214</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restore_velocity</a>);</div>
<div class="line"><span class="lineno"> 1215</span> </div>
<div class="line"><span class="lineno"> 1216</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">applygravity</a>)</div>
<div class="line"><span class="lineno"> 1217</span>    {</div>
<div class="line"><span class="lineno"> 1218</span>        gravity = <a class="code hl_function" href="sv__phys_8c.html#a91e6d7a6770a04986938885706e85ff3">SV_Gravity</a>(ent);</div>
<div class="line"><span class="lineno"> 1219</span> </div>
<div class="line"><span class="lineno"> 1220</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="server_8h.html#a64d83845018582dc516fed6d25955dc1">sv_gameplayfix_nogravityonground</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> || !((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>))</div>
<div class="line"><span class="lineno"> 1221</span>        {</div>
<div class="line"><span class="lineno"> 1222</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a982633fde699d333309be995776ac44b">sv_gameplayfix_gravityunaffectedbyticrate</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 1223</span>                <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[2] -= gravity * 0.5f;</div>
<div class="line"><span class="lineno"> 1224</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1225</span>                <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[2] -= gravity;</div>
<div class="line"><span class="lineno"> 1226</span>        }</div>
<div class="line"><span class="lineno"> 1227</span>    }</div>
<div class="line"><span class="lineno"> 1228</span> </div>
<div class="line"><span class="lineno"> 1229</span>    blocked = 0;</div>
<div class="line"><span class="lineno"> 1230</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">original_velocity</a>);</div>
<div class="line"><span class="lineno"> 1231</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">primal_velocity</a>);</div>
<div class="line"><span class="lineno"> 1232</span>    numplanes = 0;</div>
<div class="line"><span class="lineno"> 1233</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">time_left</a> = time;</div>
<div class="line"><span class="lineno"> 1234</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bumpcount</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bumpcount</a> &lt; <a class="code hl_define" href="sv__phys_8c.html#a1cb2ac25ccfb31c7c98e9971a95cd497">MAX_CLIP_PLANES</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bumpcount</a>++)</div>
<div class="line"><span class="lineno"> 1235</span>    {</div>
<div class="line"><span class="lineno"> 1236</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[0] &amp;&amp; !<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[1] &amp;&amp; !<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[2])</div>
<div class="line"><span class="lineno"> 1237</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1238</span> </div>
<div class="line"><span class="lineno"> 1239</span>        <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">time_left</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">push</a>);</div>
<div class="line"><span class="lineno"> 1240</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="sv__phys_8c.html#a747b50bcc3f85c8f91b7af1e000bbd9b">SV_PushEntity</a>(&amp;trace, ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">push</a>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 1241</span>        {</div>
<div class="line"><span class="lineno"> 1242</span>            <span class="comment">// we got teleported by a touch function</span></div>
<div class="line"><span class="lineno"> 1243</span>            <span class="comment">// let&#39;s abort the move</span></div>
<div class="line"><span class="lineno"> 1244</span>            blocked |= 8;</div>
<div class="line"><span class="lineno"> 1245</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1246</span>        }</div>
<div class="line"><span class="lineno"> 1247</span> </div>
<div class="line"><span class="lineno"> 1248</span>        <span class="comment">// this code is used by MOVETYPE_WALK and MOVETYPE_STEP and SV_UnstickEntity</span></div>
<div class="line"><span class="lineno"> 1249</span>        <span class="comment">// abort move if we&#39;re stuck in the world (and didn&#39;t make it out)</span></div>
<div class="line"><span class="lineno"> 1250</span>        <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#a3cb221abc0ec6e2d66d8e90ff2d3b58c">worldstartsolid</a> &amp;&amp; trace.<a class="code hl_variable" href="structtrace__t.html#a86354cfb27bae65838c8e79d5072029e">allsolid</a> &amp;&amp; trace.<a class="code hl_variable" href="structtrace__t.html#af819b9f51fbf5e2e3a40f161679fe204">startdepth</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 1251</span>        {</div>
<div class="line"><span class="lineno"> 1252</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restore_velocity</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 1253</span>            <span class="keywordflow">return</span> 3;</div>
<div class="line"><span class="lineno"> 1254</span>        }</div>
<div class="line"><span class="lineno"> 1255</span> </div>
<div class="line"><span class="lineno"> 1256</span>        <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> == 1)</div>
<div class="line"><span class="lineno"> 1257</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1258</span> </div>
<div class="line"><span class="lineno"> 1259</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">time_left</a> *= 1 - trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a>;</div>
<div class="line"><span class="lineno"> 1260</span> </div>
<div class="line"><span class="lineno"> 1261</span>        <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[2])</div>
<div class="line"><span class="lineno"> 1262</span>        {</div>
<div class="line"><span class="lineno"> 1263</span>            <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[2] &gt; 0.7)</div>
<div class="line"><span class="lineno"> 1264</span>            {</div>
<div class="line"><span class="lineno"> 1265</span>                <span class="comment">// floor</span></div>
<div class="line"><span class="lineno"> 1266</span>                blocked |= 1;</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>                <span class="keywordflow">if</span> (!trace.<a class="code hl_variable" href="structtrace__t.html#a00f40ed37bd39dbb8f64e6c5b6f1ea51">ent</a>)</div>
<div class="line"><span class="lineno"> 1269</span>                {</div>
<div class="line"><span class="lineno"> 1270</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;SV_FlyMove: !trace.ent&quot;</span>);</div>
<div class="line"><span class="lineno"> 1271</span>                    trace.<a class="code hl_variable" href="structtrace__t.html#a00f40ed37bd39dbb8f64e6c5b6f1ea51">ent</a> = prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>;</div>
<div class="line"><span class="lineno"> 1272</span>                }</div>
<div class="line"><span class="lineno"> 1273</span> </div>
<div class="line"><span class="lineno"> 1274</span>                <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) | <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>;</div>
<div class="line"><span class="lineno"> 1275</span>                <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, groundentity) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a00f40ed37bd39dbb8f64e6c5b6f1ea51">ent</a>);</div>
<div class="line"><span class="lineno"> 1276</span>            }</div>
<div class="line"><span class="lineno"> 1277</span>        }</div>
<div class="line"><span class="lineno"> 1278</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stepheight)</div>
<div class="line"><span class="lineno"> 1279</span>        {</div>
<div class="line"><span class="lineno"> 1280</span>            <span class="comment">// step - handle it immediately</span></div>
<div class="line"><span class="lineno"> 1281</span>            <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org;</div>
<div class="line"><span class="lineno"> 1282</span>            <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">steppush</a>;</div>
<div class="line"><span class="lineno"> 1283</span>            <a class="code hl_struct" href="structtrace__t.html">trace_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">steptrace</a>;</div>
<div class="line"><span class="lineno"> 1284</span>            <a class="code hl_struct" href="structtrace__t.html">trace_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">steptrace2</a>;</div>
<div class="line"><span class="lineno"> 1285</span>            <a class="code hl_struct" href="structtrace__t.html">trace_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">steptrace3</a>;</div>
<div class="line"><span class="lineno"> 1286</span>            <span class="comment">//Con_Printf(&quot;step %f %f %f : &quot;, PRVM_serveredictvector(ent, origin)[0], PRVM_serveredictvector(ent, origin)[1], PRVM_serveredictvector(ent, origin)[2]);</span></div>
<div class="line"><span class="lineno"> 1287</span>            <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">steppush</a>, 0, 0, stepheight);</div>
<div class="line"><span class="lineno"> 1288</span>            <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">time_left</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">push</a>);</div>
<div class="line"><span class="lineno"> 1289</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), org);</div>
<div class="line"><span class="lineno"> 1290</span>            <span class="keywordflow">if</span>(!<a class="code hl_function" href="sv__phys_8c.html#a747b50bcc3f85c8f91b7af1e000bbd9b">SV_PushEntity</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">steptrace</a>, ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">steppush</a>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 1291</span>            {</div>
<div class="line"><span class="lineno"> 1292</span>                blocked |= 8;</div>
<div class="line"><span class="lineno"> 1293</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1294</span>            }</div>
<div class="line"><span class="lineno"> 1295</span>            <span class="comment">//Con_Printf(&quot;%f %f %f : &quot;, PRVM_serveredictvector(ent, origin)[0], PRVM_serveredictvector(ent, origin)[1], PRVM_serveredictvector(ent, origin)[2]);</span></div>
<div class="line"><span class="lineno"> 1296</span>            <span class="keywordflow">if</span>(!<a class="code hl_function" href="sv__phys_8c.html#a747b50bcc3f85c8f91b7af1e000bbd9b">SV_PushEntity</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">steptrace2</a>, ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">push</a>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 1297</span>            {</div>
<div class="line"><span class="lineno"> 1298</span>                blocked |= 8;</div>
<div class="line"><span class="lineno"> 1299</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1300</span>            }</div>
<div class="line"><span class="lineno"> 1301</span>            <span class="comment">//Con_Printf(&quot;%f %f %f : &quot;, PRVM_serveredictvector(ent, origin)[0], PRVM_serveredictvector(ent, origin)[1], PRVM_serveredictvector(ent, origin)[2]);</span></div>
<div class="line"><span class="lineno"> 1302</span>            <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">steppush</a>, 0, 0, org[2] - <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[2]);</div>
<div class="line"><span class="lineno"> 1303</span>            <span class="keywordflow">if</span>(!<a class="code hl_function" href="sv__phys_8c.html#a747b50bcc3f85c8f91b7af1e000bbd9b">SV_PushEntity</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">steptrace3</a>, ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">steppush</a>, <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 1304</span>            {</div>
<div class="line"><span class="lineno"> 1305</span>                blocked |= 8;</div>
<div class="line"><span class="lineno"> 1306</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1307</span>            }</div>
<div class="line"><span class="lineno"> 1308</span>            <span class="comment">//Con_Printf(&quot;%f %f %f : &quot;, PRVM_serveredictvector(ent, origin)[0], PRVM_serveredictvector(ent, origin)[1], PRVM_serveredictvector(ent, origin)[2]);</span></div>
<div class="line"><span class="lineno"> 1309</span>            <span class="comment">// accept the new position if it made some progress...</span></div>
<div class="line"><span class="lineno"> 1310</span>            <span class="comment">// previously this checked if absolute distance &gt;= 0.03125 which made stepping up unreliable</span></div>
<div class="line"><span class="lineno"> 1311</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[0] - org[0] || <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[1] - org[1])</div>
<div class="line"><span class="lineno"> 1312</span>            {</div>
<div class="line"><span class="lineno"> 1313</span>                <span class="comment">//Con_Printf(&quot;accepted (delta %f %f %f)\n&quot;, PRVM_serveredictvector(ent, origin)[0] - org[0], PRVM_serveredictvector(ent, origin)[1] - org[1], PRVM_serveredictvector(ent, origin)[2] - org[2]);</span></div>
<div class="line"><span class="lineno"> 1314</span>                trace = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">steptrace2</a>;</div>
<div class="line"><span class="lineno"> 1315</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>);</div>
<div class="line"><span class="lineno"> 1316</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">time_left</a> *= 1 - trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a>;</div>
<div class="line"><span class="lineno"> 1317</span>                numplanes = 0;</div>
<div class="line"><span class="lineno"> 1318</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1319</span>            }</div>
<div class="line"><span class="lineno"> 1320</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1321</span>            {</div>
<div class="line"><span class="lineno"> 1322</span>                <span class="comment">//Con_Printf(&quot;REJECTED (delta %f %f %f)\n&quot;, PRVM_serveredictvector(ent, origin)[0] - org[0], PRVM_serveredictvector(ent, origin)[1] - org[1], PRVM_serveredictvector(ent, origin)[2] - org[2]);</span></div>
<div class="line"><span class="lineno"> 1323</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(org, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin));</div>
<div class="line"><span class="lineno"> 1324</span>            }</div>
<div class="line"><span class="lineno"> 1325</span>        }</div>
<div class="line"><span class="lineno"> 1326</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1327</span>        {</div>
<div class="line"><span class="lineno"> 1328</span>            <span class="comment">// step - return it to caller</span></div>
<div class="line"><span class="lineno"> 1329</span>            blocked |= 2;</div>
<div class="line"><span class="lineno"> 1330</span>            <span class="comment">// save the trace for player extrafriction</span></div>
<div class="line"><span class="lineno"> 1331</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stepnormal</a>)</div>
<div class="line"><span class="lineno"> 1332</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stepnormal</a>);</div>
<div class="line"><span class="lineno"> 1333</span>        }</div>
<div class="line"><span class="lineno"> 1334</span> </div>
<div class="line"><span class="lineno"> 1335</span>        <span class="comment">// Unlike some other movetypes Quake&#39;s SV_FlyMove calls SV_Impact only after setting ONGROUND which id1 fiends rely on.</span></div>
<div class="line"><span class="lineno"> 1336</span>        <span class="comment">// If we stepped up (sv_gameplayfix_stepmultipletimes) this will impact the steptrace2 plane instead of the original.</span></div>
<div class="line"><span class="lineno"> 1337</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, solid) &gt;= <a class="code hl_define" href="server_8h.html#ae89a360be120402e1499c24cfbd32da3">SOLID_TRIGGER</a> &amp;&amp; trace.<a class="code hl_variable" href="structtrace__t.html#a00f40ed37bd39dbb8f64e6c5b6f1ea51">ent</a>)</div>
<div class="line"><span class="lineno"> 1338</span>            <a class="code hl_function" href="sv__phys_8c.html#a3974b72887136f11d2cbaa89bcf06b5a">SV_Impact</a>(ent, &amp;trace);</div>
<div class="line"><span class="lineno"> 1339</span>        <span class="keywordflow">if</span> (ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a247e6dccfef4a688f2dba80d4c57270d">free</a>)</div>
<div class="line"><span class="lineno"> 1340</span>            <span class="keywordflow">return</span> blocked; <span class="comment">// removed by the impact function</span></div>
<div class="line"><span class="lineno"> 1341</span> </div>
<div class="line"><span class="lineno"> 1342</span>        <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> &gt;= 0.001)</div>
<div class="line"><span class="lineno"> 1343</span>        {</div>
<div class="line"><span class="lineno"> 1344</span>            <span class="comment">// actually covered some distance</span></div>
<div class="line"><span class="lineno"> 1345</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">original_velocity</a>);</div>
<div class="line"><span class="lineno"> 1346</span>            numplanes = 0;</div>
<div class="line"><span class="lineno"> 1347</span>        }</div>
<div class="line"><span class="lineno"> 1348</span> </div>
<div class="line"><span class="lineno"> 1349</span>        <span class="comment">// clipped to another plane</span></div>
<div class="line"><span class="lineno"> 1350</span>        <span class="keywordflow">if</span> (numplanes &gt;= <a class="code hl_define" href="sv__phys_8c.html#a1cb2ac25ccfb31c7c98e9971a95cd497">MAX_CLIP_PLANES</a>)</div>
<div class="line"><span class="lineno"> 1351</span>        {</div>
<div class="line"><span class="lineno"> 1352</span>            <span class="comment">// this shouldn&#39;t really happen</span></div>
<div class="line"><span class="lineno"> 1353</span>            <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 1354</span>            blocked = 3;</div>
<div class="line"><span class="lineno"> 1355</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1356</span>        }</div>
<div class="line"><span class="lineno"> 1357</span> </div>
<div class="line"><span class="lineno"> 1358</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1359</span><span class="comment">        for (i = 0;i &lt; numplanes;i++)</span></div>
<div class="line"><span class="lineno"> 1360</span><span class="comment">            if (DotProduct(trace.plane.normal, planes[i]) &gt; 0.99)</span></div>
<div class="line"><span class="lineno"> 1361</span><span class="comment">                break;</span></div>
<div class="line"><span class="lineno"> 1362</span><span class="comment">        if (i &lt; numplanes)</span></div>
<div class="line"><span class="lineno"> 1363</span><span class="comment">        {</span></div>
<div class="line"><span class="lineno"> 1364</span><span class="comment">            VectorAdd(PRVM_serveredictvector(ent, velocity), trace.plane.normal, PRVM_serveredictvector(ent, velocity));</span></div>
<div class="line"><span class="lineno"> 1365</span><span class="comment">            continue;</span></div>
<div class="line"><span class="lineno"> 1366</span><span class="comment">        }</span></div>
<div class="line"><span class="lineno"> 1367</span><span class="comment">        */</span></div>
<div class="line"><span class="lineno"> 1368</span> </div>
<div class="line"><span class="lineno"> 1369</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, planes[numplanes]);</div>
<div class="line"><span class="lineno"> 1370</span>        numplanes++;</div>
<div class="line"><span class="lineno"> 1371</span> </div>
<div class="line"><span class="lineno"> 1372</span>        <span class="comment">// modify original_velocity so it parallels all of the clip planes</span></div>
<div class="line"><span class="lineno"> 1373</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; numplanes;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1374</span>        {</div>
<div class="line"><span class="lineno"> 1375</span>            <a class="code hl_function" href="sv__phys_8c.html#a29a37c42478a1c07683b8f073313d512">ClipVelocity</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">original_velocity</a>, planes[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">new_velocity</a>, 1);</div>
<div class="line"><span class="lineno"> 1376</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> &lt; numplanes;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>++)</div>
<div class="line"><span class="lineno"> 1377</span>            {</div>
<div class="line"><span class="lineno"> 1378</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> != <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 1379</span>                {</div>
<div class="line"><span class="lineno"> 1380</span>                    <span class="comment">// not ok</span></div>
<div class="line"><span class="lineno"> 1381</span>                    <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">new_velocity</a>, planes[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a>]) &lt; 0)</div>
<div class="line"><span class="lineno"> 1382</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1383</span>                }</div>
<div class="line"><span class="lineno"> 1384</span>            }</div>
<div class="line"><span class="lineno"> 1385</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">j</a> == numplanes)</div>
<div class="line"><span class="lineno"> 1386</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1387</span>        }</div>
<div class="line"><span class="lineno"> 1388</span> </div>
<div class="line"><span class="lineno"> 1389</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> != numplanes)</div>
<div class="line"><span class="lineno"> 1390</span>        {</div>
<div class="line"><span class="lineno"> 1391</span>            <span class="comment">// go along this plane</span></div>
<div class="line"><span class="lineno"> 1392</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">new_velocity</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 1393</span>        }</div>
<div class="line"><span class="lineno"> 1394</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1395</span>        {</div>
<div class="line"><span class="lineno"> 1396</span>            <span class="comment">// go along the crease</span></div>
<div class="line"><span class="lineno"> 1397</span>            <span class="keywordflow">if</span> (numplanes != 2)</div>
<div class="line"><span class="lineno"> 1398</span>            {</div>
<div class="line"><span class="lineno"> 1399</span>                <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 1400</span>                blocked = 7;</div>
<div class="line"><span class="lineno"> 1401</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1402</span>            }</div>
<div class="line"><span class="lineno"> 1403</span>            <a class="code hl_define" href="mathlib_8h.html#aa3c5114e57f89ea32ef8f41e00631e44">CrossProduct</a>(planes[0], planes[1], <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>);</div>
<div class="line"><span class="lineno"> 1404</span>            <span class="comment">// LadyHavoc: thanks to taniwha of QuakeForge for pointing out this fix for slowed falling in corners</span></div>
<div class="line"><span class="lineno"> 1405</span>            <a class="code hl_define" href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>);</div>
<div class="line"><span class="lineno"> 1406</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 1407</span>            <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 1408</span>        }</div>
<div class="line"><span class="lineno"> 1409</span> </div>
<div class="line"><span class="lineno"> 1410</span>        <span class="comment">// if current velocity is against the original velocity,</span></div>
<div class="line"><span class="lineno"> 1411</span>        <span class="comment">// stop dead to avoid tiny occilations in sloping corners</span></div>
<div class="line"><span class="lineno"> 1412</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">primal_velocity</a>) &lt;= 0)</div>
<div class="line"><span class="lineno"> 1413</span>        {</div>
<div class="line"><span class="lineno"> 1414</span>            <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 1415</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1416</span>        }</div>
<div class="line"><span class="lineno"> 1417</span>    }</div>
<div class="line"><span class="lineno"> 1418</span> </div>
<div class="line"><span class="lineno"> 1419</span>    <span class="comment">//Con_Printf(&quot;entity %i final: blocked %i velocity %f %f %f\n&quot;, ent - prog-&gt;edicts, blocked, PRVM_serveredictvector(ent, velocity)[0], PRVM_serveredictvector(ent, velocity)[1], PRVM_serveredictvector(ent, velocity)[2]);</span></div>
<div class="line"><span class="lineno"> 1420</span> </div>
<div class="line"><span class="lineno"> 1421</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1422</span><span class="comment">    if ((blocked &amp; 1) == 0 &amp;&amp; bumpcount &gt; 1)</span></div>
<div class="line"><span class="lineno"> 1423</span><span class="comment">    {</span></div>
<div class="line"><span class="lineno"> 1424</span><span class="comment">        // LadyHavoc: fix the &#39;fall to your death in a wedge corner&#39; glitch</span></div>
<div class="line"><span class="lineno"> 1425</span><span class="comment">        // flag ONGROUND if there&#39;s ground under it</span></div>
<div class="line"><span class="lineno"> 1426</span><span class="comment">        trace = SV_TraceBox(PRVM_serveredictvector(ent, origin), PRVM_serveredictvector(ent, mins), PRVM_serveredictvector(ent, maxs), end, MOVE_NORMAL, ent, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</span></div>
<div class="line"><span class="lineno"> 1427</span><span class="comment">    }</span></div>
<div class="line"><span class="lineno"> 1428</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno"> 1429</span> </div>
<div class="line"><span class="lineno"> 1430</span>    <span class="comment">// LadyHavoc: this came from QW and allows you to get out of water more easily</span></div>
<div class="line"><span class="lineno"> 1431</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a354fa076f3d2f589656b7a4bd1b605ce">sv_gameplayfix_easierwaterjump</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; ((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_define" href="server_8h.html#a07ce3391b3670ca0313df20192d20fe2">FL_WATERJUMP</a>) &amp;&amp; !(blocked &amp; 8))</div>
<div class="line"><span class="lineno"> 1432</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">primal_velocity</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 1433</span> </div>
<div class="line"><span class="lineno"> 1434</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">applygravity</a>)</div>
<div class="line"><span class="lineno"> 1435</span>    {</div>
<div class="line"><span class="lineno"> 1436</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="server_8h.html#a64d83845018582dc516fed6d25955dc1">sv_gameplayfix_nogravityonground</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> || !((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>))</div>
<div class="line"><span class="lineno"> 1437</span>        {</div>
<div class="line"><span class="lineno"> 1438</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a982633fde699d333309be995776ac44b">sv_gameplayfix_gravityunaffectedbyticrate</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 1439</span>                <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[2] -= gravity * 0.5f;</div>
<div class="line"><span class="lineno"> 1440</span>        }</div>
<div class="line"><span class="lineno"> 1441</span>    }</div>
<div class="line"><span class="lineno"> 1442</span> </div>
<div class="line"><span class="lineno"> 1443</span>    <span class="keywordflow">return</span> blocked;</div>
<div class="line"><span class="lineno"> 1444</span>}</div>
<div class="ttc" id="afs_8c_html_a93257bedba32e45fc3f07bea139c0604"><div class="ttname"><a href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a></div><div class="ttdeci">static int(ZEXPORT *qz_inflate)(z_stream *strm</div></div>
<div class="ttc" id="amathlib_8h_html_a49b70428785f62ca69e1547c6ba09bb0"><div class="ttname"><a href="mathlib_8h.html#a49b70428785f62ca69e1547c6ba09bb0">VectorNormalize</a></div><div class="ttdeci">#define VectorNormalize(v)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00103">mathlib.h:103</a></div></div>
<div class="ttc" id="amathlib_8h_html_aa3c5114e57f89ea32ef8f41e00631e44"><div class="ttname"><a href="mathlib_8h.html#aa3c5114e57f89ea32ef8f41e00631e44">CrossProduct</a></div><div class="ttdeci">#define CrossProduct(a, b, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00102">mathlib.h:102</a></div></div>
<div class="ttc" id="amathlib_8h_html_ad3cbbdfa4ea0dddf1026ffc640644d79"><div class="ttname"><a href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a></div><div class="ttdeci">#define VectorSet(a, b, c, d)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00095">mathlib.h:95</a></div></div>
<div class="ttc" id="amathlib_8h_html_adbe75a286ee7ac6c3064ae518ab7d936"><div class="ttname"><a href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a></div><div class="ttdeci">#define VectorScale(in, scale, out)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00110">mathlib.h:110</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a32c564348d1d90db218ed028294dee12"><div class="ttname"><a href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a></div><div class="ttdeci">#define PRVM_serveredictedict(ed, fieldname)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00174">progsvm.h:174</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a74bc4b300862fe52bf3d855e89caff65"><div class="ttname"><a href="qtypes_8h.html#a74bc4b300862fe52bf3d855e89caff65">prvm_vec3_t</a></div><div class="ttdeci">prvm_vec_t prvm_vec3_t[3]</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00059">qtypes.h:59</a></div></div>
<div class="ttc" id="aserver_8h_html_a07ce3391b3670ca0313df20192d20fe2"><div class="ttname"><a href="server_8h.html#a07ce3391b3670ca0313df20192d20fe2">FL_WATERJUMP</a></div><div class="ttdeci">#define FL_WATERJUMP</div><div class="ttdoc">player jumping out of water</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00369">server.h:369</a></div></div>
<div class="ttc" id="aserver_8h_html_a354fa076f3d2f589656b7a4bd1b605ce"><div class="ttname"><a href="server_8h.html#a354fa076f3d2f589656b7a4bd1b605ce">sv_gameplayfix_easierwaterjump</a></div><div class="ttdeci">cvar_t sv_gameplayfix_easierwaterjump</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00109">sv_main.c:109</a></div></div>
<div class="ttc" id="aserver_8h_html_a64d83845018582dc516fed6d25955dc1"><div class="ttname"><a href="server_8h.html#a64d83845018582dc516fed6d25955dc1">sv_gameplayfix_nogravityonground</a></div><div class="ttdeci">cvar_t sv_gameplayfix_nogravityonground</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00119">sv_main.c:119</a></div></div>
<div class="ttc" id="aserver_8h_html_a982633fde699d333309be995776ac44b"><div class="ttname"><a href="server_8h.html#a982633fde699d333309be995776ac44b">sv_gameplayfix_gravityunaffectedbyticrate</a></div><div class="ttdeci">cvar_t sv_gameplayfix_gravityunaffectedbyticrate</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00111">sv_main.c:111</a></div></div>
<div class="ttc" id="aserver_8h_html_ad205c8b0d262d85a16bb3d23272fe81d"><div class="ttname"><a href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a></div><div class="ttdeci">#define FL_ONGROUND</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00367">server.h:367</a></div></div>
<div class="ttc" id="aserver_8h_html_ae89a360be120402e1499c24cfbd32da3"><div class="ttname"><a href="server_8h.html#ae89a360be120402e1499c24cfbd32da3">SOLID_TRIGGER</a></div><div class="ttdeci">#define SOLID_TRIGGER</div><div class="ttdoc">touch on edge, but not blocking</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00334">server.h:334</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_a4ca269cf93df1b512b52174c1a256fe5"><div class="ttname"><a href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a></div><div class="ttdeci">vec2 dir</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00281">shader_glsl.h:281</a></div></div>
<div class="ttc" id="astructprvm__edict__t_html_a247e6dccfef4a688f2dba80d4c57270d"><div class="ttname"><a href="structprvm__edict__t.html#a247e6dccfef4a688f2dba80d4c57270d">prvm_edict_t::free</a></div><div class="ttdeci">qbool free</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00092">progsvm.h:92</a></div></div>
<div class="ttc" id="astructprvm__prog__t_html_a8540c3dd146a4fc8b8a72e272edcbc5e"><div class="ttname"><a href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">prvm_prog_t::edicts</a></div><div class="ttdeci">prvm_edict_t * edicts</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00677">progsvm.h:677</a></div></div>
<div class="ttc" id="astructtrace__t_html"><div class="ttname"><a href="structtrace__t.html">trace_t</a></div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00021">collision.h:22</a></div></div>
<div class="ttc" id="astructtrace__t_html_a00f40ed37bd39dbb8f64e6c5b6f1ea51"><div class="ttname"><a href="structtrace__t.html#a00f40ed37bd39dbb8f64e6c5b6f1ea51">trace_t::ent</a></div><div class="ttdeci">void * ent</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00047">collision.h:47</a></div></div>
<div class="ttc" id="astructtrace__t_html_a37cb2b7f426f5a76265ddb8e7918a099"><div class="ttname"><a href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">trace_t::fraction</a></div><div class="ttdeci">double fraction</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00040">collision.h:40</a></div></div>
<div class="ttc" id="astructtrace__t_html_a3cb221abc0ec6e2d66d8e90ff2d3b58c"><div class="ttname"><a href="structtrace__t.html#a3cb221abc0ec6e2d66d8e90ff2d3b58c">trace_t::worldstartsolid</a></div><div class="ttdeci">qbool worldstartsolid</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00028">collision.h:28</a></div></div>
<div class="ttc" id="astructtrace__t_html_a45b22da9e5e28fb83aa691ffb1909a4a"><div class="ttname"><a href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">trace_t::endpos</a></div><div class="ttdeci">double endpos[3]</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00042">collision.h:42</a></div></div>
<div class="ttc" id="astructtrace__t_html_a86354cfb27bae65838c8e79d5072029e"><div class="ttname"><a href="structtrace__t.html#a86354cfb27bae65838c8e79d5072029e">trace_t::allsolid</a></div><div class="ttdeci">qbool allsolid</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00024">collision.h:24</a></div></div>
<div class="ttc" id="astructtrace__t_html_a9a6651d4c1d97c4e6959a696184b25cd"><div class="ttname"><a href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">trace_t::plane</a></div><div class="ttdeci">plane_t plane</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00044">collision.h:44</a></div></div>
<div class="ttc" id="astructtrace__t_html_af819b9f51fbf5e2e3a40f161679fe204"><div class="ttname"><a href="structtrace__t.html#af819b9f51fbf5e2e3a40f161679fe204">trace_t::startdepth</a></div><div class="ttdeci">double startdepth</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00068">collision.h:68</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a1cb2ac25ccfb31c7c98e9971a95cd497"><div class="ttname"><a href="sv__phys_8c.html#a1cb2ac25ccfb31c7c98e9971a95cd497">MAX_CLIP_PLANES</a></div><div class="ttdeci">#define MAX_CLIP_PLANES</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l01198">sv_phys.c:1198</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a29a37c42478a1c07683b8f073313d512"><div class="ttname"><a href="sv__phys_8c.html#a29a37c42478a1c07683b8f073313d512">ClipVelocity</a></div><div class="ttdeci">static void ClipVelocity(prvm_vec3_t in, vec3_t normal, prvm_vec3_t out, prvm_vec_t overbounce)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l01169">sv_phys.c:1169</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a3974b72887136f11d2cbaa89bcf06b5a"><div class="ttname"><a href="sv__phys_8c.html#a3974b72887136f11d2cbaa89bcf06b5a">SV_Impact</a></div><div class="ttdeci">static void SV_Impact(prvm_edict_t *e1, trace_t *trace)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l01117">sv_phys.c:1117</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a747b50bcc3f85c8f91b7af1e000bbd9b"><div class="ttname"><a href="sv__phys_8c.html#a747b50bcc3f85c8f91b7af1e000bbd9b">SV_PushEntity</a></div><div class="ttdeci">static qbool SV_PushEntity(trace_t *trace, prvm_edict_t *ent, vec3_t push, qbool dolink, qbool checkstuck)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l01562">sv_phys.c:1562</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a91e6d7a6770a04986938885706e85ff3"><div class="ttname"><a href="sv__phys_8c.html#a91e6d7a6770a04986938885706e85ff3">SV_Gravity</a></div><div class="ttdeci">static float SV_Gravity(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l01452">sv_phys.c:1452</a></div></div>
<div class="ttc" id="aunionplane__t_html_ade810b5e8f7db899dee445447a58edeb"><div class="ttname"><a href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">plane_t::normal</a></div><div class="ttdeci">vec3_t normal</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00013">collision.h:13</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l02758">SV_Physics_Step()</a>, and <a class="el" href="sv__phys_8c_source.html#l02292">SV_WalkMove()</a>.</p>

</div>
</div>
<a id="a50467ff3df4ef36847a93af296c57d2c" name="a50467ff3df4ef36847a93af296c57d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50467ff3df4ef36847a93af296c57d2c">&#9670;&#160;</a></span>SV_GenericHitSuperContentsMask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> SV_GenericHitSuperContentsMask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>passedict</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calculates hitsupercontentsmask for a generic qc entity </p>

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00073">73</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   74</span>{</div>
<div class="line"><span class="lineno">   75</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>)</div>
<div class="line"><span class="lineno">   77</span>    {</div>
<div class="line"><span class="lineno">   78</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dphitcontentsmask</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dphitcontentsmask</a>);</div>
<div class="line"><span class="lineno">   79</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dphitcontentsmask</a>)</div>
<div class="line"><span class="lineno">   80</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dphitcontentsmask</a>;</div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, solid) == <a class="code hl_define" href="server_8h.html#a1fde7f0e5bf0bffbaee0dfb915a643b0">SOLID_SLIDEBOX</a>)</div>
<div class="line"><span class="lineno">   82</span>        {</div>
<div class="line"><span class="lineno">   83</span>            <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, flags) &amp; <a class="code hl_define" href="server_8h.html#a0d4afac2d5c93470f30e261f1d8e55fc">FL_MONSTER</a>)</div>
<div class="line"><span class="lineno">   84</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a> | <a class="code hl_define" href="bspfile_8h.html#a35afee7d75ef29a444b98e351a8d3045">SUPERCONTENTS_MONSTERCLIP</a>;</div>
<div class="line"><span class="lineno">   85</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   86</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a> | <a class="code hl_define" href="bspfile_8h.html#aa8b1bcaea9c05c6c9846ef619aa0327d">SUPERCONTENTS_PLAYERCLIP</a>;</div>
<div class="line"><span class="lineno">   87</span>        }</div>
<div class="line"><span class="lineno">   88</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, solid) == <a class="code hl_define" href="server_8h.html#a5fef0dfae0d8e25c404bf6a6ec355db6">SOLID_CORPSE</a>)</div>
<div class="line"><span class="lineno">   89</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>;</div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, solid) == <a class="code hl_define" href="server_8h.html#ae89a360be120402e1499c24cfbd32da3">SOLID_TRIGGER</a>)</div>
<div class="line"><span class="lineno">   91</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>;</div>
<div class="line"><span class="lineno">   92</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   93</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a> | <a class="code hl_define" href="bspfile_8h.html#a9a9a2ffbe6e30c02f503e020d2ba1c6c">SUPERCONTENTS_CORPSE</a>;</div>
<div class="line"><span class="lineno">   94</span>    }</div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   96</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a> | <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a> | <a class="code hl_define" href="bspfile_8h.html#a9a9a2ffbe6e30c02f503e020d2ba1c6c">SUPERCONTENTS_CORPSE</a>;</div>
<div class="line"><span class="lineno">   97</span>}</div>
<div class="ttc" id="abspfile_8h_html_a141cf05726f903843bc66d2365f56bd2"><div class="ttname"><a href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a></div><div class="ttdeci">#define SUPERCONTENTS_BODY</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00201">bspfile.h:201</a></div></div>
<div class="ttc" id="abspfile_8h_html_a35afee7d75ef29a444b98e351a8d3045"><div class="ttname"><a href="bspfile_8h.html#a35afee7d75ef29a444b98e351a8d3045">SUPERCONTENTS_MONSTERCLIP</a></div><div class="ttdeci">#define SUPERCONTENTS_MONSTERCLIP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00205">bspfile.h:205</a></div></div>
<div class="ttc" id="abspfile_8h_html_a85f0acbb100ce4dc3c63037496d631d6"><div class="ttname"><a href="bspfile_8h.html#a85f0acbb100ce4dc3c63037496d631d6">SUPERCONTENTS_SOLID</a></div><div class="ttdeci">#define SUPERCONTENTS_SOLID</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00196">bspfile.h:196</a></div></div>
<div class="ttc" id="abspfile_8h_html_a9a9a2ffbe6e30c02f503e020d2ba1c6c"><div class="ttname"><a href="bspfile_8h.html#a9a9a2ffbe6e30c02f503e020d2ba1c6c">SUPERCONTENTS_CORPSE</a></div><div class="ttdeci">#define SUPERCONTENTS_CORPSE</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00202">bspfile.h:202</a></div></div>
<div class="ttc" id="abspfile_8h_html_aa8b1bcaea9c05c6c9846ef619aa0327d"><div class="ttname"><a href="bspfile_8h.html#aa8b1bcaea9c05c6c9846ef619aa0327d">SUPERCONTENTS_PLAYERCLIP</a></div><div class="ttdeci">#define SUPERCONTENTS_PLAYERCLIP</div><div class="ttdef"><b>Definition</b> <a href="bspfile_8h_source.html#l00204">bspfile.h:204</a></div></div>
<div class="ttc" id="aserver_8h_html_a0d4afac2d5c93470f30e261f1d8e55fc"><div class="ttname"><a href="server_8h.html#a0d4afac2d5c93470f30e261f1d8e55fc">FL_MONSTER</a></div><div class="ttdeci">#define FL_MONSTER</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00363">server.h:363</a></div></div>
<div class="ttc" id="aserver_8h_html_a1fde7f0e5bf0bffbaee0dfb915a643b0"><div class="ttname"><a href="server_8h.html#a1fde7f0e5bf0bffbaee0dfb915a643b0">SOLID_SLIDEBOX</a></div><div class="ttdeci">#define SOLID_SLIDEBOX</div><div class="ttdoc">touch on edge, but not an onground</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00336">server.h:336</a></div></div>
<div class="ttc" id="aserver_8h_html_a5fef0dfae0d8e25c404bf6a6ec355db6"><div class="ttname"><a href="server_8h.html#a5fef0dfae0d8e25c404bf6a6ec355db6">SOLID_CORPSE</a></div><div class="ttdeci">#define SOLID_CORPSE</div><div class="ttdoc">same as SOLID_BBOX, except it behaves as SOLID_NOT against SOLID_SLIDEBOX objects (players/monsters)</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00339">server.h:339</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="phys_8c_source.html#l00009">PHYS_NudgeOutOfSolid()</a>, <a class="el" href="sv__move_8c_source.html#l00036">SV_CheckBottom()</a>, <a class="el" href="sv__move_8c_source.html#l00109">SV_movestep()</a>, <a class="el" href="sv__phys_8c_source.html#l01472">SV_NudgeOutOfSolid_PivotIsKnownGood()</a>, <a class="el" href="sv__phys_8c_source.html#l02758">SV_Physics_Step()</a>, <a class="el" href="sv__phys_8c_source.html#l01562">SV_PushEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l01668">SV_PushMove()</a>, <a class="el" href="sv__phys_8c_source.html#l00925">SV_TestEntityPosition()</a>, <a class="el" href="svvm__cmds_8c_source.html#l00712">SV_Trace_Toss()</a>, <a class="el" href="sv__user_8c_source.html#l00316">SV_UserFriction()</a>, <a class="el" href="sv__phys_8c_source.html#l02292">SV_WalkMove()</a>, <a class="el" href="svvm__cmds_8c_source.html#l00686">VM_SV_tracebox()</a>, and <a class="el" href="svvm__cmds_8c_source.html#l00649">VM_SV_traceline()</a>.</p>

</div>
</div>
<a id="a9f309efdaf1bf1697cab684fcc9afaae" name="a9f309efdaf1bf1697cab684fcc9afaae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f309efdaf1bf1697cab684fcc9afaae">&#9670;&#160;</a></span>SV_GetPitchSign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> SV_GetPitchSign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__prog__t.html">prvm_prog_t</a> *&#160;</td>
          <td class="paramname"><em>prog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00047">47</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   48</span>{</div>
<div class="line"><span class="lineno">   49</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *model;</div>
<div class="line"><span class="lineno">   50</span>    <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">   51</span>            (model = <a class="code hl_function" href="server_8h.html#ab0fb52acdbe2c15bd2a7c2b6b0ef3ad3">SV_GetModelFromEdict</a>(ent))</div>
<div class="line"><span class="lineno">   52</span>            ?</div>
<div class="line"><span class="lineno">   53</span>            model-&gt;<a class="code hl_variable" href="structmodel__t.html#a0fb268c443d4c9dd629e3af746878fec">type</a> == <a class="code hl_enumvalue" href="model__shared_8h.html#ae8881adaf7dff7ff012ef751075434f4aa9394446a5edb0c5be6667b0908743c9">mod_alias</a></div>
<div class="line"><span class="lineno">   54</span>            :</div>
<div class="line"><span class="lineno">   55</span>            (</div>
<div class="line"><span class="lineno">   56</span>             (((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">char</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pflags</a>)) &amp; <a class="code hl_define" href="protocol_8h.html#a94a34209b71f6617a5e5d9841a09d359">PFLAGS_FULLDYNAMIC</a>)</div>
<div class="line"><span class="lineno">   57</span>             ||</div>
<div class="line"><span class="lineno">   58</span>             ((<a class="code hl_variable" href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a> == <a class="code hl_enumvalue" href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eabcdfeae36a4120575d9979e1cc405ef3">GAME_TENEBRAE</a>) &amp;&amp; ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">unsigned</a> <a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, effects) &amp; (16 | 32)))</div>
<div class="line"><span class="lineno">   59</span>            )</div>
<div class="line"><span class="lineno">   60</span>       )</div>
<div class="line"><span class="lineno">   61</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">return</a> -1;</div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   63</span>}</div>
<div class="ttc" id="acom__game_8c_html_a8261ff184d55a220fafab13efd735946"><div class="ttname"><a href="com__game_8c.html#a8261ff184d55a220fafab13efd735946">gamemode</a></div><div class="ttdeci">gamemode_t gamemode</div><div class="ttdef"><b>Definition</b> <a href="com__game_8c_source.html#l00026">com_game.c:26</a></div></div>
<div class="ttc" id="acom__game_8h_html_af6d07ca49673197d412371baeeb3825eabcdfeae36a4120575d9979e1cc405ef3"><div class="ttname"><a href="com__game_8h.html#af6d07ca49673197d412371baeeb3825eabcdfeae36a4120575d9979e1cc405ef3">GAME_TENEBRAE</a></div><div class="ttdeci">@ GAME_TENEBRAE</div><div class="ttdef"><b>Definition</b> <a href="com__game_8h_source.html#l00041">com_game.h:41</a></div></div>
<div class="ttc" id="amodel__shared_8h_html_ae8881adaf7dff7ff012ef751075434f4aa9394446a5edb0c5be6667b0908743c9"><div class="ttname"><a href="model__shared_8h.html#ae8881adaf7dff7ff012ef751075434f4aa9394446a5edb0c5be6667b0908743c9">mod_alias</a></div><div class="ttdeci">@ mod_alias</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00043">model_shared.h:43</a></div></div>
<div class="ttc" id="aprotocol_8h_html_a94a34209b71f6617a5e5d9841a09d359"><div class="ttname"><a href="protocol_8h.html#a94a34209b71f6617a5e5d9841a09d359">PFLAGS_FULLDYNAMIC</a></div><div class="ttdeci">#define PFLAGS_FULLDYNAMIC</div><div class="ttdef"><b>Definition</b> <a href="protocol_8h_source.html#l00109">protocol.h:109</a></div></div>
<div class="ttc" id="aserver_8h_html_ab0fb52acdbe2c15bd2a7c2b6b0ef3ad3"><div class="ttname"><a href="server_8h.html#ab0fb52acdbe2c15bd2a7c2b6b0ef3ad3">SV_GetModelFromEdict</a></div><div class="ttdeci">model_t * SV_GetModelFromEdict(prvm_edict_t *ed)</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l01600">sv_main.c:1600</a></div></div>
<div class="ttc" id="astructmodel__t_html"><div class="ttname"><a href="structmodel__t.html">model_t</a></div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00428">model_shared.h:429</a></div></div>
<div class="ttc" id="astructmodel__t_html_a0fb268c443d4c9dd629e3af746878fec"><div class="ttname"><a href="structmodel__t.html#a0fb268c443d4c9dd629e3af746878fec">model_t::type</a></div><div class="ttdeci">modtype_t type</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00439">model_shared.h:439</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__send_8c_source.html#l00723">SV_CanSeeBox()</a>, <a class="el" href="svvm__cmds_8c_source.html#l02519">SV_GetEntityMatrix()</a>, <a class="el" href="sv__phys_8c_source.html#l00414">SV_TraceBox()</a>, <a class="el" href="sv__phys_8c_source.html#l00256">SV_TraceLine()</a>, and <a class="el" href="sv__phys_8c_source.html#l00104">SV_TracePoint()</a>.</p>

</div>
</div>
<a id="a91e6d7a6770a04986938885706e85ff3" name="a91e6d7a6770a04986938885706e85ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91e6d7a6770a04986938885706e85ff3">&#9670;&#160;</a></span>SV_Gravity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> SV_Gravity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l01452">1452</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1453</span>{</div>
<div class="line"><span class="lineno"> 1454</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 1455</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ent_gravity</a>;</div>
<div class="line"><span class="lineno"> 1456</span> </div>
<div class="line"><span class="lineno"> 1457</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ent_gravity</a> = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, gravity);</div>
<div class="line"><span class="lineno"> 1458</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ent_gravity</a>)</div>
<div class="line"><span class="lineno"> 1459</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ent_gravity</a> = 1.0f;</div>
<div class="line"><span class="lineno"> 1460</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ent_gravity</a> * <a class="code hl_variable" href="server_8h.html#abd35200903b2c94bfbbd217ab0f4b689">sv_gravity</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>;</div>
<div class="line"><span class="lineno"> 1461</span>}</div>
<div class="ttc" id="aserver_8h_html_abd35200903b2c94bfbbd217ab0f4b689"><div class="ttname"><a href="server_8h.html#abd35200903b2c94bfbbd217ab0f4b689">sv_gravity</a></div><div class="ttdeci">cvar_t sv_gravity</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00132">sv_main.c:132</a></div></div>
<div class="ttc" id="astructserver__t_html_a2e325b04a5d5e6878bdd928a75709d1e"><div class="ttname"><a href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">server_t::frametime</a></div><div class="ttdeci">double frametime</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00077">server.h:77</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l01199">SV_FlyMove()</a>, and <a class="el" href="sv__phys_8c_source.html#l02602">SV_Physics_Toss()</a>.</p>

</div>
</div>
<a id="a3974b72887136f11d2cbaa89bcf06b5a" name="a3974b72887136f11d2cbaa89bcf06b5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3974b72887136f11d2cbaa89bcf06b5a">&#9670;&#160;</a></span>SV_Impact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_Impact </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>e1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l01117">1117</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1118</span>{</div>
<div class="line"><span class="lineno"> 1119</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 1120</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restorevm_tempstringsbuf_cursize</a>;</div>
<div class="line"><span class="lineno"> 1121</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_self</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_other</a>;</div>
<div class="line"><span class="lineno"> 1122</span>    <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a> = (<a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *)trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a00f40ed37bd39dbb8f64e6c5b6f1ea51">ent</a>;</div>
<div class="line"><span class="lineno"> 1123</span> </div>
<div class="line"><span class="lineno"> 1124</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_self</a> = <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self);</div>
<div class="line"><span class="lineno"> 1125</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_other</a> = <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(other);</div>
<div class="line"><span class="lineno"> 1126</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restorevm_tempstringsbuf_cursize</a> = prog-&gt;tempstringsbuf.cursize;</div>
<div class="line"><span class="lineno"> 1127</span> </div>
<div class="line"><span class="lineno"> 1128</span>    <a class="code hl_function" href="prvm__cmds_8c.html#a4b93205a66a96c76c1f75d78ead240d7">VM_SetTraceGlobals</a>(prog, trace);</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>-&gt;free &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>-&gt;free &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, touch) &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, solid) != <a class="code hl_define" href="server_8h.html#a90a438b7dacc8e97147ebe1b8cb88e95">SOLID_NOT</a>)</div>
<div class="line"><span class="lineno"> 1131</span>    {</div>
<div class="line"><span class="lineno"> 1132</span>        <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno"> 1133</span>        <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>);</div>
<div class="line"><span class="lineno"> 1134</span>        <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(other) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>);</div>
<div class="line"><span class="lineno"> 1135</span>        prog-&gt;ExecuteProgram(prog, <a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>, touch), <span class="stringliteral">&quot;QC function self.touch is missing&quot;</span>);</div>
<div class="line"><span class="lineno"> 1136</span>    }</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>-&gt;free &amp;&amp; !<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>-&gt;free &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, touch) &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, solid) != <a class="code hl_define" href="server_8h.html#a90a438b7dacc8e97147ebe1b8cb88e95">SOLID_NOT</a>)</div>
<div class="line"><span class="lineno"> 1139</span>    {</div>
<div class="line"><span class="lineno"> 1140</span>        <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno"> 1141</span>        <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>);</div>
<div class="line"><span class="lineno"> 1142</span>        <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(other) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>);</div>
<div class="line"><span class="lineno"> 1143</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, origin), <a class="code hl_define" href="progsvm_8h.html#ae53aea2c94e92d06edbd52a7d99285a3">PRVM_serverglobalvector</a>(trace_endpos));</div>
<div class="line"><span class="lineno"> 1144</span>        <a class="code hl_define" href="mathlib_8h.html#a28f9f1fe5f50e359e016f7e4e04f8cf1">VectorNegate</a>(trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, <a class="code hl_define" href="progsvm_8h.html#ae53aea2c94e92d06edbd52a7d99285a3">PRVM_serverglobalvector</a>(trace_plane_normal));</div>
<div class="line"><span class="lineno"> 1145</span>        <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(trace_plane_dist) = -trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ad97670ad8b2b94c33ebf49052efd05f0">dist</a>;</div>
<div class="line"><span class="lineno"> 1146</span>        <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(trace_ent) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e1</a>);</div>
<div class="line"><span class="lineno"> 1147</span>        <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trace_dpstartcontents</a>) = 0;</div>
<div class="line"><span class="lineno"> 1148</span>        <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trace_dphitcontents</a>) = 0;</div>
<div class="line"><span class="lineno"> 1149</span>        <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trace_dphitq3surfaceflags</a>) = 0;</div>
<div class="line"><span class="lineno"> 1150</span>        <a class="code hl_define" href="progsvm_8h.html#ac5bfdb57d4777c1441722885d72fea6e">PRVM_serverglobalstring</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trace_dphittexturename</a>) = 0;</div>
<div class="line"><span class="lineno"> 1151</span>        prog-&gt;ExecuteProgram(prog, <a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e2</a>, touch), <span class="stringliteral">&quot;QC function self.touch is missing&quot;</span>);</div>
<div class="line"><span class="lineno"> 1152</span>    }</div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_self</a>;</div>
<div class="line"><span class="lineno"> 1155</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(other) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_other</a>;</div>
<div class="line"><span class="lineno"> 1156</span>    prog-&gt;tempstringsbuf.cursize = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">restorevm_tempstringsbuf_cursize</a>;</div>
<div class="line"><span class="lineno"> 1157</span>}</div>
<div class="ttc" id="amathlib_8h_html_a28f9f1fe5f50e359e016f7e4e04f8cf1"><div class="ttname"><a href="mathlib_8h.html#a28f9f1fe5f50e359e016f7e4e04f8cf1">VectorNegate</a></div><div class="ttdeci">#define VectorNegate(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00094">mathlib.h:94</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_ac5bfdb57d4777c1441722885d72fea6e"><div class="ttname"><a href="progsvm_8h.html#ac5bfdb57d4777c1441722885d72fea6e">PRVM_serverglobalstring</a></div><div class="ttdeci">#define PRVM_serverglobalstring(fieldname)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00178">progsvm.h:178</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_ae53aea2c94e92d06edbd52a7d99285a3"><div class="ttname"><a href="progsvm_8h.html#ae53aea2c94e92d06edbd52a7d99285a3">PRVM_serverglobalvector</a></div><div class="ttdeci">#define PRVM_serverglobalvector(fieldname)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00177">progsvm.h:177</a></div></div>
<div class="ttc" id="aprvm__cmds_8c_html_a4b93205a66a96c76c1f75d78ead240d7"><div class="ttname"><a href="prvm__cmds_8c.html#a4b93205a66a96c76c1f75d78ead240d7">VM_SetTraceGlobals</a></div><div class="ttdeci">void VM_SetTraceGlobals(prvm_prog_t *prog, const trace_t *trace)</div><div class="ttdef"><b>Definition</b> <a href="prvm__cmds_8c_source.html#l05246">prvm_cmds.c:5246</a></div></div>
<div class="ttc" id="aserver_8h_html_a90a438b7dacc8e97147ebe1b8cb88e95"><div class="ttname"><a href="server_8h.html#a90a438b7dacc8e97147ebe1b8cb88e95">SOLID_NOT</a></div><div class="ttdeci">#define SOLID_NOT</div><div class="ttdoc">no interaction with other objects</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00333">server.h:333</a></div></div>
<div class="ttc" id="aunionplane__t_html_ad97670ad8b2b94c33ebf49052efd05f0"><div class="ttname"><a href="unionplane__t.html#ad97670ad8b2b94c33ebf49052efd05f0">plane_t::dist</a></div><div class="ttdeci">vec_t dist</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00014">collision.h:14</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l01199">SV_FlyMove()</a>, and <a class="el" href="sv__phys_8c_source.html#l01562">SV_PushEntity()</a>.</p>

</div>
</div>
<a id="a7c9f31122176959d30eba9f864f843ef" name="a7c9f31122176959d30eba9f864f843ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c9f31122176959d30eba9f864f843ef">&#9670;&#160;</a></span>SV_LinkEdict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_LinkEdict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Needs to be called any time an entity changes origin, mins, maxs, or solid sets ent-&gt;v.absmin and ent-&gt;v.absmax call TouchAreaGrid as well to fire triggers that overlap the box </p>

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00804">804</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  805</span>{</div>
<div class="line"><span class="lineno">  806</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno">  807</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *model;</div>
<div class="line"><span class="lineno">  808</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entangles</a>;</div>
<div class="line"><span class="lineno">  809</span>    <span class="keywordtype">int</span> modelindex;</div>
<div class="line"><span class="lineno">  810</span> </div>
<div class="line"><span class="lineno">  811</span>    <span class="keywordflow">if</span> (ent == prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>)</div>
<div class="line"><span class="lineno">  812</span>        <span class="keywordflow">return</span>;     <span class="comment">// don&#39;t add the world</span></div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>    <span class="keywordflow">if</span> (ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a247e6dccfef4a688f2dba80d4c57270d">free</a>)</div>
<div class="line"><span class="lineno">  815</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>    modelindex = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, modelindex);</div>
<div class="line"><span class="lineno">  818</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">modelindex &lt; 0 || modelindex &gt;</a>= <a class="code hl_define" href="qdefs_8h.html#aff903af1964a7ac4a6fe71edd5efaa6a">MAX_MODELS</a>)</div>
<div class="line"><span class="lineno">  819</span>    {</div>
<div class="line"><span class="lineno">  820</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;edict %i: SOLID_BSP with invalid modelindex!\n&quot;</span>, <a class="code hl_define" href="progsvm_8h.html#a7d15dfc00e1b610f47f92d97e6e81ff0">PRVM_NUM_FOR_EDICT</a>(ent));</div>
<div class="line"><span class="lineno">  821</span>        modelindex = 0;</div>
<div class="line"><span class="lineno">  822</span>    }</div>
<div class="line"><span class="lineno">  823</span>    model = <a class="code hl_function" href="server_8h.html#a68a8fec8cdaef88c9719912c527fa7cf">SV_GetModelByIndex</a>(modelindex);</div>
<div class="line"><span class="lineno">  824</span> </div>
<div class="line"><span class="lineno">  825</span>    <a class="code hl_function" href="progsvm_8h.html#a6fa30e4f857fa18f07d004d5137c5bdb">VM_GenerateFrameGroupBlend</a>(prog, ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;framegroupblend, ent);</div>
<div class="line"><span class="lineno">  826</span>    <a class="code hl_function" href="progsvm_8h.html#acc185163128299b7623aa62c1ef347a5">VM_FrameBlendFromFrameGroupBlend</a>(ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend, ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;framegroupblend, model, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>);</div>
<div class="line"><span class="lineno">  827</span>    <a class="code hl_function" href="progsvm_8h.html#a3dc71102d9364f9b999313f347a7baec">VM_UpdateEdictSkeleton</a>(prog, ent, model, ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend);</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span><span class="comment">// set the abs box</span></div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) == <a class="code hl_define" href="server_8h.html#a020a58a01b95078f6113a39ab20443be">MOVETYPE_PHYSICS</a>)</div>
<div class="line"><span class="lineno">  832</span>    {</div>
<div class="line"><span class="lineno">  833</span>        <span class="comment">// TODO maybe should do this for rotating SOLID_BSP too? Would behave better with rotating doors</span></div>
<div class="line"><span class="lineno">  834</span>        <span class="comment">// TODO special handling for spheres?</span></div>
<div class="line"><span class="lineno">  835</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, mins), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmins</a>);</div>
<div class="line"><span class="lineno">  836</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, maxs), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmaxs</a>);</div>
<div class="line"><span class="lineno">  837</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entangles</a>);</div>
<div class="line"><span class="lineno">  838</span>        <a class="code hl_function" href="sv__phys_8c.html#af8d94ecae3652a53c97431138a3dfce4">RotateBBox</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entangles</a>, mins, maxs);</div>
<div class="line"><span class="lineno">  839</span>        <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), mins, mins);</div>
<div class="line"><span class="lineno">  840</span>        <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), maxs, maxs);</div>
<div class="line"><span class="lineno">  841</span>    }</div>
<div class="line"><span class="lineno">  842</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, solid) == <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a>)</div>
<div class="line"><span class="lineno">  843</span>    {</div>
<div class="line"><span class="lineno">  844</span>        <span class="keywordflow">if</span> (model != <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><span class="lineno">  845</span>        {</div>
<div class="line"><span class="lineno">  846</span>            <span class="keywordflow">if</span> (!model-&gt;<a class="code hl_variable" href="structmodel__t.html#a643e9c5c0df5ca6694a0c1223547681a">TraceBox</a>)</div>
<div class="line"><span class="lineno">  847</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;edict %i: SOLID_BSP with non-collidable model\n&quot;</span>, <a class="code hl_define" href="progsvm_8h.html#a7d15dfc00e1b610f47f92d97e6e81ff0">PRVM_NUM_FOR_EDICT</a>(ent));</div>
<div class="line"><span class="lineno">  848</span> </div>
<div class="line"><span class="lineno">  849</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles)[0] || <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles)[2] || <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, avelocity)[0] || <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, avelocity)[2])</div>
<div class="line"><span class="lineno">  850</span>            {</div>
<div class="line"><span class="lineno">  851</span>                <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), model-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">rotatedmins</a>, mins);</div>
<div class="line"><span class="lineno">  852</span>                <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), model-&gt;<a class="code hl_variable" href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">rotatedmaxs</a>, maxs);</div>
<div class="line"><span class="lineno">  853</span>            }</div>
<div class="line"><span class="lineno">  854</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles)[1] || <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, avelocity)[1])</div>
<div class="line"><span class="lineno">  855</span>            {</div>
<div class="line"><span class="lineno">  856</span>                <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), model-&gt;<a class="code hl_variable" href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">yawmins</a>, mins);</div>
<div class="line"><span class="lineno">  857</span>                <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), model-&gt;<a class="code hl_variable" href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">yawmaxs</a>, maxs);</div>
<div class="line"><span class="lineno">  858</span>            }</div>
<div class="line"><span class="lineno">  859</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  860</span>            {</div>
<div class="line"><span class="lineno">  861</span>                <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), model-&gt;<a class="code hl_variable" href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">normalmins</a>, mins);</div>
<div class="line"><span class="lineno">  862</span>                <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), model-&gt;<a class="code hl_variable" href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">normalmaxs</a>, maxs);</div>
<div class="line"><span class="lineno">  863</span>            }</div>
<div class="line"><span class="lineno">  864</span>        }</div>
<div class="line"><span class="lineno">  865</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  866</span>        {</div>
<div class="line"><span class="lineno">  867</span>            <span class="comment">// SOLID_BSP with no model is valid, mainly because some QC setup code does so temporarily</span></div>
<div class="line"><span class="lineno">  868</span>            <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, mins), mins);</div>
<div class="line"><span class="lineno">  869</span>            <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, maxs), maxs);</div>
<div class="line"><span class="lineno">  870</span>        }</div>
<div class="line"><span class="lineno">  871</span>    }</div>
<div class="line"><span class="lineno">  872</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  873</span>    {</div>
<div class="line"><span class="lineno">  874</span>        <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, mins), mins);</div>
<div class="line"><span class="lineno">  875</span>        <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, maxs), maxs);</div>
<div class="line"><span class="lineno">  876</span>    }</div>
<div class="line"><span class="lineno">  877</span> </div>
<div class="line"><span class="lineno">  878</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a7cdfdb35a2734a8a27fba7003cf0bc0a">sv_legacy_bbox_expand</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  879</span>    {</div>
<div class="line"><span class="lineno">  880</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_define" href="server_8h.html#a989da264ad819360115352a8abb6d506">FL_ITEM</a>)</div>
<div class="line"><span class="lineno">  881</span>        {</div>
<div class="line"><span class="lineno">  882</span>            <span class="comment">// to make items easier to pick up and allow them to be grabbed off</span></div>
<div class="line"><span class="lineno">  883</span>            <span class="comment">// of shelves, the abs sizes are expanded</span></div>
<div class="line"><span class="lineno">  884</span>            mins[0] -= 15;</div>
<div class="line"><span class="lineno">  885</span>            mins[1] -= 15;</div>
<div class="line"><span class="lineno">  886</span>            mins[2] -= 1;</div>
<div class="line"><span class="lineno">  887</span>            maxs[0] += 15;</div>
<div class="line"><span class="lineno">  888</span>            maxs[1] += 15;</div>
<div class="line"><span class="lineno">  889</span>            maxs[2] += 1;</div>
<div class="line"><span class="lineno">  890</span>        }</div>
<div class="line"><span class="lineno">  891</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  892</span>        {</div>
<div class="line"><span class="lineno">  893</span>            <span class="comment">// because movement is clipped an epsilon away from an actual edge,</span></div>
<div class="line"><span class="lineno">  894</span>            <span class="comment">// we must fully check even when bounding boxes don&#39;t quite touch</span></div>
<div class="line"><span class="lineno">  895</span>            mins[0] -= 1;</div>
<div class="line"><span class="lineno">  896</span>            mins[1] -= 1;</div>
<div class="line"><span class="lineno">  897</span>            mins[2] -= 1;</div>
<div class="line"><span class="lineno">  898</span>            maxs[0] += 1;</div>
<div class="line"><span class="lineno">  899</span>            maxs[1] += 1;</div>
<div class="line"><span class="lineno">  900</span>            maxs[2] += 1;</div>
<div class="line"><span class="lineno">  901</span>        }</div>
<div class="line"><span class="lineno">  902</span>    }</div>
<div class="line"><span class="lineno">  903</span> </div>
<div class="line"><span class="lineno">  904</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(mins, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, absmin));</div>
<div class="line"><span class="lineno">  905</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(maxs, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, absmax));</div>
<div class="line"><span class="lineno">  906</span> </div>
<div class="line"><span class="lineno">  907</span>    <a class="code hl_function" href="world_8c.html#ade035adcf665e21698b17337bb024848">World_LinkEdict</a>(&amp;<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a3ffa690135ba8071501ba4c64b6aeaa2">world</a>, ent, mins, maxs, <a class="code hl_variable" href="server_8h.html#a44070f505f7a280b2d6214f551eeb8e8">sv_areagrid_link_SOLID_NOT</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>);</div>
<div class="line"><span class="lineno">  908</span>}</div>
<div class="ttc" id="amathlib_8h_html_ac7c7d40fe22eeaffb66c24bd718f655d"><div class="ttname"><a href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a></div><div class="ttdeci">#define VectorAdd(a, b, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00099">mathlib.h:99</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a3dc71102d9364f9b999313f347a7baec"><div class="ttname"><a href="progsvm_8h.html#a3dc71102d9364f9b999313f347a7baec">VM_UpdateEdictSkeleton</a></div><div class="ttdeci">void VM_UpdateEdictSkeleton(prvm_prog_t *prog, prvm_edict_t *ed, const struct model_s *edmodel, const struct frameblend_s *frameblend)</div></div>
<div class="ttc" id="aprogsvm_8h_html_a6fa30e4f857fa18f07d004d5137c5bdb"><div class="ttname"><a href="progsvm_8h.html#a6fa30e4f857fa18f07d004d5137c5bdb">VM_GenerateFrameGroupBlend</a></div><div class="ttdeci">void VM_GenerateFrameGroupBlend(prvm_prog_t *prog, struct framegroupblend_s *framegroupblend, const prvm_edict_t *ed)</div></div>
<div class="ttc" id="aprogsvm_8h_html_acc185163128299b7623aa62c1ef347a5"><div class="ttname"><a href="progsvm_8h.html#acc185163128299b7623aa62c1ef347a5">VM_FrameBlendFromFrameGroupBlend</a></div><div class="ttdeci">void VM_FrameBlendFromFrameGroupBlend(struct frameblend_s *frameblend, const struct framegroupblend_s *framegroupblend, const struct model_s *model, double curtime)</div></div>
<div class="ttc" id="aqdefs_8h_html_aff903af1964a7ac4a6fe71edd5efaa6a"><div class="ttname"><a href="qdefs_8h.html#aff903af1964a7ac4a6fe71edd5efaa6a">MAX_MODELS</a></div><div class="ttdeci">#define MAX_MODELS</div><div class="ttdoc">max number of models loaded at once (including during level transitions)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00106">qdefs.h:106</a></div></div>
<div class="ttc" id="aserver_8h_html_a020a58a01b95078f6113a39ab20443be"><div class="ttname"><a href="server_8h.html#a020a58a01b95078f6113a39ab20443be">MOVETYPE_PHYSICS</a></div><div class="ttdeci">#define MOVETYPE_PHYSICS</div><div class="ttdoc">indicates this object is physics controlled</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00327">server.h:327</a></div></div>
<div class="ttc" id="aserver_8h_html_a44070f505f7a280b2d6214f551eeb8e8"><div class="ttname"><a href="server_8h.html#a44070f505f7a280b2d6214f551eeb8e8">sv_areagrid_link_SOLID_NOT</a></div><div class="ttdeci">cvar_t sv_areagrid_link_SOLID_NOT</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00075">sv_main.c:75</a></div></div>
<div class="ttc" id="aserver_8h_html_a68a8fec8cdaef88c9719912c527fa7cf"><div class="ttname"><a href="server_8h.html#a68a8fec8cdaef88c9719912c527fa7cf">SV_GetModelByIndex</a></div><div class="ttdeci">model_t * SV_GetModelByIndex(int modelindex)</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l01595">sv_main.c:1595</a></div></div>
<div class="ttc" id="aserver_8h_html_a7cdfdb35a2734a8a27fba7003cf0bc0a"><div class="ttname"><a href="server_8h.html#a7cdfdb35a2734a8a27fba7003cf0bc0a">sv_legacy_bbox_expand</a></div><div class="ttdeci">cvar_t sv_legacy_bbox_expand</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00137">sv_main.c:137</a></div></div>
<div class="ttc" id="aserver_8h_html_a989da264ad819360115352a8abb6d506"><div class="ttname"><a href="server_8h.html#a989da264ad819360115352a8abb6d506">FL_ITEM</a></div><div class="ttdeci">#define FL_ITEM</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00366">server.h:366</a></div></div>
<div class="ttc" id="aserver_8h_html_af1cf42e8ab7f63ccaa9d7eb260d6d593"><div class="ttname"><a href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a></div><div class="ttdeci">#define SOLID_BSP</div><div class="ttdoc">bsp clip, touch on edge, block</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00337">server.h:337</a></div></div>
<div class="ttc" id="astructmodel__t_html_a2c2034d2a113cadab48c388065c65335"><div class="ttname"><a href="structmodel__t.html#a2c2034d2a113cadab48c388065c65335">model_t::rotatedmins</a></div><div class="ttdeci">vec3_t rotatedmins</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00457">model_shared.h:457</a></div></div>
<div class="ttc" id="astructmodel__t_html_a3324a3bec6a016ede4ee308695500bf9"><div class="ttname"><a href="structmodel__t.html#a3324a3bec6a016ede4ee308695500bf9">model_t::yawmaxs</a></div><div class="ttdeci">vec3_t yawmaxs</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00455">model_shared.h:455</a></div></div>
<div class="ttc" id="astructmodel__t_html_a42b76bd94570c0130a33e4dae79f03e5"><div class="ttname"><a href="structmodel__t.html#a42b76bd94570c0130a33e4dae79f03e5">model_t::rotatedmaxs</a></div><div class="ttdeci">vec3_t rotatedmaxs</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00457">model_shared.h:457</a></div></div>
<div class="ttc" id="astructmodel__t_html_a643e9c5c0df5ca6694a0c1223547681a"><div class="ttname"><a href="structmodel__t.html#a643e9c5c0df5ca6694a0c1223547681a">model_t::TraceBox</a></div><div class="ttdeci">void(* TraceBox)(struct model_s *model, const struct frameblend_s *frameblend, const struct skeleton_s *skeleton, struct trace_s *trace, const vec3_t start, const vec3_t boxmins, const vec3_t boxmaxs, const vec3_t end, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00529">model_shared.h:529</a></div></div>
<div class="ttc" id="astructmodel__t_html_a64d99f5cddde13a76e3cf4629b818d8e"><div class="ttname"><a href="structmodel__t.html#a64d99f5cddde13a76e3cf4629b818d8e">model_t::normalmaxs</a></div><div class="ttdeci">vec3_t normalmaxs</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00453">model_shared.h:453</a></div></div>
<div class="ttc" id="astructmodel__t_html_a90f05444c8d96adeaec3beffe4fed932"><div class="ttname"><a href="structmodel__t.html#a90f05444c8d96adeaec3beffe4fed932">model_t::yawmins</a></div><div class="ttdeci">vec3_t yawmins</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00455">model_shared.h:455</a></div></div>
<div class="ttc" id="astructmodel__t_html_ab1e3cb6ca3cb7d53debac5661d033b1f"><div class="ttname"><a href="structmodel__t.html#ab1e3cb6ca3cb7d53debac5661d033b1f">model_t::normalmins</a></div><div class="ttdeci">vec3_t normalmins</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00453">model_shared.h:453</a></div></div>
<div class="ttc" id="astructprvm__edict__t_html_a8c0db02020cee914e59175f91ec1bc20"><div class="ttname"><a href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">prvm_edict_t::priv</a></div><div class="ttdeci">union prvm_edict_t::@25 priv</div></div>
<div class="ttc" id="astructprvm__edict__t_html_aa40346f2eb40e683c8294f13941e60bb"><div class="ttname"><a href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">prvm_edict_t::server</a></div><div class="ttdeci">struct edict_engineprivate_s * server</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00105">progsvm.h:105</a></div></div>
<div class="ttc" id="asv__phys_8c_html_af8d94ecae3652a53c97431138a3dfce4"><div class="ttname"><a href="sv__phys_8c.html#af8d94ecae3652a53c97431138a3dfce4">RotateBBox</a></div><div class="ttdeci">static void RotateBBox(const vec3_t mins, const vec3_t maxs, const vec3_t angles, vec3_t rotatedmins, vec3_t rotatedmaxs)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00767">sv_phys.c:767</a></div></div>
<div class="ttc" id="aworld_8c_html_ade035adcf665e21698b17337bb024848"><div class="ttname"><a href="world_8c.html#ade035adcf665e21698b17337bb024848">World_LinkEdict</a></div><div class="ttdeci">void World_LinkEdict(world_t *world, prvm_edict_t *ent, const vec3_t mins, const vec3_t maxs, qbool link_solid_not)</div><div class="ttdef"><b>Definition</b> <a href="world_8c_source.html#l00320">world.c:320</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="prvm__edict_8c_source.html#l01489">PRVM_ED_LoadFromFile()</a>, <a class="el" href="svvm__cmds_8c_source.html#l00271">SetMinMaxSize()</a>, <a class="el" href="sv__phys_8c_source.html#l02117">SV_CheckStuck()</a>, <a class="el" href="sv__ccmds_8c_source.html#l01399">SV_Ent_Create_f()</a>, <a class="el" href="sv__save_8c_source.html#l00245">SV_Loadgame_f()</a>, <a class="el" href="sv__move_8c_source.html#l00109">SV_movestep()</a>, <a class="el" href="sv__phys_8c_source.html#l03062">SV_Physics_ClientEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l02825">SV_Physics_Entity()</a>, <a class="el" href="sv__phys_8c_source.html#l02504">SV_Physics_Follow()</a>, <a class="el" href="sv__phys_8c_source.html#l02758">SV_Physics_Step()</a>, <a class="el" href="sv__phys_8c_source.html#l01562">SV_PushEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l01668">SV_PushMove()</a>, <a class="el" href="sv__move_8c_source.html#l00257">SV_StepDirection()</a>, <a class="el" href="sv__phys_8c_source.html#l02043">SV_UnstickEntityReturnOffset()</a>, <a class="el" href="sv__phys_8c_source.html#l02292">SV_WalkMove()</a>, <a class="el" href="sv__main_8c_source.html#l02166">SVVM_end_increase_edicts()</a>, <a class="el" href="prvm__cmds_8c_source.html#l05662">VM_nudgeoutofsolid()</a>, <a class="el" href="svvm__cmds_8c_source.html#l01836">VM_SV_copyentity()</a>, <a class="el" href="svvm__cmds_8c_source.html#l01189">VM_SV_droptofloor()</a>, and <a class="el" href="svvm__cmds_8c_source.html#l00247">VM_SV_setorigin()</a>.</p>

</div>
</div>
<a id="afde235834ab0ac8d11bb81b9e14cff61" name="afde235834ab0ac8d11bb81b9e14cff61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afde235834ab0ac8d11bb81b9e14cff61">&#9670;&#160;</a></span>SV_LinkEdict_TouchAreaGrid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_LinkEdict_TouchAreaGrid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00727">727</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  728</span>{</div>
<div class="line"><span class="lineno">  729</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno">  730</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_self</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_other</a>;</div>
<div class="line"><span class="lineno">  731</span>    <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *touch;</div>
<div class="line"><span class="lineno">  732</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>[<a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>];</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>    <span class="keywordflow">if</span> (ent == prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>)</div>
<div class="line"><span class="lineno">  735</span>        <span class="keywordflow">return</span>;     <span class="comment">// don&#39;t add the world</span></div>
<div class="line"><span class="lineno">  736</span> </div>
<div class="line"><span class="lineno">  737</span>    <span class="keywordflow">if</span> (ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a247e6dccfef4a688f2dba80d4c57270d">free</a>)</div>
<div class="line"><span class="lineno">  738</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, solid) == <a class="code hl_define" href="server_8h.html#a90a438b7dacc8e97147ebe1b8cb88e95">SOLID_NOT</a>)</div>
<div class="line"><span class="lineno">  741</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  742</span> </div>
<div class="line"><span class="lineno">  743</span>    <span class="comment">// build a list of edicts to touch, because the link loop can be corrupted</span></div>
<div class="line"><span class="lineno">  744</span>    <span class="comment">// by IncreaseEdicts called during touch functions</span></div>
<div class="line"><span class="lineno">  745</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> = <a class="code hl_function" href="sv__phys_8c.html#a917c9043f29f4272fd300c402d4622a0">SV_EntitiesInBox</a>(ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;areamins, ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;areamaxs, <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>);</div>
<div class="line"><span class="lineno">  746</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> &gt; <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>)</div>
<div class="line"><span class="lineno">  747</span>    {</div>
<div class="line"><span class="lineno">  748</span>        <span class="comment">// this never happens</span></div>
<div class="line"><span class="lineno">  749</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SV_EntitiesInBox returned %i edicts, max was %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>, <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>);</div>
<div class="line"><span class="lineno">  750</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> = <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>;</div>
<div class="line"><span class="lineno">  751</span>    }</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_self</a> = <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self);</div>
<div class="line"><span class="lineno">  754</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_other</a> = <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(other);</div>
<div class="line"><span class="lineno">  755</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  756</span>    {</div>
<div class="line"><span class="lineno">  757</span>        touch = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno">  758</span>        <span class="keywordflow">if</span> (touch != ent &amp;&amp; (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) == <a class="code hl_define" href="server_8h.html#ae89a360be120402e1499c24cfbd32da3">SOLID_TRIGGER</a> &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(touch, touch))</div>
<div class="line"><span class="lineno">  759</span>        {</div>
<div class="line"><span class="lineno">  760</span>            <a class="code hl_function" href="sv__phys_8c.html#a67095d474fa0b88721f6ec8ea3a576c1">SV_LinkEdict_TouchAreaGrid_Call</a>(touch, ent);</div>
<div class="line"><span class="lineno">  761</span>        }</div>
<div class="line"><span class="lineno">  762</span>    }</div>
<div class="line"><span class="lineno">  763</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_self</a>;</div>
<div class="line"><span class="lineno">  764</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(other) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">old_other</a>;</div>
<div class="line"><span class="lineno">  765</span>}</div>
<div class="ttc" id="aqdefs_8h_html_a31ca9f5408b1f7610882c97c3db48826"><div class="ttname"><a href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a></div><div class="ttdeci">#define MAX_EDICTS</div><div class="ttdoc">max number of objects in game world at once (32768 protocol limit)</div><div class="ttdef"><b>Definition</b> <a href="qdefs_8h_source.html#l00105">qdefs.h:105</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a67095d474fa0b88721f6ec8ea3a576c1"><div class="ttname"><a href="sv__phys_8c.html#a67095d474fa0b88721f6ec8ea3a576c1">SV_LinkEdict_TouchAreaGrid_Call</a></div><div class="ttdeci">void SV_LinkEdict_TouchAreaGrid_Call(prvm_edict_t *touch, prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00705">sv_phys.c:705</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a917c9043f29f4272fd300c402d4622a0"><div class="ttname"><a href="sv__phys_8c.html#a917c9043f29f4272fd300c402d4622a0">SV_EntitiesInBox</a></div><div class="ttdeci">int SV_EntitiesInBox(const vec3_t mins, const vec3_t maxs, int maxedicts, prvm_edict_t **resultedicts)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00673">sv_phys.c:673</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__move_8c_source.html#l00109">SV_movestep()</a>, <a class="el" href="sv__phys_8c_source.html#l03156">SV_Physics()</a>, <a class="el" href="sv__phys_8c_source.html#l03062">SV_Physics_ClientEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l02825">SV_Physics_Entity()</a>, <a class="el" href="sv__phys_8c_source.html#l02758">SV_Physics_Step()</a>, <a class="el" href="sv__phys_8c_source.html#l01562">SV_PushEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l01668">SV_PushMove()</a>, <a class="el" href="sv__move_8c_source.html#l00257">SV_StepDirection()</a>, and <a class="el" href="sv__phys_8c_source.html#l02292">SV_WalkMove()</a>.</p>

</div>
</div>
<a id="a67095d474fa0b88721f6ec8ea3a576c1" name="a67095d474fa0b88721f6ec8ea3a576c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67095d474fa0b88721f6ec8ea3a576c1">&#9670;&#160;</a></span>SV_LinkEdict_TouchAreaGrid_Call()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_LinkEdict_TouchAreaGrid_Call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>touch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00705">705</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  706</span>{</div>
<div class="line"><span class="lineno">  707</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno">  708</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(touch);</div>
<div class="line"><span class="lineno">  709</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(other) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent);</div>
<div class="line"><span class="lineno">  710</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno">  711</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(trace_allsolid) = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  712</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(trace_startsolid) = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  713</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(trace_fraction) = 1;</div>
<div class="line"><span class="lineno">  714</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(trace_inwater) = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  715</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(trace_inopen) = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  716</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin), <a class="code hl_define" href="progsvm_8h.html#ae53aea2c94e92d06edbd52a7d99285a3">PRVM_serverglobalvector</a>(trace_endpos));</div>
<div class="line"><span class="lineno">  717</span>    <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a> (<a class="code hl_define" href="progsvm_8h.html#ae53aea2c94e92d06edbd52a7d99285a3">PRVM_serverglobalvector</a>(trace_plane_normal), 0, 0, 1);</div>
<div class="line"><span class="lineno">  718</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(trace_plane_dist) = 0;</div>
<div class="line"><span class="lineno">  719</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(trace_ent) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent);</div>
<div class="line"><span class="lineno">  720</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trace_dpstartcontents</a>) = 0;</div>
<div class="line"><span class="lineno">  721</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trace_dphitcontents</a>) = 0;</div>
<div class="line"><span class="lineno">  722</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trace_dphitq3surfaceflags</a>) = 0;</div>
<div class="line"><span class="lineno">  723</span>    <a class="code hl_define" href="progsvm_8h.html#ac5bfdb57d4777c1441722885d72fea6e">PRVM_serverglobalstring</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trace_dphittexturename</a>) = 0;</div>
<div class="line"><span class="lineno">  724</span>    prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">ExecuteProgram</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(touch, touch), <span class="stringliteral">&quot;QC function self.touch is missing&quot;</span>);</div>
<div class="line"><span class="lineno">  725</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l00727">SV_LinkEdict_TouchAreaGrid()</a>.</p>

</div>
</div>
<a id="adb487bd3f848165c9ac4f679de7b5973" name="adb487bd3f848165c9ac4f679de7b5973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb487bd3f848165c9ac4f679de7b5973">&#9670;&#160;</a></span>SV_NudgeOutOfSolid_PivotIsKnownGood()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> SV_NudgeOutOfSolid_PivotIsKnownGood </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>pivot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l01472">1472</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1473</span>{</div>
<div class="line"><span class="lineno"> 1474</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 1475</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bump</a>;</div>
<div class="line"><span class="lineno"> 1476</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stucktrace</a>;</div>
<div class="line"><span class="lineno"> 1477</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckorigin</a>;</div>
<div class="line"><span class="lineno"> 1478</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckmaxs</a>;</div>
<div class="line"><span class="lineno"> 1479</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">goodmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">goodmaxs</a>;</div>
<div class="line"><span class="lineno"> 1480</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testorigin</a>;</div>
<div class="line"><span class="lineno"> 1481</span>    <a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> nudge;</div>
<div class="line"><span class="lineno"> 1482</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> move;</div>
<div class="line"><span class="lineno"> 1483</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckorigin</a>);</div>
<div class="line"><span class="lineno"> 1484</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, mins), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckmins</a>);</div>
<div class="line"><span class="lineno"> 1485</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, maxs), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckmaxs</a>);</div>
<div class="line"><span class="lineno"> 1486</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pivot</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">goodmins</a>);</div>
<div class="line"><span class="lineno"> 1487</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pivot</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">goodmaxs</a>);</div>
<div class="line"><span class="lineno"> 1488</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bump</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bump</a> &lt; 6;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bump</a>++)</div>
<div class="line"><span class="lineno"> 1489</span>    {</div>
<div class="line"><span class="lineno"> 1490</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coord</a> = 2-(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bump</a> &gt;&gt; 1);</div>
<div class="line"><span class="lineno"> 1491</span>        <span class="comment">//int coord = (bump &gt;&gt; 1);</span></div>
<div class="line"><span class="lineno"> 1492</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a> = (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bump</a> &amp; 1);</div>
<div class="line"><span class="lineno"> 1493</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subbump</a>;</div>
<div class="line"><span class="lineno"> 1494</span> </div>
<div class="line"><span class="lineno"> 1495</span>        <span class="keywordflow">for</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subbump</a> = 0; ; ++<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subbump</a>)</div>
<div class="line"><span class="lineno"> 1496</span>        {</div>
<div class="line"><span class="lineno"> 1497</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckorigin</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testorigin</a>);</div>
<div class="line"><span class="lineno"> 1498</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>)</div>
<div class="line"><span class="lineno"> 1499</span>            {</div>
<div class="line"><span class="lineno"> 1500</span>                <span class="comment">// pushing maxs</span></div>
<div class="line"><span class="lineno"> 1501</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testorigin</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coord</a>] += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckmaxs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coord</a>] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">goodmaxs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coord</a>];</div>
<div class="line"><span class="lineno"> 1502</span>            }</div>
<div class="line"><span class="lineno"> 1503</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1504</span>            {</div>
<div class="line"><span class="lineno"> 1505</span>                <span class="comment">// pushing mins</span></div>
<div class="line"><span class="lineno"> 1506</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testorigin</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coord</a>] += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckmins</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coord</a>] - <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">goodmins</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coord</a>];</div>
<div class="line"><span class="lineno"> 1507</span>            }</div>
<div class="line"><span class="lineno"> 1508</span> </div>
<div class="line"><span class="lineno"> 1509</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stucktrace</a> = <a class="code hl_function" href="sv__phys_8c.html#af0c162bba7ef44fcfa201affd5c853ee">SV_TraceBox</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckorigin</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">goodmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">goodmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testorigin</a>, <a class="code hl_define" href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a>, ent, <a class="code hl_function" href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a>(ent), 0, 0, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno"> 1510</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stucktrace</a>.bmodelstartsolid)</div>
<div class="line"><span class="lineno"> 1511</span>            {</div>
<div class="line"><span class="lineno"> 1512</span>                <span class="comment">// BAD BAD, can&#39;t fix that</span></div>
<div class="line"><span class="lineno"> 1513</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1514</span>            }</div>
<div class="line"><span class="lineno"> 1515</span> </div>
<div class="line"><span class="lineno"> 1516</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stucktrace</a>.fraction &gt;= 1)</div>
<div class="line"><span class="lineno"> 1517</span>                <span class="keywordflow">break</span>; <span class="comment">// it WORKS!</span></div>
<div class="line"><span class="lineno"> 1518</span> </div>
<div class="line"><span class="lineno"> 1519</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">subbump</a> &gt;= 10)</div>
<div class="line"><span class="lineno"> 1520</span>            {</div>
<div class="line"><span class="lineno"> 1521</span>                <span class="comment">// BAD BAD, can&#39;t fix that</span></div>
<div class="line"><span class="lineno"> 1522</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1523</span>            }</div>
<div class="line"><span class="lineno"> 1524</span> </div>
<div class="line"><span class="lineno"> 1525</span>            <span class="comment">// we hit something... let&#39;s move out of it</span></div>
<div class="line"><span class="lineno"> 1526</span>            <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stucktrace</a>.endpos, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">testorigin</a>, move);</div>
<div class="line"><span class="lineno"> 1527</span>            nudge = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stucktrace</a>.plane.normal, move) + 0.03125f; <span class="comment">// FIXME cvar this constant</span></div>
<div class="line"><span class="lineno"> 1528</span>            <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckorigin</a>, nudge, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stucktrace</a>.plane.normal, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckorigin</a>);</div>
<div class="line"><span class="lineno"> 1529</span>        }</div>
<div class="line"><span class="lineno"> 1530</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1531</span><span class="comment">        if(subbump &gt; 0)</span></div>
<div class="line"><span class="lineno"> 1532</span><span class="comment">            Con_Printf(&quot;subbump: %d\n&quot;, subbump);</span></div>
<div class="line"><span class="lineno"> 1533</span><span class="comment">        */</span></div>
<div class="line"><span class="lineno"> 1534</span> </div>
<div class="line"><span class="lineno"> 1535</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="shader__glsl_8h.html#a4ca269cf93df1b512b52174c1a256fe5">dir</a>)</div>
<div class="line"><span class="lineno"> 1536</span>        {</div>
<div class="line"><span class="lineno"> 1537</span>            <span class="comment">// pushing maxs</span></div>
<div class="line"><span class="lineno"> 1538</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">goodmaxs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coord</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckmaxs</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coord</a>];</div>
<div class="line"><span class="lineno"> 1539</span>        }</div>
<div class="line"><span class="lineno"> 1540</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1541</span>        {</div>
<div class="line"><span class="lineno"> 1542</span>            <span class="comment">// pushing mins</span></div>
<div class="line"><span class="lineno"> 1543</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">goodmins</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coord</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckmins</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">coord</a>];</div>
<div class="line"><span class="lineno"> 1544</span>        }</div>
<div class="line"><span class="lineno"> 1545</span>    }</div>
<div class="line"><span class="lineno"> 1546</span> </div>
<div class="line"><span class="lineno"> 1547</span>    <span class="comment">// WE WIN</span></div>
<div class="line"><span class="lineno"> 1548</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stuckorigin</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin));</div>
<div class="line"><span class="lineno"> 1549</span> </div>
<div class="line"><span class="lineno"> 1550</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1551</span>}</div>
<div class="ttc" id="acollision_8c_html_ac0a2160fccec6a28f98e2df5e39d1f7c"><div class="ttname"><a href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a></div><div class="ttdeci">cvar_t collision_extendmovelength</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l00014">collision.c:14</a></div></div>
<div class="ttc" id="aqtypes_8h_html_a34b8d82aced6931bd3a572041e59aa7d"><div class="ttname"><a href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a></div><div class="ttdeci">float vec_t</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00064">qtypes.h:64</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a50467ff3df4ef36847a93af296c57d2c"><div class="ttname"><a href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a></div><div class="ttdeci">int SV_GenericHitSuperContentsMask(const prvm_edict_t *passedict)</div><div class="ttdoc">calculates hitsupercontentsmask for a generic qc entity</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00073">sv_phys.c:73</a></div></div>
<div class="ttc" id="asv__phys_8c_html_af0c162bba7ef44fcfa201affd5c853ee"><div class="ttname"><a href="sv__phys_8c.html#af0c162bba7ef44fcfa201affd5c853ee">SV_TraceBox</a></div><div class="ttdeci">trace_t SV_TraceBox(const vec3_t start, const vec3_t mins, const vec3_t maxs, const vec3_t end, int type, prvm_edict_t *passedict, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask, float extend)</div><div class="ttdoc">traces a box move against worldmodel and all entities in the specified area</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00414">sv_phys.c:414</a></div></div>
<div class="ttc" id="aworld_8h_html_ad9b31bede6128044de93b93641630437"><div class="ttname"><a href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a></div><div class="ttdeci">#define MOVE_NOMONSTERS</div><div class="ttdef"><b>Definition</b> <a href="world_8h_source.html#l00029">world.h:29</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l01668">SV_PushMove()</a>.</p>

</div>
</div>
<a id="ae711dbec1d0bbf081f1048e3d3310807" name="ae711dbec1d0bbf081f1048e3d3310807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae711dbec1d0bbf081f1048e3d3310807">&#9670;&#160;</a></span>SV_Physics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_Physics </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l03156">3156</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3157</span>{</div>
<div class="line"><span class="lineno"> 3158</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 3159</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 3160</span>    <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *ent;</div>
<div class="line"><span class="lineno"> 3161</span> </div>
<div class="line"><span class="lineno"> 3162</span>    <span class="comment">// free memory for resources that are no longer referenced</span></div>
<div class="line"><span class="lineno"> 3163</span>    <a class="code hl_function" href="progsvm_8h.html#a8bdbae85ce2aceb6c43e06571202c07f">PRVM_GarbageCollection</a>(prog);</div>
<div class="line"><span class="lineno"> 3164</span> </div>
<div class="line"><span class="lineno"> 3165</span><span class="comment">// let the progs know that a new frame has started</span></div>
<div class="line"><span class="lineno"> 3166</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>);</div>
<div class="line"><span class="lineno"> 3167</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(other) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>);</div>
<div class="line"><span class="lineno"> 3168</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno"> 3169</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(frametime) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>;</div>
<div class="line"><span class="lineno"> 3170</span>    prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">ExecuteProgram</a>(prog, <a class="code hl_define" href="progsvm_8h.html#aba6a6235071b4fd0eda743357ebb0326">PRVM_serverfunction</a>(StartFrame), <span class="stringliteral">&quot;QC function StartFrame is missing&quot;</span>);</div>
<div class="line"><span class="lineno"> 3171</span> </div>
<div class="line"><span class="lineno"> 3172</span><span class="preprocessor">#ifdef USEODE</span></div>
<div class="line"><span class="lineno"> 3173</span>    <span class="comment">// run physics engine</span></div>
<div class="line"><span class="lineno"> 3174</span>    <a class="code hl_function" href="world_8h.html#a4e83352935bec07dd77bf508fc010970">World_Physics_Frame</a>(&amp;<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a3ffa690135ba8071501ba4c64b6aeaa2">world</a>, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>, <a class="code hl_variable" href="server_8h.html#abd35200903b2c94bfbbd217ab0f4b689">sv_gravity</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno"> 3175</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3176</span> </div>
<div class="line"><span class="lineno"> 3177</span><span class="comment">//</span></div>
<div class="line"><span class="lineno"> 3178</span><span class="comment">// treat each object in turn</span></div>
<div class="line"><span class="lineno"> 3179</span><span class="comment">//</span></div>
<div class="line"><span class="lineno"> 3180</span> </div>
<div class="line"><span class="lineno"> 3181</span>    <span class="comment">// if force_retouch, relink all the entities</span></div>
<div class="line"><span class="lineno"> 3182</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(force_retouch) &gt; 0)</div>
<div class="line"><span class="lineno"> 3183</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, ent = <a class="code hl_define" href="progsvm_8h.html#a5e6d1308a7bb93e27d9cad85515c7dd6">PRVM_EDICT_NUM</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a44e6dca679d367ff168f53ecd94b5f74">num_edicts</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, ent = <a class="code hl_define" href="progsvm_8h.html#a62955b66385ed6d74ad734841c2a0675">PRVM_NEXT_EDICT</a>(ent))</div>
<div class="line"><span class="lineno"> 3184</span>            <span class="keywordflow">if</span> (!ent-&gt;free)</div>
<div class="line"><span class="lineno"> 3185</span>                <a class="code hl_function" href="sv__phys_8c.html#afde235834ab0ac8d11bb81b9e14cff61">SV_LinkEdict_TouchAreaGrid</a>(ent); <span class="comment">// force retouch even for stationary</span></div>
<div class="line"><span class="lineno"> 3186</span> </div>
<div class="line"><span class="lineno"> 3187</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a2335eed8378dbaebf948a0b35a40fad7">sv_gameplayfix_consistentplayerprethink</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3188</span>    {</div>
<div class="line"><span class="lineno"> 3189</span>        <span class="comment">// run physics on the client entities in 3 stages</span></div>
<div class="line"><span class="lineno"> 3190</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, ent = <a class="code hl_define" href="progsvm_8h.html#a5e6d1308a7bb93e27d9cad85515c7dd6">PRVM_EDICT_NUM</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>), <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a> = <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, ent = <a class="code hl_define" href="progsvm_8h.html#a62955b66385ed6d74ad734841c2a0675">PRVM_NEXT_EDICT</a>(ent), <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>++)</div>
<div class="line"><span class="lineno"> 3191</span>            <span class="keywordflow">if</span> (!ent-&gt;free)</div>
<div class="line"><span class="lineno"> 3192</span>                <a class="code hl_function" href="sv__phys_8c.html#a1e6b58a40a0f70093b8f5a0d3aa81750">SV_Physics_ClientEntity_PreThink</a>(ent);</div>
<div class="line"><span class="lineno"> 3193</span> </div>
<div class="line"><span class="lineno"> 3194</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, ent = <a class="code hl_define" href="progsvm_8h.html#a5e6d1308a7bb93e27d9cad85515c7dd6">PRVM_EDICT_NUM</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>), <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a> = <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, ent = <a class="code hl_define" href="progsvm_8h.html#a62955b66385ed6d74ad734841c2a0675">PRVM_NEXT_EDICT</a>(ent), <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>++)</div>
<div class="line"><span class="lineno"> 3195</span>            <span class="keywordflow">if</span> (!ent-&gt;free)</div>
<div class="line"><span class="lineno"> 3196</span>                <a class="code hl_function" href="sv__phys_8c.html#aed8bfbee5a21df58184958fc3b1de414">SV_Physics_ClientEntity</a>(ent);</div>
<div class="line"><span class="lineno"> 3197</span> </div>
<div class="line"><span class="lineno"> 3198</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, ent = <a class="code hl_define" href="progsvm_8h.html#a5e6d1308a7bb93e27d9cad85515c7dd6">PRVM_EDICT_NUM</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>), <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a> = <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, ent = <a class="code hl_define" href="progsvm_8h.html#a62955b66385ed6d74ad734841c2a0675">PRVM_NEXT_EDICT</a>(ent), <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>++)</div>
<div class="line"><span class="lineno"> 3199</span>            <span class="keywordflow">if</span> (!ent-&gt;free)</div>
<div class="line"><span class="lineno"> 3200</span>                <a class="code hl_function" href="sv__phys_8c.html#a9e566493d28cbe7512e5a9f425c46284">SV_Physics_ClientEntity_PostThink</a>(ent);</div>
<div class="line"><span class="lineno"> 3201</span>    }</div>
<div class="line"><span class="lineno"> 3202</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3203</span>    {</div>
<div class="line"><span class="lineno"> 3204</span>        <span class="comment">// run physics on the client entities</span></div>
<div class="line"><span class="lineno"> 3205</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1, ent = <a class="code hl_define" href="progsvm_8h.html#a5e6d1308a7bb93e27d9cad85515c7dd6">PRVM_EDICT_NUM</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>), <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a> = <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">clients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, ent = <a class="code hl_define" href="progsvm_8h.html#a62955b66385ed6d74ad734841c2a0675">PRVM_NEXT_EDICT</a>(ent), <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>++)</div>
<div class="line"><span class="lineno"> 3206</span>        {</div>
<div class="line"><span class="lineno"> 3207</span>            <span class="keywordflow">if</span> (!ent-&gt;free)</div>
<div class="line"><span class="lineno"> 3208</span>            {</div>
<div class="line"><span class="lineno"> 3209</span>                <a class="code hl_function" href="sv__phys_8c.html#a1e6b58a40a0f70093b8f5a0d3aa81750">SV_Physics_ClientEntity_PreThink</a>(ent);</div>
<div class="line"><span class="lineno"> 3210</span>                <a class="code hl_function" href="sv__phys_8c.html#aed8bfbee5a21df58184958fc3b1de414">SV_Physics_ClientEntity</a>(ent);</div>
<div class="line"><span class="lineno"> 3211</span>                <a class="code hl_function" href="sv__phys_8c.html#a9e566493d28cbe7512e5a9f425c46284">SV_Physics_ClientEntity_PostThink</a>(ent);</div>
<div class="line"><span class="lineno"> 3212</span>            }</div>
<div class="line"><span class="lineno"> 3213</span>        }</div>
<div class="line"><span class="lineno"> 3214</span>    }</div>
<div class="line"><span class="lineno"> 3215</span> </div>
<div class="line"><span class="lineno"> 3216</span>    <span class="comment">// run physics on all the non-client entities</span></div>
<div class="line"><span class="lineno"> 3217</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#a58c0132138af5189ac6be78af2fa2eff">sv_freezenonclients</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3218</span>    {</div>
<div class="line"><span class="lineno"> 3219</span>        <span class="keywordflow">for</span> (;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a44e6dca679d367ff168f53ecd94b5f74">num_edicts</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, ent = <a class="code hl_define" href="progsvm_8h.html#a62955b66385ed6d74ad734841c2a0675">PRVM_NEXT_EDICT</a>(ent))</div>
<div class="line"><span class="lineno"> 3220</span>            <span class="keywordflow">if</span> (!ent-&gt;free)</div>
<div class="line"><span class="lineno"> 3221</span>                <a class="code hl_function" href="sv__phys_8c.html#afa4ce51a8d3dfc13dcd113ce2df4248e">SV_Physics_Entity</a>(ent);</div>
<div class="line"><span class="lineno"> 3222</span>        <span class="comment">// make a second pass to see if any ents spawned this frame and make</span></div>
<div class="line"><span class="lineno"> 3223</span>        <span class="comment">// sure they run their move/think</span></div>
<div class="line"><span class="lineno"> 3224</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a1ca4f1d75cfe447a7f2b8e09c5be2674">sv_gameplayfix_delayprojectiles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 3225</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_variable" href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a>.<a class="code hl_variable" href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">maxclients</a> + 1, ent = <a class="code hl_define" href="progsvm_8h.html#a5e6d1308a7bb93e27d9cad85515c7dd6">PRVM_EDICT_NUM</a>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>);<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a44e6dca679d367ff168f53ecd94b5f74">num_edicts</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++, ent = <a class="code hl_define" href="progsvm_8h.html#a62955b66385ed6d74ad734841c2a0675">PRVM_NEXT_EDICT</a>(ent))</div>
<div class="line"><span class="lineno"> 3226</span>                <span class="keywordflow">if</span> (!ent-&gt;priv.server-&gt;move &amp;&amp; !ent-&gt;free)</div>
<div class="line"><span class="lineno"> 3227</span>                    <a class="code hl_function" href="sv__phys_8c.html#afa4ce51a8d3dfc13dcd113ce2df4248e">SV_Physics_Entity</a>(ent);</div>
<div class="line"><span class="lineno"> 3228</span>    }</div>
<div class="line"><span class="lineno"> 3229</span> </div>
<div class="line"><span class="lineno"> 3230</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(force_retouch) &gt; 0)</div>
<div class="line"><span class="lineno"> 3231</span>        <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(force_retouch) = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(0, <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(force_retouch) - 1);</div>
<div class="line"><span class="lineno"> 3232</span> </div>
<div class="line"><span class="lineno"> 3233</span>    <span class="comment">// LadyHavoc: endframe support</span></div>
<div class="line"><span class="lineno"> 3234</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aba6a6235071b4fd0eda743357ebb0326">PRVM_serverfunction</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EndFrame</a>))</div>
<div class="line"><span class="lineno"> 3235</span>    {</div>
<div class="line"><span class="lineno"> 3236</span>        <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>);</div>
<div class="line"><span class="lineno"> 3237</span>        <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(other) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>);</div>
<div class="line"><span class="lineno"> 3238</span>        <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno"> 3239</span>        prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">ExecuteProgram</a>(prog, <a class="code hl_define" href="progsvm_8h.html#aba6a6235071b4fd0eda743357ebb0326">PRVM_serverfunction</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">EndFrame</a>), <span class="stringliteral">&quot;QC function EndFrame is missing&quot;</span>);</div>
<div class="line"><span class="lineno"> 3240</span>    }</div>
<div class="line"><span class="lineno"> 3241</span> </div>
<div class="line"><span class="lineno"> 3242</span>    <span class="comment">// decrement prog-&gt;num_edicts if the highest number entities died</span></div>
<div class="line"><span class="lineno"> 3243</span>    <span class="keywordflow">for</span> (;<a class="code hl_function" href="progsvm_8h.html#aff20d2d1bd3e645e07c7fc5048714e93">PRVM_ED_CanAlloc</a>(prog, <a class="code hl_define" href="progsvm_8h.html#a5e6d1308a7bb93e27d9cad85515c7dd6">PRVM_EDICT_NUM</a>(prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a44e6dca679d367ff168f53ecd94b5f74">num_edicts</a> - 1));prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a44e6dca679d367ff168f53ecd94b5f74">num_edicts</a>--);</div>
<div class="line"><span class="lineno"> 3244</span> </div>
<div class="line"><span class="lineno"> 3245</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#a58c0132138af5189ac6be78af2fa2eff">sv_freezenonclients</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 3246</span>        <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a> += <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>;</div>
<div class="line"><span class="lineno"> 3247</span>}</div>
<div class="ttc" id="amathlib_8h_html_a24e753bacac6be5f30e18f8a2bdefda4"><div class="ttname"><a href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a></div><div class="ttdeci">#define max(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00038">mathlib.h:38</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a62955b66385ed6d74ad734841c2a0675"><div class="ttname"><a href="progsvm_8h.html#a62955b66385ed6d74ad734841c2a0675">PRVM_NEXT_EDICT</a></div><div class="ttdeci">#define PRVM_NEXT_EDICT(e)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00870">progsvm.h:870</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a8bdbae85ce2aceb6c43e06571202c07f"><div class="ttname"><a href="progsvm_8h.html#a8bdbae85ce2aceb6c43e06571202c07f">PRVM_GarbageCollection</a></div><div class="ttdeci">void PRVM_GarbageCollection(prvm_prog_t *prog)</div><div class="ttdef"><b>Definition</b> <a href="prvm__edict_8c_source.html#l03705">prvm_edict.c:3705</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_aba6a6235071b4fd0eda743357ebb0326"><div class="ttname"><a href="progsvm_8h.html#aba6a6235071b4fd0eda743357ebb0326">PRVM_serverfunction</a></div><div class="ttdeci">#define PRVM_serverfunction(funcname)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00181">progsvm.h:181</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_aff20d2d1bd3e645e07c7fc5048714e93"><div class="ttname"><a href="progsvm_8h.html#aff20d2d1bd3e645e07c7fc5048714e93">PRVM_ED_CanAlloc</a></div><div class="ttdeci">qbool PRVM_ED_CanAlloc(prvm_prog_t *prog, prvm_edict_t *e)</div><div class="ttdef"><b>Definition</b> <a href="prvm__edict_8c_source.html#l00238">prvm_edict.c:238</a></div></div>
<div class="ttc" id="aserver_8h_html_a1ca4f1d75cfe447a7f2b8e09c5be2674"><div class="ttname"><a href="server_8h.html#a1ca4f1d75cfe447a7f2b8e09c5be2674">sv_gameplayfix_delayprojectiles</a></div><div class="ttdeci">cvar_t sv_gameplayfix_delayprojectiles</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00106">sv_main.c:106</a></div></div>
<div class="ttc" id="aserver_8h_html_a2335eed8378dbaebf948a0b35a40fad7"><div class="ttname"><a href="server_8h.html#a2335eed8378dbaebf948a0b35a40fad7">sv_gameplayfix_consistentplayerprethink</a></div><div class="ttdeci">cvar_t sv_gameplayfix_consistentplayerprethink</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00105">sv_main.c:105</a></div></div>
<div class="ttc" id="aserver_8h_html_a58c0132138af5189ac6be78af2fa2eff"><div class="ttname"><a href="server_8h.html#a58c0132138af5189ac6be78af2fa2eff">sv_freezenonclients</a></div><div class="ttdeci">cvar_t sv_freezenonclients</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00102">sv_main.c:102</a></div></div>
<div class="ttc" id="aserver_8h_html_ab682c78b3002fa61fa921958f49468de"><div class="ttname"><a href="server_8h.html#ab682c78b3002fa61fa921958f49468de">svs</a></div><div class="ttdeci">server_static_t svs</div><div class="ttdoc">persistant server info</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00220">sv_main.c:220</a></div></div>
<div class="ttc" id="aserver_8h_html_ae0d9d603529d77f276ae086c87f79361"><div class="ttname"><a href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a></div><div class="ttdeci">client_t * host_client</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00029">sv_main.c:29</a></div></div>
<div class="ttc" id="astructserver__static__t_html_a5d7ab3c36f372c5bf82e4ae383a2354a"><div class="ttname"><a href="structserver__static__t.html#a5d7ab3c36f372c5bf82e4ae383a2354a">server_static_t::clients</a></div><div class="ttdeci">struct client_s * clients</div><div class="ttdoc">client slots</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00030">server.h:30</a></div></div>
<div class="ttc" id="astructserver__static__t_html_aee46e1113589800df0e48d4b5e8f7cbf"><div class="ttname"><a href="structserver__static__t.html#aee46e1113589800df0e48d4b5e8f7cbf">server_static_t::maxclients</a></div><div class="ttdeci">int maxclients</div><div class="ttdoc">number of svs.clients slots (updated by maxplayers command)</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00028">server.h:28</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a1e6b58a40a0f70093b8f5a0d3aa81750"><div class="ttname"><a href="sv__phys_8c.html#a1e6b58a40a0f70093b8f5a0d3aa81750">SV_Physics_ClientEntity_PreThink</a></div><div class="ttdeci">static void SV_Physics_ClientEntity_PreThink(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02996">sv_phys.c:2996</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a9e566493d28cbe7512e5a9f425c46284"><div class="ttname"><a href="sv__phys_8c.html#a9e566493d28cbe7512e5a9f425c46284">SV_Physics_ClientEntity_PostThink</a></div><div class="ttdeci">static void SV_Physics_ClientEntity_PostThink(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l03025">sv_phys.c:3025</a></div></div>
<div class="ttc" id="asv__phys_8c_html_aed8bfbee5a21df58184958fc3b1de414"><div class="ttname"><a href="sv__phys_8c.html#aed8bfbee5a21df58184958fc3b1de414">SV_Physics_ClientEntity</a></div><div class="ttdeci">static void SV_Physics_ClientEntity(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l03062">sv_phys.c:3062</a></div></div>
<div class="ttc" id="asv__phys_8c_html_afa4ce51a8d3dfc13dcd113ce2df4248e"><div class="ttname"><a href="sv__phys_8c.html#afa4ce51a8d3dfc13dcd113ce2df4248e">SV_Physics_Entity</a></div><div class="ttdeci">static void SV_Physics_Entity(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02825">sv_phys.c:2825</a></div></div>
<div class="ttc" id="asv__phys_8c_html_afde235834ab0ac8d11bb81b9e14cff61"><div class="ttname"><a href="sv__phys_8c.html#afde235834ab0ac8d11bb81b9e14cff61">SV_LinkEdict_TouchAreaGrid</a></div><div class="ttdeci">void SV_LinkEdict_TouchAreaGrid(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00727">sv_phys.c:727</a></div></div>
<div class="ttc" id="aworld_8h_html_a4e83352935bec07dd77bf508fc010970"><div class="ttname"><a href="world_8h.html#a4e83352935bec07dd77bf508fc010970">World_Physics_Frame</a></div><div class="ttdeci">void World_Physics_Frame(world_t *world, double frametime, double gravity)</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__main_8c_source.html#l02523">SV_Frame()</a>, <a class="el" href="sv__main_8c_source.html#l01799">SV_SpawnServer()</a>, and <a class="el" href="sv__main_8c_source.html#l02708">SV_ThreadFunc()</a>.</p>

</div>
</div>
<a id="aed8bfbee5a21df58184958fc3b1de414" name="aed8bfbee5a21df58184958fc3b1de414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed8bfbee5a21df58184958fc3b1de414">&#9670;&#160;</a></span>SV_Physics_ClientEntity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_Physics_ClientEntity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l03062">3062</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3063</span>{</div>
<div class="line"><span class="lineno"> 3064</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 3065</span>    <span class="comment">// don&#39;t do physics on disconnected clients, FrikBot relies on this</span></div>
<div class="line"><span class="lineno"> 3066</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a0dc39adc2fc9d8527b201ac3c242d41b">begun</a>)</div>
<div class="line"><span class="lineno"> 3067</span>    {</div>
<div class="line"><span class="lineno"> 3068</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">memset</a>(&amp;<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#af34faf05dd7d9a5bf345efa4269140e3">cmd</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#af34faf05dd7d9a5bf345efa4269140e3">cmd</a>));</div>
<div class="line"><span class="lineno"> 3069</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3070</span>    }</div>
<div class="line"><span class="lineno"> 3071</span> </div>
<div class="line"><span class="lineno"> 3072</span>    <span class="comment">// make sure the velocity is sane (not a NaN)</span></div>
<div class="line"><span class="lineno"> 3073</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 3074</span> </div>
<div class="line"><span class="lineno"> 3075</span>    <span class="keywordflow">switch</span> ((<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype))</div>
<div class="line"><span class="lineno"> 3076</span>    {</div>
<div class="line"><span class="lineno"> 3077</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#acfdb74e1211a837a9367772fd20ae716">MOVETYPE_PUSH</a>:</div>
<div class="line"><span class="lineno"> 3078</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a1533eecfe09fd19d7022aec4ac4ddd38">MOVETYPE_FAKEPUSH</a>:</div>
<div class="line"><span class="lineno"> 3079</span>        <a class="code hl_function" href="sv__phys_8c.html#a0ca69f22dc97de2d3e4247c2b2211aff">SV_Physics_Pusher</a> (ent);</div>
<div class="line"><span class="lineno"> 3080</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3081</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a6c6ecacf08db4c42cde89f20f2c7fa6a">MOVETYPE_NONE</a>:</div>
<div class="line"><span class="lineno"> 3082</span>        <span class="comment">// LadyHavoc: manually inlined the thinktime check here because MOVETYPE_NONE is used on so many objects</span></div>
<div class="line"><span class="lineno"> 3083</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, nextthink) &gt; 0 &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, nextthink) &lt;= <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a> + <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>)</div>
<div class="line"><span class="lineno"> 3084</span>            <a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a> (ent);</div>
<div class="line"><span class="lineno"> 3085</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3086</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a6e891ed3c826df137b557643e22b0742">MOVETYPE_FOLLOW</a>:</div>
<div class="line"><span class="lineno"> 3087</span>        <a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a> (ent);</div>
<div class="line"><span class="lineno"> 3088</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a04b1f8f01213dcd8ae305769c62508ea">clmovement_inputtimeout</a> &lt;= 0) <span class="comment">// don&#39;t run physics here if running asynchronously</span></div>
<div class="line"><span class="lineno"> 3089</span>            <a class="code hl_function" href="sv__phys_8c.html#a6bbe0231383c81c36b2428e49333d74f">SV_Physics_Follow</a> (ent);</div>
<div class="line"><span class="lineno"> 3090</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3091</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a275a5c978e2ca7fddf4fa054b025944f">MOVETYPE_NOCLIP</a>:</div>
<div class="line"><span class="lineno"> 3092</span>        <a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a>(ent);</div>
<div class="line"><span class="lineno"> 3093</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a04b1f8f01213dcd8ae305769c62508ea">clmovement_inputtimeout</a> &lt;= 0) <span class="comment">// don&#39;t run physics here if running asynchronously</span></div>
<div class="line"><span class="lineno"> 3094</span>        {</div>
<div class="line"><span class="lineno"> 3095</span>            <a class="code hl_function" href="sv__phys_8c.html#a22c70318aed81f65c06068a81c50cac7">SV_CheckWater</a>(ent);</div>
<div class="line"><span class="lineno"> 3096</span>            <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin));</div>
<div class="line"><span class="lineno"> 3097</span>            <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles), <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, avelocity), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles));</div>
<div class="line"><span class="lineno"> 3098</span>        }</div>
<div class="line"><span class="lineno"> 3099</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3100</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#ad792d937309498faac121c4b92be18d0">MOVETYPE_STEP</a>:</div>
<div class="line"><span class="lineno"> 3101</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a04b1f8f01213dcd8ae305769c62508ea">clmovement_inputtimeout</a> &lt;= 0) <span class="comment">// don&#39;t run physics here if running asynchronously</span></div>
<div class="line"><span class="lineno"> 3102</span>            <a class="code hl_function" href="sv__phys_8c.html#a4c10775ac9a230cf43270bb8b914fa59">SV_Physics_Step</a> (ent);</div>
<div class="line"><span class="lineno"> 3103</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a>(ent))</div>
<div class="line"><span class="lineno"> 3104</span>        <span class="keywordflow">if</span> (ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;waterposition_forceupdate || !<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;waterposition_origin))</div>
<div class="line"><span class="lineno"> 3105</span>        {</div>
<div class="line"><span class="lineno"> 3106</span>            ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;waterposition_forceupdate = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3107</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;waterposition_origin);</div>
<div class="line"><span class="lineno"> 3108</span>            <a class="code hl_function" href="sv__phys_8c.html#a9f6383278aa38f1dbbcfb8bbc456a50e">SV_CheckWaterTransition</a>(ent);</div>
<div class="line"><span class="lineno"> 3109</span>        }</div>
<div class="line"><span class="lineno"> 3110</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3111</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a5aa1aea64f57ec035f06004a8a693a67">MOVETYPE_WALK</a>:</div>
<div class="line"><span class="lineno"> 3112</span>        <a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a> (ent);</div>
<div class="line"><span class="lineno"> 3113</span>        <span class="comment">// don&#39;t run physics here if running asynchronously</span></div>
<div class="line"><span class="lineno"> 3114</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a04b1f8f01213dcd8ae305769c62508ea">clmovement_inputtimeout</a> &lt;= 0)</div>
<div class="line"><span class="lineno"> 3115</span>            <a class="code hl_function" href="sv__phys_8c.html#a39de15c3df1ba58404265c889931685f">SV_WalkMove</a> (ent);</div>
<div class="line"><span class="lineno"> 3116</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3117</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a26443f59be253ee1b8a62ef423fc69bf">MOVETYPE_TOSS</a>:</div>
<div class="line"><span class="lineno"> 3118</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a356e4dab4bfeca23b5f8fa25e5321844">MOVETYPE_BOUNCE</a>:</div>
<div class="line"><span class="lineno"> 3119</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a7b36b9164eaff40489aeb3726003f9d1">MOVETYPE_BOUNCEMISSILE</a>:</div>
<div class="line"><span class="lineno"> 3120</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#aea2c0b21c04068994e9a422320dee8b3">MOVETYPE_FLYMISSILE</a>:</div>
<div class="line"><span class="lineno"> 3121</span>        <span class="comment">// regular thinking</span></div>
<div class="line"><span class="lineno"> 3122</span>        <a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a> (ent);</div>
<div class="line"><span class="lineno"> 3123</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a04b1f8f01213dcd8ae305769c62508ea">clmovement_inputtimeout</a> &lt;= 0) <span class="comment">// don&#39;t run physics here if running asynchronously</span></div>
<div class="line"><span class="lineno"> 3124</span>            <a class="code hl_function" href="sv__phys_8c.html#a60082ef2895da6c7b2e7611ebc04e134">SV_Physics_Toss</a> (ent);</div>
<div class="line"><span class="lineno"> 3125</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3126</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a7dcdd3e4355f22903c38ac5019730330">MOVETYPE_FLY</a>:</div>
<div class="line"><span class="lineno"> 3127</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#ab167dc3bacb2551a831e955f4b5ecd8c">MOVETYPE_FLY_WORLDONLY</a>:</div>
<div class="line"><span class="lineno"> 3128</span>        <a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a> (ent);</div>
<div class="line"><span class="lineno"> 3129</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a04b1f8f01213dcd8ae305769c62508ea">clmovement_inputtimeout</a> &lt;= 0) <span class="comment">// don&#39;t run physics here if running asynchronously</span></div>
<div class="line"><span class="lineno"> 3130</span>            <a class="code hl_function" href="sv__phys_8c.html#a39de15c3df1ba58404265c889931685f">SV_WalkMove</a> (ent);</div>
<div class="line"><span class="lineno"> 3131</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3132</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a020a58a01b95078f6113a39ab20443be">MOVETYPE_PHYSICS</a>:</div>
<div class="line"><span class="lineno"> 3133</span>        <a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a> (ent);</div>
<div class="line"><span class="lineno"> 3134</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3135</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3136</span>        <span class="keywordflow">if</span>((<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) &gt;= <a class="code hl_define" href="server_8h.html#aa89c1bec5cc29f2a0edc455a8f4a1f8a">MOVETYPE_USER_FIRST</a> &amp;&amp; (<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) &lt;= <a class="code hl_define" href="server_8h.html#ad53a0525a77933cdea6baf5aaf635f2a">MOVETYPE_USER_LAST</a>)</div>
<div class="line"><span class="lineno"> 3137</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3138</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;SV_Physics_ClientEntity: bad movetype %i\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype));</div>
<div class="line"><span class="lineno"> 3139</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3140</span>    }</div>
<div class="line"><span class="lineno"> 3141</span> </div>
<div class="line"><span class="lineno"> 3142</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a> (ent);</div>
<div class="line"><span class="lineno"> 3143</span> </div>
<div class="line"><span class="lineno"> 3144</span>    <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 3145</span>    <a class="code hl_function" href="sv__phys_8c.html#afde235834ab0ac8d11bb81b9e14cff61">SV_LinkEdict_TouchAreaGrid</a>(ent);</div>
<div class="line"><span class="lineno"> 3146</span> </div>
<div class="line"><span class="lineno"> 3147</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a> (ent);</div>
<div class="line"><span class="lineno"> 3148</span>}</div>
<div class="ttc" id="amathlib_8h_html_ab7afac99c19ef535c8b808c411f6bc3c"><div class="ttname"><a href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a></div><div class="ttdeci">#define VectorCompare(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00112">mathlib.h:112</a></div></div>
<div class="ttc" id="aserver_8h_html_a1533eecfe09fd19d7022aec4ac4ddd38"><div class="ttname"><a href="server_8h.html#a1533eecfe09fd19d7022aec4ac4ddd38">MOVETYPE_FAKEPUSH</a></div><div class="ttdeci">#define MOVETYPE_FAKEPUSH</div><div class="ttdoc">tenebrae's push that doesn't push</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00326">server.h:326</a></div></div>
<div class="ttc" id="aserver_8h_html_a26443f59be253ee1b8a62ef423fc69bf"><div class="ttname"><a href="server_8h.html#a26443f59be253ee1b8a62ef423fc69bf">MOVETYPE_TOSS</a></div><div class="ttdeci">#define MOVETYPE_TOSS</div><div class="ttdoc">gravity</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00319">server.h:319</a></div></div>
<div class="ttc" id="aserver_8h_html_a275a5c978e2ca7fddf4fa054b025944f"><div class="ttname"><a href="server_8h.html#a275a5c978e2ca7fddf4fa054b025944f">MOVETYPE_NOCLIP</a></div><div class="ttdeci">#define MOVETYPE_NOCLIP</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00321">server.h:321</a></div></div>
<div class="ttc" id="aserver_8h_html_a356e4dab4bfeca23b5f8fa25e5321844"><div class="ttname"><a href="server_8h.html#a356e4dab4bfeca23b5f8fa25e5321844">MOVETYPE_BOUNCE</a></div><div class="ttdeci">#define MOVETYPE_BOUNCE</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00323">server.h:323</a></div></div>
<div class="ttc" id="aserver_8h_html_a5aa1aea64f57ec035f06004a8a693a67"><div class="ttname"><a href="server_8h.html#a5aa1aea64f57ec035f06004a8a693a67">MOVETYPE_WALK</a></div><div class="ttdeci">#define MOVETYPE_WALK</div><div class="ttdoc">gravity</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00316">server.h:316</a></div></div>
<div class="ttc" id="aserver_8h_html_a6c6ecacf08db4c42cde89f20f2c7fa6a"><div class="ttname"><a href="server_8h.html#a6c6ecacf08db4c42cde89f20f2c7fa6a">MOVETYPE_NONE</a></div><div class="ttdeci">#define MOVETYPE_NONE</div><div class="ttdoc">never moves</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00313">server.h:313</a></div></div>
<div class="ttc" id="aserver_8h_html_a6e891ed3c826df137b557643e22b0742"><div class="ttname"><a href="server_8h.html#a6e891ed3c826df137b557643e22b0742">MOVETYPE_FOLLOW</a></div><div class="ttdeci">#define MOVETYPE_FOLLOW</div><div class="ttdoc">track movement of aiment</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00325">server.h:325</a></div></div>
<div class="ttc" id="aserver_8h_html_a7b36b9164eaff40489aeb3726003f9d1"><div class="ttname"><a href="server_8h.html#a7b36b9164eaff40489aeb3726003f9d1">MOVETYPE_BOUNCEMISSILE</a></div><div class="ttdeci">#define MOVETYPE_BOUNCEMISSILE</div><div class="ttdoc">bounce w/o gravity</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00324">server.h:324</a></div></div>
<div class="ttc" id="aserver_8h_html_a7dcdd3e4355f22903c38ac5019730330"><div class="ttname"><a href="server_8h.html#a7dcdd3e4355f22903c38ac5019730330">MOVETYPE_FLY</a></div><div class="ttdeci">#define MOVETYPE_FLY</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00318">server.h:318</a></div></div>
<div class="ttc" id="aserver_8h_html_aa89c1bec5cc29f2a0edc455a8f4a1f8a"><div class="ttname"><a href="server_8h.html#aa89c1bec5cc29f2a0edc455a8f4a1f8a">MOVETYPE_USER_FIRST</a></div><div class="ttdeci">#define MOVETYPE_USER_FIRST</div><div class="ttdoc">user defined movetypes</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00329">server.h:329</a></div></div>
<div class="ttc" id="aserver_8h_html_ab167dc3bacb2551a831e955f4b5ecd8c"><div class="ttname"><a href="server_8h.html#ab167dc3bacb2551a831e955f4b5ecd8c">MOVETYPE_FLY_WORLDONLY</a></div><div class="ttdeci">#define MOVETYPE_FLY_WORLDONLY</div><div class="ttdoc">like MOVETYPE_FLY, but uses MOVE_WORLDONLY for all its traces; objects of this movetype better be SOL...</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00328">server.h:328</a></div></div>
<div class="ttc" id="aserver_8h_html_acfdb74e1211a837a9367772fd20ae716"><div class="ttname"><a href="server_8h.html#acfdb74e1211a837a9367772fd20ae716">MOVETYPE_PUSH</a></div><div class="ttdeci">#define MOVETYPE_PUSH</div><div class="ttdoc">no clip to world, push and crush</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00320">server.h:320</a></div></div>
<div class="ttc" id="aserver_8h_html_ad53a0525a77933cdea6baf5aaf635f2a"><div class="ttname"><a href="server_8h.html#ad53a0525a77933cdea6baf5aaf635f2a">MOVETYPE_USER_LAST</a></div><div class="ttdeci">#define MOVETYPE_USER_LAST</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00330">server.h:330</a></div></div>
<div class="ttc" id="aserver_8h_html_ad792d937309498faac121c4b92be18d0"><div class="ttname"><a href="server_8h.html#ad792d937309498faac121c4b92be18d0">MOVETYPE_STEP</a></div><div class="ttdeci">#define MOVETYPE_STEP</div><div class="ttdoc">gravity, special edge handling</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00317">server.h:317</a></div></div>
<div class="ttc" id="aserver_8h_html_aea2c0b21c04068994e9a422320dee8b3"><div class="ttname"><a href="server_8h.html#aea2c0b21c04068994e9a422320dee8b3">MOVETYPE_FLYMISSILE</a></div><div class="ttdeci">#define MOVETYPE_FLYMISSILE</div><div class="ttdoc">extra size to monsters</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00322">server.h:322</a></div></div>
<div class="ttc" id="astructclient__t_html_a04b1f8f01213dcd8ae305769c62508ea"><div class="ttname"><a href="structclient__t.html#a04b1f8f01213dcd8ae305769c62508ea">client_t::clmovement_inputtimeout</a></div><div class="ttdeci">float clmovement_inputtimeout</div><div class="ttdoc">this is used by sv_clmovement_inputtimeout code</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00230">server.h:230</a></div></div>
<div class="ttc" id="astructclient__t_html_a0dc39adc2fc9d8527b201ac3c242d41b"><div class="ttname"><a href="structclient__t.html#a0dc39adc2fc9d8527b201ac3c242d41b">client_t::begun</a></div><div class="ttdeci">qbool begun</div><div class="ttdoc">false = don't send datagrams</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00194">server.h:194</a></div></div>
<div class="ttc" id="astructclient__t_html_af34faf05dd7d9a5bf345efa4269140e3"><div class="ttname"><a href="structclient__t.html#af34faf05dd7d9a5bf345efa4269140e3">client_t::cmd</a></div><div class="ttdeci">usercmd_t cmd</div><div class="ttdoc">movement</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00217">server.h:217</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a0ca69f22dc97de2d3e4247c2b2211aff"><div class="ttname"><a href="sv__phys_8c.html#a0ca69f22dc97de2d3e4247c2b2211aff">SV_Physics_Pusher</a></div><div class="ttdeci">static void SV_Physics_Pusher(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l01978">sv_phys.c:1978</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a22c70318aed81f65c06068a81c50cac7"><div class="ttname"><a href="sv__phys_8c.html#a22c70318aed81f65c06068a81c50cac7">SV_CheckWater</a></div><div class="ttdeci">static qbool SV_CheckWater(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02152">sv_phys.c:2152</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a39de15c3df1ba58404265c889931685f"><div class="ttname"><a href="sv__phys_8c.html#a39de15c3df1ba58404265c889931685f">SV_WalkMove</a></div><div class="ttdeci">static void SV_WalkMove(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02292">sv_phys.c:2292</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a485731d3cafe0f22d9f8721d53d6c5ec"><div class="ttname"><a href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a></div><div class="ttdeci">static qbool SV_RunThink(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l01083">sv_phys.c:1083</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a4c10775ac9a230cf43270bb8b914fa59"><div class="ttname"><a href="sv__phys_8c.html#a4c10775ac9a230cf43270bb8b914fa59">SV_Physics_Step</a></div><div class="ttdeci">static void SV_Physics_Step(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02758">sv_phys.c:2758</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a60082ef2895da6c7b2e7611ebc04e134"><div class="ttname"><a href="sv__phys_8c.html#a60082ef2895da6c7b2e7611ebc04e134">SV_Physics_Toss</a></div><div class="ttdeci">void SV_Physics_Toss(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02602">sv_phys.c:2602</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a6bbe0231383c81c36b2428e49333d74f"><div class="ttname"><a href="sv__phys_8c.html#a6bbe0231383c81c36b2428e49333d74f">SV_Physics_Follow</a></div><div class="ttdeci">static void SV_Physics_Follow(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02504">sv_phys.c:2504</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a9864353b8cb7a611ab22039ad7aa42ee"><div class="ttname"><a href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a></div><div class="ttdeci">void SV_CheckVelocity(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l01033">sv_phys.c:1033</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a9f6383278aa38f1dbbcfb8bbc456a50e"><div class="ttname"><a href="sv__phys_8c.html#a9f6383278aa38f1dbbcfb8bbc456a50e">SV_CheckWaterTransition</a></div><div class="ttdeci">static void SV_CheckWaterTransition(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02553">sv_phys.c:2553</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03156">SV_Physics()</a>.</p>

</div>
</div>
<a id="a79963a1314dda65a82e42c7d54d78a49" name="a79963a1314dda65a82e42c7d54d78a49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79963a1314dda65a82e42c7d54d78a49">&#9670;&#160;</a></span>SV_Physics_ClientEntity_NoThink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_Physics_ClientEntity_NoThink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02902">2902</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2903</span>{</div>
<div class="line"><span class="lineno"> 2904</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2905</span> </div>
<div class="line"><span class="lineno"> 2906</span>    <span class="comment">// don&#39;t run think at all, that is done during server frames</span></div>
<div class="line"><span class="lineno"> 2907</span>    <span class="comment">// instead, call the movetypes directly so they match client input</span></div>
<div class="line"><span class="lineno"> 2908</span> </div>
<div class="line"><span class="lineno"> 2909</span>    <span class="comment">// This probably only makes sense for CSQC-networked (SendEntity field set) player entities</span></div>
<div class="line"><span class="lineno"> 2910</span>    <span class="keywordflow">switch</span> ((<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype))</div>
<div class="line"><span class="lineno"> 2911</span>    {</div>
<div class="line"><span class="lineno"> 2912</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#acfdb74e1211a837a9367772fd20ae716">MOVETYPE_PUSH</a>:</div>
<div class="line"><span class="lineno"> 2913</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a1533eecfe09fd19d7022aec4ac4ddd38">MOVETYPE_FAKEPUSH</a>:</div>
<div class="line"><span class="lineno"> 2914</span>        <span class="comment">// push physics relies heavily on think times and calls, and so cannot be predicted currently</span></div>
<div class="line"><span class="lineno"> 2915</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;SV_Physics_ClientEntity_NoThink: bad movetype %i\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype));</div>
<div class="line"><span class="lineno"> 2916</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2917</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a6c6ecacf08db4c42cde89f20f2c7fa6a">MOVETYPE_NONE</a>:</div>
<div class="line"><span class="lineno"> 2918</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2919</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a6e891ed3c826df137b557643e22b0742">MOVETYPE_FOLLOW</a>:</div>
<div class="line"><span class="lineno"> 2920</span>        <a class="code hl_function" href="sv__phys_8c.html#a6bbe0231383c81c36b2428e49333d74f">SV_Physics_Follow</a> (ent);</div>
<div class="line"><span class="lineno"> 2921</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2922</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a275a5c978e2ca7fddf4fa054b025944f">MOVETYPE_NOCLIP</a>:</div>
<div class="line"><span class="lineno"> 2923</span>        <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin));</div>
<div class="line"><span class="lineno"> 2924</span>        <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles), <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, avelocity), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles));</div>
<div class="line"><span class="lineno"> 2925</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2926</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#ad792d937309498faac121c4b92be18d0">MOVETYPE_STEP</a>:</div>
<div class="line"><span class="lineno"> 2927</span>        <a class="code hl_function" href="sv__phys_8c.html#a4c10775ac9a230cf43270bb8b914fa59">SV_Physics_Step</a> (ent);</div>
<div class="line"><span class="lineno"> 2928</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2929</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a5aa1aea64f57ec035f06004a8a693a67">MOVETYPE_WALK</a>:</div>
<div class="line"><span class="lineno"> 2930</span>        <a class="code hl_function" href="sv__phys_8c.html#a39de15c3df1ba58404265c889931685f">SV_WalkMove</a> (ent);</div>
<div class="line"><span class="lineno"> 2931</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2932</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a26443f59be253ee1b8a62ef423fc69bf">MOVETYPE_TOSS</a>:</div>
<div class="line"><span class="lineno"> 2933</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a356e4dab4bfeca23b5f8fa25e5321844">MOVETYPE_BOUNCE</a>:</div>
<div class="line"><span class="lineno"> 2934</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a7b36b9164eaff40489aeb3726003f9d1">MOVETYPE_BOUNCEMISSILE</a>:</div>
<div class="line"><span class="lineno"> 2935</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#aea2c0b21c04068994e9a422320dee8b3">MOVETYPE_FLYMISSILE</a>:</div>
<div class="line"><span class="lineno"> 2936</span>        <a class="code hl_function" href="sv__phys_8c.html#a60082ef2895da6c7b2e7611ebc04e134">SV_Physics_Toss</a> (ent);</div>
<div class="line"><span class="lineno"> 2937</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2938</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a7dcdd3e4355f22903c38ac5019730330">MOVETYPE_FLY</a>:</div>
<div class="line"><span class="lineno"> 2939</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#ab167dc3bacb2551a831e955f4b5ecd8c">MOVETYPE_FLY_WORLDONLY</a>:</div>
<div class="line"><span class="lineno"> 2940</span>        <a class="code hl_function" href="sv__phys_8c.html#a39de15c3df1ba58404265c889931685f">SV_WalkMove</a> (ent);</div>
<div class="line"><span class="lineno"> 2941</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2942</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a020a58a01b95078f6113a39ab20443be">MOVETYPE_PHYSICS</a>:</div>
<div class="line"><span class="lineno"> 2943</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2944</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2945</span>        <span class="keywordflow">if</span>((<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) &gt;= <a class="code hl_define" href="server_8h.html#aa89c1bec5cc29f2a0edc455a8f4a1f8a">MOVETYPE_USER_FIRST</a> &amp;&amp; (<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) &lt;= <a class="code hl_define" href="server_8h.html#ad53a0525a77933cdea6baf5aaf635f2a">MOVETYPE_USER_LAST</a>)</div>
<div class="line"><span class="lineno"> 2946</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2947</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;SV_Physics_ClientEntity_NoThink: bad movetype %i\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype));</div>
<div class="line"><span class="lineno"> 2948</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2949</span>    }</div>
<div class="line"><span class="lineno"> 2950</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l02953">SV_Physics_ClientMove()</a>.</p>

</div>
</div>
<a id="a9e566493d28cbe7512e5a9f425c46284" name="a9e566493d28cbe7512e5a9f425c46284"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e566493d28cbe7512e5a9f425c46284">&#9670;&#160;</a></span>SV_Physics_ClientEntity_PostThink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_Physics_ClientEntity_PostThink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l03025">3025</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3026</span>{</div>
<div class="line"><span class="lineno"> 3027</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 3028</span>    <span class="comment">// don&#39;t do physics on disconnected clients, FrikBot relies on this</span></div>
<div class="line"><span class="lineno"> 3029</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a0dc39adc2fc9d8527b201ac3c242d41b">begun</a>)</div>
<div class="line"><span class="lineno"> 3030</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3031</span> </div>
<div class="line"><span class="lineno"> 3032</span>    <span class="comment">// make sure the velocity is sane (not a NaN)</span></div>
<div class="line"><span class="lineno"> 3033</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 3034</span> </div>
<div class="line"><span class="lineno"> 3035</span>    <span class="comment">// call standard player post-think</span></div>
<div class="line"><span class="lineno"> 3036</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno"> 3037</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent);</div>
<div class="line"><span class="lineno"> 3038</span>    prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">ExecuteProgram</a>(prog, <a class="code hl_define" href="progsvm_8h.html#aba6a6235071b4fd0eda743357ebb0326">PRVM_serverfunction</a>(PlayerPostThink), <span class="stringliteral">&quot;QC function PlayerPostThink is missing&quot;</span>);</div>
<div class="line"><span class="lineno"> 3039</span> </div>
<div class="line"><span class="lineno"> 3040</span>    <span class="comment">// make sure the velocity is still sane (not a NaN)</span></div>
<div class="line"><span class="lineno"> 3041</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 3042</span> </div>
<div class="line"><span class="lineno"> 3043</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, fixangle))</div>
<div class="line"><span class="lineno"> 3044</span>    {</div>
<div class="line"><span class="lineno"> 3045</span>        <span class="comment">// angle fixing was requested by physics code...</span></div>
<div class="line"><span class="lineno"> 3046</span>        <span class="comment">// so store the current angles for later use</span></div>
<div class="line"><span class="lineno"> 3047</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles), <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#aa0d40af08a7091dc5762a88d956b3b7a">fixangle_angles</a>);</div>
<div class="line"><span class="lineno"> 3048</span>        <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a5ce2b6373125bddb11f49d2726ca9977">fixangle_angles_set</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3049</span> </div>
<div class="line"><span class="lineno"> 3050</span>        <span class="comment">// and clear fixangle for the next frame</span></div>
<div class="line"><span class="lineno"> 3051</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, fixangle) = 0;</div>
<div class="line"><span class="lineno"> 3052</span>    }</div>
<div class="line"><span class="lineno"> 3053</span> </div>
<div class="line"><span class="lineno"> 3054</span>    <span class="comment">// decrement the countdown variable used to decide when to go back to</span></div>
<div class="line"><span class="lineno"> 3055</span>    <span class="comment">// synchronous physics</span></div>
<div class="line"><span class="lineno"> 3056</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a04b1f8f01213dcd8ae305769c62508ea">clmovement_inputtimeout</a> &gt; <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>)</div>
<div class="line"><span class="lineno"> 3057</span>        <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a04b1f8f01213dcd8ae305769c62508ea">clmovement_inputtimeout</a> -= <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>;</div>
<div class="line"><span class="lineno"> 3058</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3059</span>        <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a04b1f8f01213dcd8ae305769c62508ea">clmovement_inputtimeout</a> = 0;</div>
<div class="line"><span class="lineno"> 3060</span>}</div>
<div class="ttc" id="astructclient__t_html_a5ce2b6373125bddb11f49d2726ca9977"><div class="ttname"><a href="structclient__t.html#a5ce2b6373125bddb11f49d2726ca9977">client_t::fixangle_angles_set</a></div><div class="ttdeci">qbool fixangle_angles_set</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00294">server.h:294</a></div></div>
<div class="ttc" id="astructclient__t_html_aa0d40af08a7091dc5762a88d956b3b7a"><div class="ttname"><a href="structclient__t.html#aa0d40af08a7091dc5762a88d956b3b7a">client_t::fixangle_angles</a></div><div class="ttdeci">vec3_t fixangle_angles</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00295">server.h:295</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03156">SV_Physics()</a>.</p>

</div>
</div>
<a id="a1e6b58a40a0f70093b8f5a0d3aa81750" name="a1e6b58a40a0f70093b8f5a0d3aa81750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e6b58a40a0f70093b8f5a0d3aa81750">&#9670;&#160;</a></span>SV_Physics_ClientEntity_PreThink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_Physics_ClientEntity_PreThink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02996">2996</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2997</span>{</div>
<div class="line"><span class="lineno"> 2998</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2999</span>    <span class="comment">// don&#39;t do physics on disconnected clients, FrikBot relies on this</span></div>
<div class="line"><span class="lineno"> 3000</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a0dc39adc2fc9d8527b201ac3c242d41b">begun</a>)</div>
<div class="line"><span class="lineno"> 3001</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3002</span> </div>
<div class="line"><span class="lineno"> 3003</span>    <span class="comment">// make sure the velocity is sane (not a NaN)</span></div>
<div class="line"><span class="lineno"> 3004</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 3005</span> </div>
<div class="line"><span class="lineno"> 3006</span>    <span class="comment">// don&#39;t run physics here if running asynchronously</span></div>
<div class="line"><span class="lineno"> 3007</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a04b1f8f01213dcd8ae305769c62508ea">clmovement_inputtimeout</a> &lt;= 0)</div>
<div class="line"><span class="lineno"> 3008</span>    {</div>
<div class="line"><span class="lineno"> 3009</span>        <a class="code hl_function" href="server_8h.html#a0ef924cbc77addfc094c3bd134e729dd">SV_PlayerPhysics</a>();</div>
<div class="line"><span class="lineno"> 3010</span>        <span class="comment">//host_client-&gt;cmd.time = max(host_client-&gt;cmd.time, sv.time);</span></div>
<div class="line"><span class="lineno"> 3011</span>    }</div>
<div class="line"><span class="lineno"> 3012</span> </div>
<div class="line"><span class="lineno"> 3013</span>    <span class="comment">// make sure the velocity is still sane (not a NaN)</span></div>
<div class="line"><span class="lineno"> 3014</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 3015</span> </div>
<div class="line"><span class="lineno"> 3016</span>    <span class="comment">// call standard client pre-think</span></div>
<div class="line"><span class="lineno"> 3017</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno"> 3018</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent);</div>
<div class="line"><span class="lineno"> 3019</span>    prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">ExecuteProgram</a>(prog, <a class="code hl_define" href="progsvm_8h.html#aba6a6235071b4fd0eda743357ebb0326">PRVM_serverfunction</a>(PlayerPreThink), <span class="stringliteral">&quot;QC function PlayerPreThink is missing&quot;</span>);</div>
<div class="line"><span class="lineno"> 3020</span> </div>
<div class="line"><span class="lineno"> 3021</span>    <span class="comment">// make sure the velocity is still sane (not a NaN)</span></div>
<div class="line"><span class="lineno"> 3022</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 3023</span>}</div>
<div class="ttc" id="aserver_8h_html_a0ef924cbc77addfc094c3bd134e729dd"><div class="ttname"><a href="server_8h.html#a0ef924cbc77addfc094c3bd134e729dd">SV_PlayerPhysics</a></div><div class="ttdeci">void SV_PlayerPhysics(void)</div><div class="ttdef"><b>Definition</b> <a href="sv__user_8c_source.html#l00571">sv_user.c:571</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03156">SV_Physics()</a>.</p>

</div>
</div>
<a id="afb35a099ede593306dda33b0e5a01b81" name="afb35a099ede593306dda33b0e5a01b81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb35a099ede593306dda33b0e5a01b81">&#9670;&#160;</a></span>SV_Physics_ClientMove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_Physics_ClientMove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02953">2953</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2954</span>{</div>
<div class="line"><span class="lineno"> 2955</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2956</span>    <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *ent;</div>
<div class="line"><span class="lineno"> 2957</span>    ent = <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#ac2c6acb2c0bf7aad3ebf464c29f80843">edict</a>;</div>
<div class="line"><span class="lineno"> 2958</span> </div>
<div class="line"><span class="lineno"> 2959</span>    <span class="comment">// call player physics, this needs the proper frametime</span></div>
<div class="line"><span class="lineno"> 2960</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(frametime) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>;</div>
<div class="line"><span class="lineno"> 2961</span>    <a class="code hl_function" href="server_8h.html#a0ef924cbc77addfc094c3bd134e729dd">SV_PlayerPhysics</a>();</div>
<div class="line"><span class="lineno"> 2962</span> </div>
<div class="line"><span class="lineno"> 2963</span>    <span class="comment">// call standard client pre-think, with frametime = 0</span></div>
<div class="line"><span class="lineno"> 2964</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno"> 2965</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(frametime) = 0;</div>
<div class="line"><span class="lineno"> 2966</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent);</div>
<div class="line"><span class="lineno"> 2967</span>    prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">ExecuteProgram</a>(prog, <a class="code hl_define" href="progsvm_8h.html#aba6a6235071b4fd0eda743357ebb0326">PRVM_serverfunction</a>(PlayerPreThink), <span class="stringliteral">&quot;QC function PlayerPreThink is missing&quot;</span>);</div>
<div class="line"><span class="lineno"> 2968</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(frametime) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>;</div>
<div class="line"><span class="lineno"> 2969</span> </div>
<div class="line"><span class="lineno"> 2970</span>    <span class="comment">// make sure the velocity is sane (not a NaN)</span></div>
<div class="line"><span class="lineno"> 2971</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 2972</span> </div>
<div class="line"><span class="lineno"> 2973</span>    <span class="comment">// perform movetype behaviour</span></div>
<div class="line"><span class="lineno"> 2974</span>    <span class="comment">// note: will always be MOVETYPE_WALK if disableclientprediction = 0</span></div>
<div class="line"><span class="lineno"> 2975</span>    <a class="code hl_function" href="sv__phys_8c.html#a79963a1314dda65a82e42c7d54d78a49">SV_Physics_ClientEntity_NoThink</a> (ent);</div>
<div class="line"><span class="lineno"> 2976</span> </div>
<div class="line"><span class="lineno"> 2977</span>    <span class="comment">// call standard player post-think, with frametime = 0</span></div>
<div class="line"><span class="lineno"> 2978</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno"> 2979</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(frametime) = 0;</div>
<div class="line"><span class="lineno"> 2980</span>    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent);</div>
<div class="line"><span class="lineno"> 2981</span>    prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">ExecuteProgram</a>(prog, <a class="code hl_define" href="progsvm_8h.html#aba6a6235071b4fd0eda743357ebb0326">PRVM_serverfunction</a>(PlayerPostThink), <span class="stringliteral">&quot;QC function PlayerPostThink is missing&quot;</span>);</div>
<div class="line"><span class="lineno"> 2982</span>    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(frametime) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>;</div>
<div class="line"><span class="lineno"> 2983</span> </div>
<div class="line"><span class="lineno"> 2984</span>    <span class="keywordflow">if</span>(<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, fixangle))</div>
<div class="line"><span class="lineno"> 2985</span>    {</div>
<div class="line"><span class="lineno"> 2986</span>        <span class="comment">// angle fixing was requested by physics code...</span></div>
<div class="line"><span class="lineno"> 2987</span>        <span class="comment">// so store the current angles for later use</span></div>
<div class="line"><span class="lineno"> 2988</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles), <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#aa0d40af08a7091dc5762a88d956b3b7a">fixangle_angles</a>);</div>
<div class="line"><span class="lineno"> 2989</span>        <a class="code hl_variable" href="server_8h.html#ae0d9d603529d77f276ae086c87f79361">host_client</a>-&gt;<a class="code hl_variable" href="structclient__t.html#a5ce2b6373125bddb11f49d2726ca9977">fixangle_angles_set</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2990</span> </div>
<div class="line"><span class="lineno"> 2991</span>        <span class="comment">// and clear fixangle for the next frame</span></div>
<div class="line"><span class="lineno"> 2992</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, fixangle) = 0;</div>
<div class="line"><span class="lineno"> 2993</span>    }</div>
<div class="line"><span class="lineno"> 2994</span>}</div>
<div class="ttc" id="astructclient__t_html_ac2c6acb2c0bf7aad3ebf464c29f80843"><div class="ttname"><a href="structclient__t.html#ac2c6acb2c0bf7aad3ebf464c29f80843">client_t::edict</a></div><div class="ttdeci">prvm_edict_t * edict</div><div class="ttdoc">PRVM_EDICT_NUM(clientnum+1)</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00222">server.h:222</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a79963a1314dda65a82e42c7d54d78a49"><div class="ttname"><a href="sv__phys_8c.html#a79963a1314dda65a82e42c7d54d78a49">SV_Physics_ClientEntity_NoThink</a></div><div class="ttdeci">static void SV_Physics_ClientEntity_NoThink(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02902">sv_phys.c:2902</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__user_8c_source.html#l00775">SV_ExecuteClientMoves()</a>.</p>

</div>
</div>
<a id="afa4ce51a8d3dfc13dcd113ce2df4248e" name="afa4ce51a8d3dfc13dcd113ce2df4248e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa4ce51a8d3dfc13dcd113ce2df4248e">&#9670;&#160;</a></span>SV_Physics_Entity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_Physics_Entity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02825">2825</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2826</span>{</div>
<div class="line"><span class="lineno"> 2827</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2828</span>    <span class="comment">// don&#39;t run think/move on newly spawned projectiles as it messes up</span></div>
<div class="line"><span class="lineno"> 2829</span>    <span class="comment">// movement interpolation and rocket trails, and is inconsistent with</span></div>
<div class="line"><span class="lineno"> 2830</span>    <span class="comment">// respect to entities spawned in the same frame</span></div>
<div class="line"><span class="lineno"> 2831</span>    <span class="comment">// (if an ent spawns a higher numbered ent, it moves in the same frame,</span></div>
<div class="line"><span class="lineno"> 2832</span>    <span class="comment">//  but if it spawns a lower numbered ent, it doesn&#39;t - this never moves</span></div>
<div class="line"><span class="lineno"> 2833</span>    <span class="comment">//  ents in the first frame regardless)</span></div>
<div class="line"><span class="lineno"> 2834</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">runmove</a> = ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;move;</div>
<div class="line"><span class="lineno"> 2835</span>    ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;move = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2836</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">runmove</a> &amp;&amp; <a class="code hl_variable" href="server_8h.html#a1ca4f1d75cfe447a7f2b8e09c5be2674">sv_gameplayfix_delayprojectiles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 2837</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2838</span>    <span class="keywordflow">switch</span> ((<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype))</div>
<div class="line"><span class="lineno"> 2839</span>    {</div>
<div class="line"><span class="lineno"> 2840</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#acfdb74e1211a837a9367772fd20ae716">MOVETYPE_PUSH</a>:</div>
<div class="line"><span class="lineno"> 2841</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a1533eecfe09fd19d7022aec4ac4ddd38">MOVETYPE_FAKEPUSH</a>:</div>
<div class="line"><span class="lineno"> 2842</span>        <a class="code hl_function" href="sv__phys_8c.html#a0ca69f22dc97de2d3e4247c2b2211aff">SV_Physics_Pusher</a> (ent);</div>
<div class="line"><span class="lineno"> 2843</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2844</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a6c6ecacf08db4c42cde89f20f2c7fa6a">MOVETYPE_NONE</a>:</div>
<div class="line"><span class="lineno"> 2845</span>        <span class="comment">// LadyHavoc: manually inlined the thinktime check here because MOVETYPE_NONE is used on so many objects</span></div>
<div class="line"><span class="lineno"> 2846</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, nextthink) &gt; 0 &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, nextthink) &lt;= <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a> + <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>)</div>
<div class="line"><span class="lineno"> 2847</span>            <a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a> (ent);</div>
<div class="line"><span class="lineno"> 2848</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2849</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a6e891ed3c826df137b557643e22b0742">MOVETYPE_FOLLOW</a>:</div>
<div class="line"><span class="lineno"> 2850</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a>(ent))</div>
<div class="line"><span class="lineno"> 2851</span>            <a class="code hl_function" href="sv__phys_8c.html#a6bbe0231383c81c36b2428e49333d74f">SV_Physics_Follow</a> (ent);</div>
<div class="line"><span class="lineno"> 2852</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2853</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a275a5c978e2ca7fddf4fa054b025944f">MOVETYPE_NOCLIP</a>:</div>
<div class="line"><span class="lineno"> 2854</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a>(ent))</div>
<div class="line"><span class="lineno"> 2855</span>        {</div>
<div class="line"><span class="lineno"> 2856</span>            <a class="code hl_function" href="sv__phys_8c.html#a22c70318aed81f65c06068a81c50cac7">SV_CheckWater</a>(ent);</div>
<div class="line"><span class="lineno"> 2857</span>            <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin));</div>
<div class="line"><span class="lineno"> 2858</span>            <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles), <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, avelocity), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles));</div>
<div class="line"><span class="lineno"> 2859</span>        }</div>
<div class="line"><span class="lineno"> 2860</span>        <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 2861</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2862</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#ad792d937309498faac121c4b92be18d0">MOVETYPE_STEP</a>:</div>
<div class="line"><span class="lineno"> 2863</span>        <a class="code hl_function" href="sv__phys_8c.html#a4c10775ac9a230cf43270bb8b914fa59">SV_Physics_Step</a> (ent);</div>
<div class="line"><span class="lineno"> 2864</span>        <span class="comment">// regular thinking</span></div>
<div class="line"><span class="lineno"> 2865</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a>(ent))</div>
<div class="line"><span class="lineno"> 2866</span>        <span class="keywordflow">if</span> (ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;waterposition_forceupdate || !<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;waterposition_origin))</div>
<div class="line"><span class="lineno"> 2867</span>        {</div>
<div class="line"><span class="lineno"> 2868</span>            ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;waterposition_forceupdate = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2869</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;waterposition_origin);</div>
<div class="line"><span class="lineno"> 2870</span>            <a class="code hl_function" href="sv__phys_8c.html#a9f6383278aa38f1dbbcfb8bbc456a50e">SV_CheckWaterTransition</a>(ent);</div>
<div class="line"><span class="lineno"> 2871</span>        }</div>
<div class="line"><span class="lineno"> 2872</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2873</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a5aa1aea64f57ec035f06004a8a693a67">MOVETYPE_WALK</a>:</div>
<div class="line"><span class="lineno"> 2874</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a> (ent))</div>
<div class="line"><span class="lineno"> 2875</span>            <a class="code hl_function" href="sv__phys_8c.html#a39de15c3df1ba58404265c889931685f">SV_WalkMove</a> (ent);</div>
<div class="line"><span class="lineno"> 2876</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2877</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a26443f59be253ee1b8a62ef423fc69bf">MOVETYPE_TOSS</a>:</div>
<div class="line"><span class="lineno"> 2878</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a356e4dab4bfeca23b5f8fa25e5321844">MOVETYPE_BOUNCE</a>:</div>
<div class="line"><span class="lineno"> 2879</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a7b36b9164eaff40489aeb3726003f9d1">MOVETYPE_BOUNCEMISSILE</a>:</div>
<div class="line"><span class="lineno"> 2880</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#aea2c0b21c04068994e9a422320dee8b3">MOVETYPE_FLYMISSILE</a>:</div>
<div class="line"><span class="lineno"> 2881</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a7dcdd3e4355f22903c38ac5019730330">MOVETYPE_FLY</a>:</div>
<div class="line"><span class="lineno"> 2882</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#ab167dc3bacb2551a831e955f4b5ecd8c">MOVETYPE_FLY_WORLDONLY</a>:</div>
<div class="line"><span class="lineno"> 2883</span>        <span class="comment">// regular thinking</span></div>
<div class="line"><span class="lineno"> 2884</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a> (ent))</div>
<div class="line"><span class="lineno"> 2885</span>            <a class="code hl_function" href="sv__phys_8c.html#a60082ef2895da6c7b2e7611ebc04e134">SV_Physics_Toss</a> (ent);</div>
<div class="line"><span class="lineno"> 2886</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2887</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a020a58a01b95078f6113a39ab20443be">MOVETYPE_PHYSICS</a>:</div>
<div class="line"><span class="lineno"> 2888</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="sv__phys_8c.html#a485731d3cafe0f22d9f8721d53d6c5ec">SV_RunThink</a>(ent))</div>
<div class="line"><span class="lineno"> 2889</span>        {</div>
<div class="line"><span class="lineno"> 2890</span>            <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 2891</span>            <a class="code hl_function" href="sv__phys_8c.html#afde235834ab0ac8d11bb81b9e14cff61">SV_LinkEdict_TouchAreaGrid</a>(ent);</div>
<div class="line"><span class="lineno"> 2892</span>        }</div>
<div class="line"><span class="lineno"> 2893</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2894</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2895</span>        <span class="keywordflow">if</span>((<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) &gt;= <a class="code hl_define" href="server_8h.html#aa89c1bec5cc29f2a0edc455a8f4a1f8a">MOVETYPE_USER_FIRST</a> &amp;&amp; (<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) &lt;= <a class="code hl_define" href="server_8h.html#ad53a0525a77933cdea6baf5aaf635f2a">MOVETYPE_USER_LAST</a>)</div>
<div class="line"><span class="lineno"> 2896</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2897</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a> (<span class="stringliteral">&quot;SV_Physics: bad movetype %i\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype));</div>
<div class="line"><span class="lineno"> 2898</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2899</span>    }</div>
<div class="line"><span class="lineno"> 2900</span>}</div>
<div class="ttc" id="aqtypes_8h_html_aa250998bce2dc350e4f644297bb579c3"><div class="ttname"><a href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a></div><div class="ttdeci">bool qbool</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00009">qtypes.h:9</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03156">SV_Physics()</a>.</p>

</div>
</div>
<a id="a6bbe0231383c81c36b2428e49333d74f" name="a6bbe0231383c81c36b2428e49333d74f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bbe0231383c81c36b2428e49333d74f">&#9670;&#160;</a></span>SV_Physics_Follow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_Physics_Follow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02504">2504</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2505</span>{</div>
<div class="line"><span class="lineno"> 2506</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2507</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> vf, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vr</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vu</a>, angles, <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>;</div>
<div class="line"><span class="lineno"> 2508</span>    <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>;</div>
<div class="line"><span class="lineno"> 2509</span> </div>
<div class="line"><span class="lineno"> 2510</span>    <span class="comment">// LadyHavoc: implemented rotation on MOVETYPE_FOLLOW objects</span></div>
<div class="line"><span class="lineno"> 2511</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> = <a class="code hl_define" href="progsvm_8h.html#a97138ae5d960d8b55d8db396abd68d0e">PRVM_PROG_TO_EDICT</a>(<a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, aiment));</div>
<div class="line"><span class="lineno"> 2512</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>, angles)[0] == <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, punchangle)[0] &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>, angles)[1] == <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, punchangle)[1] &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>, angles)[2] == <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, punchangle)[2])</div>
<div class="line"><span class="lineno"> 2513</span>    {</div>
<div class="line"><span class="lineno"> 2514</span>        <span class="comment">// quick case for no rotation</span></div>
<div class="line"><span class="lineno"> 2515</span>        <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>, origin), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, view_ofs), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin));</div>
<div class="line"><span class="lineno"> 2516</span>    }</div>
<div class="line"><span class="lineno"> 2517</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2518</span>    {</div>
<div class="line"><span class="lineno"> 2519</span>        angles[0] = -<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, punchangle)[0];</div>
<div class="line"><span class="lineno"> 2520</span>        angles[1] =  <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, punchangle)[1];</div>
<div class="line"><span class="lineno"> 2521</span>        angles[2] =  <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, punchangle)[2];</div>
<div class="line"><span class="lineno"> 2522</span>        <a class="code hl_function" href="mathlib_8c.html#abcfd2eb08af2296b6ea28caf16717a09">AngleVectors</a> (angles, vf, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vr</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vu</a>);</div>
<div class="line"><span class="lineno"> 2523</span>        <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, view_ofs)[0] * vf[0] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, view_ofs)[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vr</a>[0] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, view_ofs)[2] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vu</a>[0];</div>
<div class="line"><span class="lineno"> 2524</span>        <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, view_ofs)[0] * vf[1] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, view_ofs)[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vr</a>[1] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, view_ofs)[2] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vu</a>[1];</div>
<div class="line"><span class="lineno"> 2525</span>        <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] = <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, view_ofs)[0] * vf[2] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, view_ofs)[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vr</a>[2] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, view_ofs)[2] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vu</a>[2];</div>
<div class="line"><span class="lineno"> 2526</span>        angles[0] = -<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>, angles)[0];</div>
<div class="line"><span class="lineno"> 2527</span>        angles[1] =  <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>, angles)[1];</div>
<div class="line"><span class="lineno"> 2528</span>        angles[2] =  <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>, angles)[2];</div>
<div class="line"><span class="lineno"> 2529</span>        <a class="code hl_function" href="mathlib_8c.html#abcfd2eb08af2296b6ea28caf16717a09">AngleVectors</a> (angles, vf, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vr</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vu</a>);</div>
<div class="line"><span class="lineno"> 2530</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[0] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] * vf[0] + <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] * vf[1] + <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] * vf[2] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>, origin)[0];</div>
<div class="line"><span class="lineno"> 2531</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[1] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vr</a>[0] + <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vr</a>[1] + <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vr</a>[2] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>, origin)[1];</div>
<div class="line"><span class="lineno"> 2532</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[2] = <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vu</a>[0] + <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vu</a>[1] + <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">vu</a>[2] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>, origin)[2];</div>
<div class="line"><span class="lineno"> 2533</span>    }</div>
<div class="line"><span class="lineno"> 2534</span>    <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>, angles), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, v_angle), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles));</div>
<div class="line"><span class="lineno"> 2535</span>    <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 2536</span>    <span class="comment">//SV_LinkEdict_TouchAreaGrid(ent);</span></div>
<div class="line"><span class="lineno"> 2537</span>}</div>
<div class="ttc" id="amathlib_8c_html_abcfd2eb08af2296b6ea28caf16717a09"><div class="ttname"><a href="mathlib_8c.html#abcfd2eb08af2296b6ea28caf16717a09">AngleVectors</a></div><div class="ttdeci">void AngleVectors(const vec3_t angles, vec3_t forward, vec3_t right, vec3_t up)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8c_source.html#l00444">mathlib.c:444</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a97138ae5d960d8b55d8db396abd68d0e"><div class="ttname"><a href="progsvm_8h.html#a97138ae5d960d8b55d8db396abd68d0e">PRVM_PROG_TO_EDICT</a></div><div class="ttdeci">#define PRVM_PROG_TO_EDICT(n)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00874">progsvm.h:874</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03062">SV_Physics_ClientEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l02902">SV_Physics_ClientEntity_NoThink()</a>, and <a class="el" href="sv__phys_8c_source.html#l02825">SV_Physics_Entity()</a>.</p>

</div>
</div>
<a id="a0ca69f22dc97de2d3e4247c2b2211aff" name="a0ca69f22dc97de2d3e4247c2b2211aff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ca69f22dc97de2d3e4247c2b2211aff">&#9670;&#160;</a></span>SV_Physics_Pusher()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_Physics_Pusher </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l01978">1978</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1979</span>{</div>
<div class="line"><span class="lineno"> 1980</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 1981</span>    <a class="code hl_typedef" href="qtypes_8h.html#ad5100de260acb46c4ec063e0bcf7a2f2">prvm_vec_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thinktime</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldltime</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>;</div>
<div class="line"><span class="lineno"> 1982</span> </div>
<div class="line"><span class="lineno"> 1983</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldltime</a> = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, ltime);</div>
<div class="line"><span class="lineno"> 1984</span> </div>
<div class="line"><span class="lineno"> 1985</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thinktime</a> = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, nextthink);</div>
<div class="line"><span class="lineno"> 1986</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thinktime</a> &lt; <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, ltime) + <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>)</div>
<div class="line"><span class="lineno"> 1987</span>    {</div>
<div class="line"><span class="lineno"> 1988</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thinktime</a> - <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, ltime);</div>
<div class="line"><span class="lineno"> 1989</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 1990</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a> = 0;</div>
<div class="line"><span class="lineno"> 1991</span>    }</div>
<div class="line"><span class="lineno"> 1992</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1993</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a> = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>;</div>
<div class="line"><span class="lineno"> 1994</span> </div>
<div class="line"><span class="lineno"> 1995</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>)</div>
<div class="line"><span class="lineno"> 1996</span>        <span class="comment">// advances PRVM_serveredictfloat(ent, ltime) if not blocked</span></div>
<div class="line"><span class="lineno"> 1997</span>        <a class="code hl_function" href="sv__phys_8c.html#ac3f2eb55eb8c77ccc80ac7f70c6d047b">SV_PushMove</a> (ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>);</div>
<div class="line"><span class="lineno"> 1998</span> </div>
<div class="line"><span class="lineno"> 1999</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thinktime</a> &gt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">oldltime</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">thinktime</a> &lt;= <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, ltime))</div>
<div class="line"><span class="lineno"> 2000</span>    {</div>
<div class="line"><span class="lineno"> 2001</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, nextthink) = 0;</div>
<div class="line"><span class="lineno"> 2002</span>        <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno"> 2003</span>        <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent);</div>
<div class="line"><span class="lineno"> 2004</span>        <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(other) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>);</div>
<div class="line"><span class="lineno"> 2005</span>        prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">ExecuteProgram</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(ent, think), <span class="stringliteral">&quot;QC function self.think is missing&quot;</span>);</div>
<div class="line"><span class="lineno"> 2006</span>    }</div>
<div class="line"><span class="lineno"> 2007</span>}</div>
<div class="ttc" id="aqtypes_8h_html_ad5100de260acb46c4ec063e0bcf7a2f2"><div class="ttname"><a href="qtypes_8h.html#ad5100de260acb46c4ec063e0bcf7a2f2">prvm_vec_t</a></div><div class="ttdeci">float prvm_vec_t</div><div class="ttdef"><b>Definition</b> <a href="qtypes_8h_source.html#l00053">qtypes.h:53</a></div></div>
<div class="ttc" id="asv__phys_8c_html_ac3f2eb55eb8c77ccc80ac7f70c6d047b"><div class="ttname"><a href="sv__phys_8c.html#ac3f2eb55eb8c77ccc80ac7f70c6d047b">SV_PushMove</a></div><div class="ttdeci">static void SV_PushMove(prvm_edict_t *pusher, float movetime)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l01668">sv_phys.c:1668</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03062">SV_Physics_ClientEntity()</a>, and <a class="el" href="sv__phys_8c_source.html#l02825">SV_Physics_Entity()</a>.</p>

</div>
</div>
<a id="a4c10775ac9a230cf43270bb8b914fa59" name="a4c10775ac9a230cf43270bb8b914fa59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c10775ac9a230cf43270bb8b914fa59">&#9670;&#160;</a></span>SV_Physics_Step()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_Physics_Step </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02758">2758</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2759</span>{</div>
<div class="line"><span class="lineno"> 2760</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2761</span>    <span class="keywordtype">int</span> flags = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags);</div>
<div class="line"><span class="lineno"> 2762</span> </div>
<div class="line"><span class="lineno"> 2763</span>    <span class="comment">// DRESK</span></div>
<div class="line"><span class="lineno"> 2764</span>    <span class="comment">// Backup Velocity in the event that movetypesteplandevent is called,</span></div>
<div class="line"><span class="lineno"> 2765</span>    <span class="comment">// to provide a parameter with the entity&#39;s velocity at impact.</span></div>
<div class="line"><span class="lineno"> 2766</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backupVelocity</a>;</div>
<div class="line"><span class="lineno"> 2767</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backupVelocity</a>);</div>
<div class="line"><span class="lineno"> 2768</span>    <span class="comment">// don&#39;t fall at all if fly/swim</span></div>
<div class="line"><span class="lineno"> 2769</span>    <span class="keywordflow">if</span> (!(flags &amp; (<a class="code hl_define" href="server_8h.html#a402e335ad7a4d335f13a1bc925d71c2f">FL_FLY</a> | <a class="code hl_define" href="server_8h.html#af963d0ee02580269d763f683a7b3c2a3">FL_SWIM</a>)))</div>
<div class="line"><span class="lineno"> 2770</span>    {</div>
<div class="line"><span class="lineno"> 2771</span>        <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>)</div>
<div class="line"><span class="lineno"> 2772</span>        {</div>
<div class="line"><span class="lineno"> 2773</span>            <span class="comment">// freefall if onground and moving upward</span></div>
<div class="line"><span class="lineno"> 2774</span>            <span class="comment">// freefall if not standing on a world surface (it may be a lift or trap door)</span></div>
<div class="line"><span class="lineno"> 2775</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[2] &gt;= (1.0 / 32.0) &amp;&amp; <a class="code hl_variable" href="server_8h.html#aad2059a86aa91b3e95e6bf2dbd589e38">sv_gameplayfix_upwardvelocityclearsongroundflag</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2776</span>            {</div>
<div class="line"><span class="lineno"> 2777</span>                <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) -= <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>;</div>
<div class="line"><span class="lineno"> 2778</span>                <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 2779</span>                <a class="code hl_function" href="sv__phys_8c.html#aa6d1ea2732f173ee2bd33eecec39b34e">SV_FlyMove</a>(ent, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_function" href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a>(ent), 0, 0, 0);</div>
<div class="line"><span class="lineno"> 2780</span>                <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 2781</span>                <a class="code hl_function" href="sv__phys_8c.html#afde235834ab0ac8d11bb81b9e14cff61">SV_LinkEdict_TouchAreaGrid</a>(ent);</div>
<div class="line"><span class="lineno"> 2782</span>                ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;waterposition_forceupdate = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2783</span>            }</div>
<div class="line"><span class="lineno"> 2784</span>        }</div>
<div class="line"><span class="lineno"> 2785</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2786</span>        {</div>
<div class="line"><span class="lineno"> 2787</span>            <span class="comment">// freefall if not onground</span></div>
<div class="line"><span class="lineno"> 2788</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hitsound</a> = <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[2] &lt; <a class="code hl_variable" href="server_8h.html#abd35200903b2c94bfbbd217ab0f4b689">sv_gravity</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * -0.1;</div>
<div class="line"><span class="lineno"> 2789</span> </div>
<div class="line"><span class="lineno"> 2790</span>            <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 2791</span>            <a class="code hl_function" href="sv__phys_8c.html#aa6d1ea2732f173ee2bd33eecec39b34e">SV_FlyMove</a>(ent, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>, <span class="keyword">true</span>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_function" href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a>(ent), 0, 0, 0);</div>
<div class="line"><span class="lineno"> 2792</span>            <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 2793</span>            <a class="code hl_function" href="sv__phys_8c.html#afde235834ab0ac8d11bb81b9e14cff61">SV_LinkEdict_TouchAreaGrid</a>(ent);</div>
<div class="line"><span class="lineno"> 2794</span> </div>
<div class="line"><span class="lineno"> 2795</span>            <span class="comment">// just hit ground</span></div>
<div class="line"><span class="lineno"> 2796</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hitsound</a> &amp;&amp; (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>)</div>
<div class="line"><span class="lineno"> 2797</span>            {</div>
<div class="line"><span class="lineno"> 2798</span>                <span class="comment">// DRESK - Check for Entity Land Event Function</span></div>
<div class="line"><span class="lineno"> 2799</span>                <span class="keywordflow">if</span>(<a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetypesteplandevent</a>))</div>
<div class="line"><span class="lineno"> 2800</span>                { <span class="comment">// Valid Function; Execute</span></div>
<div class="line"><span class="lineno"> 2801</span>                    <span class="comment">// Prepare Parameters</span></div>
<div class="line"><span class="lineno"> 2802</span>                    <span class="comment">// Assign Velocity at Impact</span></div>
<div class="line"><span class="lineno"> 2803</span>                    <a class="code hl_define" href="progsvm_8h.html#aeff3f677933ac10fa6f6e68820292352">PRVM_G_VECTOR</a>(<a class="code hl_define" href="pr__comp_8h.html#ae6550ffd28caf1794e06dcb314ddd2a5">OFS_PARM0</a>)[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backupVelocity</a>[0];</div>
<div class="line"><span class="lineno"> 2804</span>                    <a class="code hl_define" href="progsvm_8h.html#aeff3f677933ac10fa6f6e68820292352">PRVM_G_VECTOR</a>(<a class="code hl_define" href="pr__comp_8h.html#ae6550ffd28caf1794e06dcb314ddd2a5">OFS_PARM0</a>)[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backupVelocity</a>[1];</div>
<div class="line"><span class="lineno"> 2805</span>                    <a class="code hl_define" href="progsvm_8h.html#aeff3f677933ac10fa6f6e68820292352">PRVM_G_VECTOR</a>(<a class="code hl_define" href="pr__comp_8h.html#ae6550ffd28caf1794e06dcb314ddd2a5">OFS_PARM0</a>)[2] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">backupVelocity</a>[2];</div>
<div class="line"><span class="lineno"> 2806</span>                    <span class="comment">// Assign Self</span></div>
<div class="line"><span class="lineno"> 2807</span>                    <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent);</div>
<div class="line"><span class="lineno"> 2808</span>                    <span class="comment">// Set Time</span></div>
<div class="line"><span class="lineno"> 2809</span>                    <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno"> 2810</span>                    <span class="comment">// Execute VM Function</span></div>
<div class="line"><span class="lineno"> 2811</span>                    prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">ExecuteProgram</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetypesteplandevent</a>), <span class="stringliteral">&quot;movetypesteplandevent: NULL function&quot;</span>);</div>
<div class="line"><span class="lineno"> 2812</span>                }</div>
<div class="line"><span class="lineno"> 2813</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2814</span>                <span class="comment">// Check for Engine Landing Sound</span></div>
<div class="line"><span class="lineno"> 2815</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="server_8h.html#a496d233565f2d896808b22a10aa1d62c">sv_sound_land</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>)</div>
<div class="line"><span class="lineno"> 2816</span>                    <a class="code hl_function" href="server_8h.html#a57491dc5d804469a2d64e0aeb0eabb70">SV_StartSound</a>(ent, 0, <a class="code hl_variable" href="server_8h.html#a496d233565f2d896808b22a10aa1d62c">sv_sound_land</a>.<a class="code hl_variable" href="structcvar__t.html#aa8b859b9332810d238c09b51ea54a2f4">string</a>, 255, 1, <span class="keyword">false</span>, 1.0f);</div>
<div class="line"><span class="lineno"> 2817</span>            }</div>
<div class="line"><span class="lineno"> 2818</span>            ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;waterposition_forceupdate = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2819</span>        }</div>
<div class="line"><span class="lineno"> 2820</span>    }</div>
<div class="line"><span class="lineno"> 2821</span>}</div>
<div class="ttc" id="aprogsvm_8h_html_aeff3f677933ac10fa6f6e68820292352"><div class="ttname"><a href="progsvm_8h.html#aeff3f677933ac10fa6f6e68820292352">PRVM_G_VECTOR</a></div><div class="ttdeci">#define PRVM_G_VECTOR(o)</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00883">progsvm.h:883</a></div></div>
<div class="ttc" id="aserver_8h_html_a402e335ad7a4d335f13a1bc925d71c2f"><div class="ttname"><a href="server_8h.html#a402e335ad7a4d335f13a1bc925d71c2f">FL_FLY</a></div><div class="ttdeci">#define FL_FLY</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00358">server.h:358</a></div></div>
<div class="ttc" id="aserver_8h_html_a496d233565f2d896808b22a10aa1d62c"><div class="ttname"><a href="server_8h.html#a496d233565f2d896808b22a10aa1d62c">sv_sound_land</a></div><div class="ttdeci">cvar_t sv_sound_land</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00149">sv_main.c:149</a></div></div>
<div class="ttc" id="aserver_8h_html_aad2059a86aa91b3e95e6bf2dbd589e38"><div class="ttname"><a href="server_8h.html#aad2059a86aa91b3e95e6bf2dbd589e38">sv_gameplayfix_upwardvelocityclearsongroundflag</a></div><div class="ttdeci">cvar_t sv_gameplayfix_upwardvelocityclearsongroundflag</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00126">sv_main.c:126</a></div></div>
<div class="ttc" id="aserver_8h_html_af963d0ee02580269d763f683a7b3c2a3"><div class="ttname"><a href="server_8h.html#af963d0ee02580269d763f683a7b3c2a3">FL_SWIM</a></div><div class="ttdeci">#define FL_SWIM</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00359">server.h:359</a></div></div>
<div class="ttc" id="asv__phys_8c_html_aa6d1ea2732f173ee2bd33eecec39b34e"><div class="ttname"><a href="sv__phys_8c.html#aa6d1ea2732f173ee2bd33eecec39b34e">SV_FlyMove</a></div><div class="ttdeci">static int SV_FlyMove(prvm_edict_t *ent, float time, qbool applygravity, float *stepnormal, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask, float stepheight)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l01199">sv_phys.c:1199</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03062">SV_Physics_ClientEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l02902">SV_Physics_ClientEntity_NoThink()</a>, and <a class="el" href="sv__phys_8c_source.html#l02825">SV_Physics_Entity()</a>.</p>

</div>
</div>
<a id="a60082ef2895da6c7b2e7611ebc04e134" name="a60082ef2895da6c7b2e7611ebc04e134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60082ef2895da6c7b2e7611ebc04e134">&#9670;&#160;</a></span>SV_Physics_Toss()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_Physics_Toss </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02602">2602</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2603</span>{</div>
<div class="line"><span class="lineno"> 2604</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2605</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><span class="lineno"> 2606</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> move;</div>
<div class="line"><span class="lineno"> 2607</span>    <a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>;</div>
<div class="line"><span class="lineno"> 2608</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bump</a>;</div>
<div class="line"><span class="lineno"> 2609</span>    <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *groundentity;</div>
<div class="line"><span class="lineno"> 2610</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ent_gravity</a>;</div>
<div class="line"><span class="lineno"> 2611</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncefactor</a>;</div>
<div class="line"><span class="lineno"> 2612</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncestop</a>;</div>
<div class="line"><span class="lineno"> 2613</span> </div>
<div class="line"><span class="lineno"> 2614</span><span class="comment">// if onground, return without moving</span></div>
<div class="line"><span class="lineno"> 2615</span>    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>)</div>
<div class="line"><span class="lineno"> 2616</span>    {</div>
<div class="line"><span class="lineno"> 2617</span>        groundentity = <a class="code hl_define" href="progsvm_8h.html#a97138ae5d960d8b55d8db396abd68d0e">PRVM_PROG_TO_EDICT</a>(<a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, groundentity));</div>
<div class="line"><span class="lineno"> 2618</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[2] &gt;= (1.0 / 32.0) &amp;&amp; <a class="code hl_variable" href="server_8h.html#aad2059a86aa91b3e95e6bf2dbd589e38">sv_gameplayfix_upwardvelocityclearsongroundflag</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2619</span>        {</div>
<div class="line"><span class="lineno"> 2620</span>            <span class="comment">// don&#39;t stick to ground if onground and moving upward</span></div>
<div class="line"><span class="lineno"> 2621</span>            <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) -= <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>;</div>
<div class="line"><span class="lineno"> 2622</span>        }</div>
<div class="line"><span class="lineno"> 2623</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, groundentity) || !<a class="code hl_variable" href="server_8h.html#a8be678b529fdd44eb99c35817cb684b5">sv_gameplayfix_noairborncorpse</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2624</span>        {</div>
<div class="line"><span class="lineno"> 2625</span>            <span class="comment">// we can trust FL_ONGROUND if groundentity is world because it never moves</span></div>
<div class="line"><span class="lineno"> 2626</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2627</span>        }</div>
<div class="line"><span class="lineno"> 2628</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;suspendedinairflag &amp;&amp; groundentity-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a247e6dccfef4a688f2dba80d4c57270d">free</a>)</div>
<div class="line"><span class="lineno"> 2629</span>        {</div>
<div class="line"><span class="lineno"> 2630</span>            <span class="comment">// if ent was supported by a brush model on previous frame,</span></div>
<div class="line"><span class="lineno"> 2631</span>            <span class="comment">// and groundentity is now freed, set groundentity to 0 (world)</span></div>
<div class="line"><span class="lineno"> 2632</span>            <span class="comment">// which leaves it suspended in the air</span></div>
<div class="line"><span class="lineno"> 2633</span>            <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, groundentity) = 0;</div>
<div class="line"><span class="lineno"> 2634</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a1ceee82298b57d51675f528cad0085b9">sv_gameplayfix_noairborncorpse_allowsuspendeditems</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2635</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2636</span>        }</div>
<div class="line"><span class="lineno"> 2637</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a3f4b2cfbd3195eddeb10b2e14b7e4d8c">BoxesOverlap</a>(ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;cullmins, ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;cullmaxs, groundentity-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;cullmins, groundentity-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;cullmaxs))</div>
<div class="line"><span class="lineno"> 2638</span>        {</div>
<div class="line"><span class="lineno"> 2639</span>            <span class="comment">// don&#39;t slide if still touching the groundentity</span></div>
<div class="line"><span class="lineno"> 2640</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2641</span>        }</div>
<div class="line"><span class="lineno"> 2642</span>    }</div>
<div class="line"><span class="lineno"> 2643</span>    ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;suspendedinairflag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2644</span> </div>
<div class="line"><span class="lineno"> 2645</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a> (ent);</div>
<div class="line"><span class="lineno"> 2646</span> </div>
<div class="line"><span class="lineno"> 2647</span><span class="comment">// add gravity</span></div>
<div class="line"><span class="lineno"> 2648</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) == <a class="code hl_define" href="server_8h.html#a26443f59be253ee1b8a62ef423fc69bf">MOVETYPE_TOSS</a> || <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) == <a class="code hl_define" href="server_8h.html#a356e4dab4bfeca23b5f8fa25e5321844">MOVETYPE_BOUNCE</a>)</div>
<div class="line"><span class="lineno"> 2649</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[2] -= <a class="code hl_function" href="sv__phys_8c.html#a91e6d7a6770a04986938885706e85ff3">SV_Gravity</a>(ent);</div>
<div class="line"><span class="lineno"> 2650</span> </div>
<div class="line"><span class="lineno"> 2651</span><span class="comment">// move angles</span></div>
<div class="line"><span class="lineno"> 2652</span>    <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles), <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, avelocity), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, angles));</div>
<div class="line"><span class="lineno"> 2653</span> </div>
<div class="line"><span class="lineno"> 2654</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a> = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>;</div>
<div class="line"><span class="lineno"> 2655</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bump</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bump &lt; MAX_CLIP_PLANES &amp;&amp; movetime &gt;</a> 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bump</a>++)</div>
<div class="line"><span class="lineno"> 2656</span>    {</div>
<div class="line"><span class="lineno"> 2657</span>    <span class="comment">// move origin</span></div>
<div class="line"><span class="lineno"> 2658</span>        <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>, move);</div>
<div class="line"><span class="lineno"> 2659</span>        <span class="comment">// The buzzsaw traps in r2m6 and r2m7 use MOVETYPE_FLY and rely on moving while stuck in the world.</span></div>
<div class="line"><span class="lineno"> 2660</span>        <span class="comment">// Quake movetypes checked allsolid only in SV_FlyMove().</span></div>
<div class="line"><span class="lineno"> 2661</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="sv__phys_8c.html#a747b50bcc3f85c8f91b7af1e000bbd9b">SV_PushEntity</a>(&amp;trace, ent, move, <span class="keyword">true</span>, <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) != <a class="code hl_define" href="server_8h.html#a7dcdd3e4355f22903c38ac5019730330">MOVETYPE_FLY</a>))</div>
<div class="line"><span class="lineno"> 2662</span>            <span class="keywordflow">return</span>; <span class="comment">// teleported</span></div>
<div class="line"><span class="lineno"> 2663</span>        <span class="keywordflow">if</span> (ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a247e6dccfef4a688f2dba80d4c57270d">free</a>)</div>
<div class="line"><span class="lineno"> 2664</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2665</span>        <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> == 1)</div>
<div class="line"><span class="lineno"> 2666</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2667</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a> *= 1 - <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(1, trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a>);</div>
<div class="line"><span class="lineno"> 2668</span>        <span class="keywordflow">switch</span>((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype))</div>
<div class="line"><span class="lineno"> 2669</span>        {</div>
<div class="line"><span class="lineno"> 2670</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a7b36b9164eaff40489aeb3726003f9d1">MOVETYPE_BOUNCEMISSILE</a>:</div>
<div class="line"><span class="lineno"> 2671</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncefactor</a> = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncefactor</a>);</div>
<div class="line"><span class="lineno"> 2672</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncefactor</a>)</div>
<div class="line"><span class="lineno"> 2673</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncefactor</a> = 1.0f;</div>
<div class="line"><span class="lineno"> 2674</span> </div>
<div class="line"><span class="lineno"> 2675</span>            <a class="code hl_function" href="sv__phys_8c.html#a29a37c42478a1c07683b8f073313d512">ClipVelocity</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), 1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncefactor</a>);</div>
<div class="line"><span class="lineno"> 2676</span>            <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~FL_ONGROUND</a>;</div>
<div class="line"><span class="lineno"> 2677</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#aa2c95dde36c675f2f30a1bdd14e2195d">sv_gameplayfix_slidemoveprojectiles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2678</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a> = 0;</div>
<div class="line"><span class="lineno"> 2679</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2680</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a356e4dab4bfeca23b5f8fa25e5321844">MOVETYPE_BOUNCE</a>:</div>
<div class="line"><span class="lineno"> 2681</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncefactor</a> = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncefactor</a>);</div>
<div class="line"><span class="lineno"> 2682</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncefactor</a>)</div>
<div class="line"><span class="lineno"> 2683</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncefactor</a> = 0.5f;</div>
<div class="line"><span class="lineno"> 2684</span> </div>
<div class="line"><span class="lineno"> 2685</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncestop</a> = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncestop</a>);</div>
<div class="line"><span class="lineno"> 2686</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncestop</a>)</div>
<div class="line"><span class="lineno"> 2687</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncestop</a> = 60.0f / 800.0f;</div>
<div class="line"><span class="lineno"> 2688</span> </div>
<div class="line"><span class="lineno"> 2689</span>            <a class="code hl_function" href="sv__phys_8c.html#a29a37c42478a1c07683b8f073313d512">ClipVelocity</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), 1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncefactor</a>);</div>
<div class="line"><span class="lineno"> 2690</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ent_gravity</a> = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, gravity);</div>
<div class="line"><span class="lineno"> 2691</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ent_gravity</a>)</div>
<div class="line"><span class="lineno"> 2692</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ent_gravity</a> = 1.0f;</div>
<div class="line"><span class="lineno"> 2693</span>            <span class="comment">// LadyHavoc: fixed grenades not bouncing when fired down a slope</span></div>
<div class="line"><span class="lineno"> 2694</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#af519f0c26ede8b9b10d52cac1720c99d">sv_gameplayfix_grenadebouncedownslopes</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2695</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)));</div>
<div class="line"><span class="lineno"> 2696</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2697</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[2];</div>
<div class="line"><span class="lineno"> 2698</span>            <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[2] &gt; 0.7 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> &lt; <a class="code hl_variable" href="server_8h.html#abd35200903b2c94bfbbd217ab0f4b689">sv_gravity</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bouncestop</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ent_gravity</a>)</div>
<div class="line"><span class="lineno"> 2699</span>            {</div>
<div class="line"><span class="lineno"> 2700</span>                <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) | <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>;</div>
<div class="line"><span class="lineno"> 2701</span>                <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, groundentity) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a00f40ed37bd39dbb8f64e6c5b6f1ea51">ent</a>);</div>
<div class="line"><span class="lineno"> 2702</span>                <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 2703</span>                <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, avelocity));</div>
<div class="line"><span class="lineno"> 2704</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a> = 0;</div>
<div class="line"><span class="lineno"> 2705</span>            }</div>
<div class="line"><span class="lineno"> 2706</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2707</span>            {</div>
<div class="line"><span class="lineno"> 2708</span>                <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~FL_ONGROUND</a>;</div>
<div class="line"><span class="lineno"> 2709</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#aa2c95dde36c675f2f30a1bdd14e2195d">sv_gameplayfix_slidemoveprojectiles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2710</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a> = 0;</div>
<div class="line"><span class="lineno"> 2711</span>            }</div>
<div class="line"><span class="lineno"> 2712</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2713</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2714</span>            <a class="code hl_function" href="sv__phys_8c.html#a29a37c42478a1c07683b8f073313d512">ClipVelocity</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), 1.0);</div>
<div class="line"><span class="lineno"> 2715</span>            <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[2] &gt; 0.7)</div>
<div class="line"><span class="lineno"> 2716</span>            {</div>
<div class="line"><span class="lineno"> 2717</span>                <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) | <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>;</div>
<div class="line"><span class="lineno"> 2718</span>                <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, groundentity) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a00f40ed37bd39dbb8f64e6c5b6f1ea51">ent</a>);</div>
<div class="line"><span class="lineno"> 2719</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(((<a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *)trace.<a class="code hl_variable" href="structtrace__t.html#a00f40ed37bd39dbb8f64e6c5b6f1ea51">ent</a>), solid) == <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a>)</div>
<div class="line"><span class="lineno"> 2720</span>                    ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;suspendedinairflag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2721</span>                <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 2722</span>                <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, avelocity));</div>
<div class="line"><span class="lineno"> 2723</span>                <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a> = 0;</div>
<div class="line"><span class="lineno"> 2724</span>            }</div>
<div class="line"><span class="lineno"> 2725</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2726</span>            {</div>
<div class="line"><span class="lineno"> 2727</span>                <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~FL_ONGROUND</a>;</div>
<div class="line"><span class="lineno"> 2728</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#aa2c95dde36c675f2f30a1bdd14e2195d">sv_gameplayfix_slidemoveprojectiles</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2729</span>                    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a> = 0;</div>
<div class="line"><span class="lineno"> 2730</span>            }</div>
<div class="line"><span class="lineno"> 2731</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2732</span>        }</div>
<div class="line"><span class="lineno"> 2733</span>    }</div>
<div class="line"><span class="lineno"> 2734</span> </div>
<div class="line"><span class="lineno"> 2735</span><span class="comment">// check for in water</span></div>
<div class="line"><span class="lineno"> 2736</span>    <a class="code hl_function" href="sv__phys_8c.html#a9f6383278aa38f1dbbcfb8bbc456a50e">SV_CheckWaterTransition</a> (ent);</div>
<div class="line"><span class="lineno"> 2737</span>}</div>
<div class="ttc" id="amathlib_8h_html_a2d017cd3beb218080a7988e2deed2a11"><div class="ttname"><a href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a></div><div class="ttdeci">#define min(A, B)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00037">mathlib.h:37</a></div></div>
<div class="ttc" id="aserver_8h_html_a1ceee82298b57d51675f528cad0085b9"><div class="ttname"><a href="server_8h.html#a1ceee82298b57d51675f528cad0085b9">sv_gameplayfix_noairborncorpse_allowsuspendeditems</a></div><div class="ttdeci">cvar_t sv_gameplayfix_noairborncorpse_allowsuspendeditems</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00115">sv_main.c:115</a></div></div>
<div class="ttc" id="aserver_8h_html_a8be678b529fdd44eb99c35817cb684b5"><div class="ttname"><a href="server_8h.html#a8be678b529fdd44eb99c35817cb684b5">sv_gameplayfix_noairborncorpse</a></div><div class="ttdeci">cvar_t sv_gameplayfix_noairborncorpse</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00114">sv_main.c:114</a></div></div>
<div class="ttc" id="aserver_8h_html_aa2c95dde36c675f2f30a1bdd14e2195d"><div class="ttname"><a href="server_8h.html#aa2c95dde36c675f2f30a1bdd14e2195d">sv_gameplayfix_slidemoveprojectiles</a></div><div class="ttdeci">cvar_t sv_gameplayfix_slidemoveprojectiles</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00121">sv_main.c:121</a></div></div>
<div class="ttc" id="aserver_8h_html_af519f0c26ede8b9b10d52cac1720c99d"><div class="ttname"><a href="server_8h.html#af519f0c26ede8b9b10d52cac1720c99d">sv_gameplayfix_grenadebouncedownslopes</a></div><div class="ttdeci">cvar_t sv_gameplayfix_grenadebouncedownslopes</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00112">sv_main.c:112</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03062">SV_Physics_ClientEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l02902">SV_Physics_ClientEntity_NoThink()</a>, and <a class="el" href="sv__phys_8c_source.html#l02825">SV_Physics_Entity()</a>.</p>

</div>
</div>
<a id="abc73364265c2ee1c656afa098ebb712c" name="abc73364265c2ee1c656afa098ebb712c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc73364265c2ee1c656afa098ebb712c">&#9670;&#160;</a></span>SV_PointSuperContents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> SV_PointSuperContents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00611">611</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  612</span>{</div>
<div class="line"><span class="lineno">  613</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno">  614</span>    <span class="keywordtype">int</span> supercontents = 0;</div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno">  616</span>    <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *touch;</div>
<div class="line"><span class="lineno">  617</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>;</div>
<div class="line"><span class="lineno">  618</span>    <span class="comment">// matrices to transform into/out of other entity&#39;s space</span></div>
<div class="line"><span class="lineno">  619</span>    <a class="code hl_struct" href="structmatrix4x4__t.html">matrix4x4_t</a> matrix, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>;</div>
<div class="line"><span class="lineno">  620</span>    <span class="comment">// model of other entity</span></div>
<div class="line"><span class="lineno">  621</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *model;</div>
<div class="line"><span class="lineno">  622</span>    <span class="keywordtype">int</span> frame;</div>
<div class="line"><span class="lineno">  623</span>    <span class="comment">// list of entities to test for collisions</span></div>
<div class="line"><span class="lineno">  624</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>;</div>
<div class="line"><span class="lineno">  625</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>[<a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>];</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>    <span class="comment">// get world supercontents at this point</span></div>
<div class="line"><span class="lineno">  628</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">worldmodel</a> &amp;&amp; <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">worldmodel</a>-&gt;PointSuperContents)</div>
<div class="line"><span class="lineno">  629</span>        supercontents = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">worldmodel</a>-&gt;PointSuperContents(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">worldmodel</a>, 0, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>);</div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>    <span class="comment">// if sv_gameplayfix_swiminbmodels is off we&#39;re done</span></div>
<div class="line"><span class="lineno">  632</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#a0bedf6fd2b39280a5b7e55d3264b48a6">sv_gameplayfix_swiminbmodels</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  633</span>        <span class="keywordflow">return</span> supercontents;</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>    <span class="comment">// get list of entities at this point</span></div>
<div class="line"><span class="lineno">  636</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> = <a class="code hl_function" href="sv__phys_8c.html#a917c9043f29f4272fd300c402d4622a0">SV_EntitiesInBox</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>, <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>);</div>
<div class="line"><span class="lineno">  637</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> &gt; <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>)</div>
<div class="line"><span class="lineno">  638</span>    {</div>
<div class="line"><span class="lineno">  639</span>        <span class="comment">// this never happens</span></div>
<div class="line"><span class="lineno">  640</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SV_EntitiesInBox returned %i edicts, max was %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>, <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>);</div>
<div class="line"><span class="lineno">  641</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> = <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>;</div>
<div class="line"><span class="lineno">  642</span>    }</div>
<div class="line"><span class="lineno">  643</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  644</span>    {</div>
<div class="line"><span class="lineno">  645</span>        touch = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno">  646</span> </div>
<div class="line"><span class="lineno">  647</span>        <span class="comment">// we only care about SOLID_BSP for pointcontents</span></div>
<div class="line"><span class="lineno">  648</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) != <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a>)</div>
<div class="line"><span class="lineno">  649</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>        <span class="comment">// might interact, so do an exact clip</span></div>
<div class="line"><span class="lineno">  652</span>        model = <a class="code hl_function" href="server_8h.html#ab0fb52acdbe2c15bd2a7c2b6b0ef3ad3">SV_GetModelFromEdict</a>(touch);</div>
<div class="line"><span class="lineno">  653</span>        <span class="keywordflow">if</span> (!model || !model-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c151191aa1bc015faab973ccc453ca9">PointSuperContents</a>)</div>
<div class="line"><span class="lineno">  654</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  655</span>        <a class="code hl_function" href="matrixlib_8c.html#a80867fbbc3b77b40fb8349d1e694a2de">Matrix4x4_CreateFromQuakeEntity</a>(&amp;matrix, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[2], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, angles)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, angles)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, angles)[2], 1);</div>
<div class="line"><span class="lineno">  656</span>        <a class="code hl_function" href="matrixlib_8c.html#aa9b7b6f7c5bbf266334f17a9c5e125bc">Matrix4x4_Invert_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>, &amp;matrix);</div>
<div class="line"><span class="lineno">  657</span>        <a class="code hl_function" href="matrixlib_8c.html#a2c67a69e5ad398eda2624c8507e8b5fa">Matrix4x4_Transform</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">point</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>);</div>
<div class="line"><span class="lineno">  658</span>        frame = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, frame);</div>
<div class="line"><span class="lineno">  659</span>        supercontents |= model-&gt;<a class="code hl_variable" href="structmodel__t.html#a2c151191aa1bc015faab973ccc453ca9">PointSuperContents</a>(model, <a class="code hl_define" href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a>(0, frame, (model-&gt;<a class="code hl_variable" href="structmodel__t.html#a9c3577006a252ce407c3b204a05be9e4">numframes</a> - 1)), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">transformed</a>);</div>
<div class="line"><span class="lineno">  660</span>    }</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    <span class="keywordflow">return</span> supercontents;</div>
<div class="line"><span class="lineno">  663</span>}</div>
<div class="ttc" id="amathlib_8h_html_a553641b2aac0b2a7c43f9f74f8333fd5"><div class="ttname"><a href="mathlib_8h.html#a553641b2aac0b2a7c43f9f74f8333fd5">bound</a></div><div class="ttdeci">#define bound(min, num, max)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00034">mathlib.h:34</a></div></div>
<div class="ttc" id="amatrixlib_8c_html_aa9b7b6f7c5bbf266334f17a9c5e125bc"><div class="ttname"><a href="matrixlib_8c.html#aa9b7b6f7c5bbf266334f17a9c5e125bc">Matrix4x4_Invert_Simple</a></div><div class="ttdeci">void Matrix4x4_Invert_Simple(matrix4x4_t *out, const matrix4x4_t *in1)</div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8c_source.html#l00422">matrixlib.c:422</a></div></div>
<div class="ttc" id="aserver_8h_html_a0bedf6fd2b39280a5b7e55d3264b48a6"><div class="ttname"><a href="server_8h.html#a0bedf6fd2b39280a5b7e55d3264b48a6">sv_gameplayfix_swiminbmodels</a></div><div class="ttdeci">cvar_t sv_gameplayfix_swiminbmodels</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00125">sv_main.c:125</a></div></div>
<div class="ttc" id="astructmodel__t_html_a2c151191aa1bc015faab973ccc453ca9"><div class="ttname"><a href="structmodel__t.html#a2c151191aa1bc015faab973ccc453ca9">model_t::PointSuperContents</a></div><div class="ttdeci">int(* PointSuperContents)(struct model_s *model, int frame, const vec3_t point)</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00536">model_shared.h:536</a></div></div>
<div class="ttc" id="astructmodel__t_html_a9c3577006a252ce407c3b204a05be9e4"><div class="ttname"><a href="structmodel__t.html#a9c3577006a252ce407c3b204a05be9e4">model_t::numframes</a></div><div class="ttdeci">int numframes</div><div class="ttdef"><b>Definition</b> <a href="model__shared_8h_source.html#l00447">model_shared.h:447</a></div></div>
<div class="ttc" id="astructserver__t_html_accacc6b7d63cf5b043e6124c00525421"><div class="ttname"><a href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">server_t::worldmodel</a></div><div class="ttdeci">struct model_s * worldmodel</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00112">server.h:112</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__move_8c_source.html#l00036">SV_CheckBottom()</a>, <a class="el" href="sv__phys_8c_source.html#l02152">SV_CheckWater()</a>, <a class="el" href="sv__phys_8c_source.html#l02553">SV_CheckWaterTransition()</a>, <a class="el" href="sv__move_8c_source.html#l00109">SV_movestep()</a>, <a class="el" href="sv__phys_8c_source.html#l00925">SV_TestEntityPosition()</a>, and <a class="el" href="svvm__cmds_8c_source.html#l01336">VM_SV_pointcontents()</a>.</p>

</div>
</div>
<a id="a747b50bcc3f85c8f91b7af1e000bbd9b" name="a747b50bcc3f85c8f91b7af1e000bbd9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a747b50bcc3f85c8f91b7af1e000bbd9b">&#9670;&#160;</a></span>SV_PushEntity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> SV_PushEntity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrace__t.html">trace_t</a> *&#160;</td>
          <td class="paramname"><em>trace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>push</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>dolink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a>&#160;</td>
          <td class="paramname"><em>checkstuck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l01562">1562</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1563</span>{</div>
<div class="line"><span class="lineno"> 1564</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 1565</span>    <span class="keywordtype">int</span> solid;</div>
<div class="line"><span class="lineno"> 1566</span>    <span class="keywordtype">int</span> movetype;</div>
<div class="line"><span class="lineno"> 1567</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>;</div>
<div class="line"><span class="lineno"> 1568</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, maxs;</div>
<div class="line"><span class="lineno"> 1569</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> start;</div>
<div class="line"><span class="lineno"> 1570</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> end;</div>
<div class="line"><span class="lineno"> 1571</span> </div>
<div class="line"><span class="lineno"> 1572</span>    solid = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, solid);</div>
<div class="line"><span class="lineno"> 1573</span>    movetype = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype);</div>
<div class="line"><span class="lineno"> 1574</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, mins), mins);</div>
<div class="line"><span class="lineno"> 1575</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, maxs), maxs);</div>
<div class="line"><span class="lineno"> 1576</span> </div>
<div class="line"><span class="lineno"> 1577</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), start);</div>
<div class="line"><span class="lineno"> 1578</span>    <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">push</a>, end);</div>
<div class="line"><span class="lineno"> 1579</span> </div>
<div class="line"><span class="lineno"> 1580</span>    <span class="keywordflow">if</span> (movetype == <a class="code hl_define" href="server_8h.html#aea2c0b21c04068994e9a422320dee8b3">MOVETYPE_FLYMISSILE</a>)</div>
<div class="line"><span class="lineno"> 1581</span>        <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> = <a class="code hl_define" href="world_8h.html#a49815b732f24d0f9337e57d283ff683a">MOVE_MISSILE</a>;</div>
<div class="line"><span class="lineno"> 1582</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (movetype == <a class="code hl_define" href="server_8h.html#ab167dc3bacb2551a831e955f4b5ecd8c">MOVETYPE_FLY_WORLDONLY</a>)</div>
<div class="line"><span class="lineno"> 1583</span>        <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> = <a class="code hl_define" href="world_8h.html#a90df952ad5c2daedd0295eb3a7ecae12">MOVE_WORLDONLY</a>;</div>
<div class="line"><span class="lineno"> 1584</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (solid == <a class="code hl_define" href="server_8h.html#ae89a360be120402e1499c24cfbd32da3">SOLID_TRIGGER</a> || solid == <a class="code hl_define" href="server_8h.html#a90a438b7dacc8e97147ebe1b8cb88e95">SOLID_NOT</a>)</div>
<div class="line"><span class="lineno"> 1585</span>        <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> = <a class="code hl_define" href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a>; <span class="comment">// only clip against bmodels</span></div>
<div class="line"><span class="lineno"> 1586</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1587</span>        <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> = <a class="code hl_define" href="world_8h.html#ac85dd5b7c1be8faf715803a4a921a313">MOVE_NORMAL</a>;</div>
<div class="line"><span class="lineno"> 1588</span> </div>
<div class="line"><span class="lineno"> 1589</span>    *trace = <a class="code hl_function" href="sv__phys_8c.html#af0c162bba7ef44fcfa201affd5c853ee">SV_TraceBox</a>(start, mins, maxs, end, <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, ent, <a class="code hl_function" href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a>(ent), 0, 0, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno"> 1590</span>    <span class="comment">// abort move if we&#39;re stuck in the world (and didn&#39;t make it out)</span></div>
<div class="line"><span class="lineno"> 1591</span>    <span class="keywordflow">if</span> (trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a3cb221abc0ec6e2d66d8e90ff2d3b58c">worldstartsolid</a> &amp;&amp; trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a86354cfb27bae65838c8e79d5072029e">allsolid</a> &amp;&amp; trace-&gt;<a class="code hl_variable" href="structtrace__t.html#af819b9f51fbf5e2e3a40f161679fe204">startdepth</a> &lt; 0 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkstuck</a>)</div>
<div class="line"><span class="lineno"> 1592</span>    {</div>
<div class="line"><span class="lineno"> 1593</span>        <span class="comment">// checking startdepth eliminates many false positives on Q1BSP with mod_q1bsp_polygoncollisions 0</span></div>
<div class="line"><span class="lineno"> 1594</span>        <span class="comment">// but it&#39;s still not guaranteed that we&#39;re stuck in a bmodel at this point</span></div>
<div class="line"><span class="lineno"> 1595</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a4ed035babe58b0d1759ceb7dd4bba7ed">sv_gameplayfix_nudgeoutofsolid</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_variable" href="server_8h.html#a18d50331edd24a61e6d988188541b662">sv_gameplayfix_nudgeoutofsolid_separation</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 1596</span>        {</div>
<div class="line"><span class="lineno"> 1597</span>            <span class="keywordflow">switch</span> (<a class="code hl_function" href="phys_8c.html#abe09e8278be8ad09dda5cdcd25a3839e">PHYS_NudgeOutOfSolid</a>(prog, ent))</div>
<div class="line"><span class="lineno"> 1598</span>            {</div>
<div class="line"><span class="lineno"> 1599</span>                <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno"> 1600</span>                    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<a class="code hl_define" href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a> <span class="stringliteral">&quot;NudgeOutOfSolid couldn&#39;t fix stuck entity %i (classname \&quot;%s\&quot;).\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent), <a class="code hl_function" href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acb5aad18f3cb72746b413c4ef70a8a38">PRVM_serveredictstring</a>(ent, classname)));</div>
<div class="line"><span class="lineno"> 1601</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// definitely stuck in a bmodel</span></div>
<div class="line"><span class="lineno"> 1602</span>                <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno"> 1603</span>                    <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;NudgeOutOfSolid fixed stuck entity %i (classname \&quot;%s\&quot;) with offset %f %f %f.\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent), <a class="code hl_function" href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acb5aad18f3cb72746b413c4ef70a8a38">PRVM_serveredictstring</a>(ent, classname)), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[0] - start[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[1] - start[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[2] - start[2]);</div>
<div class="line"><span class="lineno"> 1604</span>                    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), start);</div>
<div class="line"><span class="lineno"> 1605</span>                    <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">push</a>, end);</div>
<div class="line"><span class="lineno"> 1606</span>                    *trace = <a class="code hl_function" href="sv__phys_8c.html#af0c162bba7ef44fcfa201affd5c853ee">SV_TraceBox</a>(start, mins, maxs, end, <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, ent, <a class="code hl_function" href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a>(ent), 0, 0, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno"> 1607</span> </div>
<div class="line"><span class="lineno"> 1608</span>                <span class="comment">// definitely not stuck in a bmodel, move may proceed</span></div>
<div class="line"><span class="lineno"> 1609</span>            }</div>
<div class="line"><span class="lineno"> 1610</span>        }</div>
<div class="line"><span class="lineno"> 1611</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#abf4b624ed30e914524cfc01c51ad2097">sv_gameplayfix_unstickentities</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> &amp;&amp; <a class="code hl_function" href="sv__phys_8c.html#a16993e214594ce4afc656210f19c602e">SV_UnstickEntity</a>(ent))</div>
<div class="line"><span class="lineno"> 1612</span>        {</div>
<div class="line"><span class="lineno"> 1613</span>            <span class="comment">// bones_was_here: pretty sure we can deprecate sv_gameplayfix_unstickentities, sv_gameplayfix_nudgeoutofsolid is much nicer</span></div>
<div class="line"><span class="lineno"> 1614</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), start);</div>
<div class="line"><span class="lineno"> 1615</span>            <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">push</a>, end);</div>
<div class="line"><span class="lineno"> 1616</span>            *trace = <a class="code hl_function" href="sv__phys_8c.html#af0c162bba7ef44fcfa201affd5c853ee">SV_TraceBox</a>(start, mins, maxs, end, <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, ent, <a class="code hl_function" href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a>(ent), 0, 0, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno"> 1617</span>        }</div>
<div class="line"><span class="lineno"> 1618</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1619</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// assuming stuck, bones_was_here TODO: always use PHYS_NudgeOutOfSolid (remove sv_gameplayfix_nudgeoutofsolid)?</span></div>
<div class="line"><span class="lineno"> 1620</span>    }</div>
<div class="line"><span class="lineno"> 1621</span> </div>
<div class="line"><span class="lineno"> 1622</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin));</div>
<div class="line"><span class="lineno"> 1623</span> </div>
<div class="line"><span class="lineno"> 1624</span>    ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#afff7f6747cf67b4e76f06f230836a704">required</a>-&gt;<a class="code hl_variable" href="structprvm__edict__private__t.html#a0ed640b6dddaf1042e6fc4988712cf0c">mark</a> = <a class="code hl_define" href="progsvm_8h.html#ad080677cd7e8ae980f9dd4dfceb67b08">PRVM_EDICT_MARK_WAIT_FOR_SETORIGIN</a>; <span class="comment">// -2: setorigin running</span></div>
<div class="line"><span class="lineno"> 1625</span> </div>
<div class="line"><span class="lineno"> 1626</span>    <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 1627</span> </div>
<div class="line"><span class="lineno"> 1628</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 1629</span>    <span class="keywordflow">if</span>(!trace-&gt;<a class="code hl_variable" href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">startsolid</a>)</div>
<div class="line"><span class="lineno"> 1630</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="sv__phys_8c.html#af0c162bba7ef44fcfa201affd5c853ee">SV_TraceBox</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, mins), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, maxs), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, ent, <a class="code hl_function" href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a>(ent), 0).startsolid)</div>
<div class="line"><span class="lineno"> 1631</span>    {</div>
<div class="line"><span class="lineno"> 1632</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;something eeeeevil happened\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1633</span>    }</div>
<div class="line"><span class="lineno"> 1634</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1635</span> </div>
<div class="line"><span class="lineno"> 1636</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">dolink</a>)</div>
<div class="line"><span class="lineno"> 1637</span>    {</div>
<div class="line"><span class="lineno"> 1638</span>        <a class="code hl_function" href="sv__phys_8c.html#afde235834ab0ac8d11bb81b9e14cff61">SV_LinkEdict_TouchAreaGrid</a>(ent);</div>
<div class="line"><span class="lineno"> 1639</span> </div>
<div class="line"><span class="lineno"> 1640</span>        <span class="keywordflow">if</span>((<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, solid) &gt;= <a class="code hl_define" href="server_8h.html#ae89a360be120402e1499c24cfbd32da3">SOLID_TRIGGER</a> &amp;&amp; trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a00f40ed37bd39dbb8f64e6c5b6f1ea51">ent</a> &amp;&amp; (!((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>) || <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, groundentity) != <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(trace-&gt;<a class="code hl_variable" href="structtrace__t.html#a00f40ed37bd39dbb8f64e6c5b6f1ea51">ent</a>))))</div>
<div class="line"><span class="lineno"> 1641</span>            <a class="code hl_function" href="sv__phys_8c.html#a3974b72887136f11d2cbaa89bcf06b5a">SV_Impact</a> (ent, trace);</div>
<div class="line"><span class="lineno"> 1642</span>    }</div>
<div class="line"><span class="lineno"> 1643</span> </div>
<div class="line"><span class="lineno"> 1644</span>    <span class="keywordflow">if</span>(ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#afff7f6747cf67b4e76f06f230836a704">required</a>-&gt;<a class="code hl_variable" href="structprvm__edict__private__t.html#a0ed640b6dddaf1042e6fc4988712cf0c">mark</a> == <a class="code hl_define" href="progsvm_8h.html#a6acb810e11dbaf46cdb7b72b96740357">PRVM_EDICT_MARK_SETORIGIN_CAUGHT</a>)</div>
<div class="line"><span class="lineno"> 1645</span>    {</div>
<div class="line"><span class="lineno"> 1646</span>        ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#afff7f6747cf67b4e76f06f230836a704">required</a>-&gt;<a class="code hl_variable" href="structprvm__edict__private__t.html#a0ed640b6dddaf1042e6fc4988712cf0c">mark</a> = 0;</div>
<div class="line"><span class="lineno"> 1647</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1648</span>    }</div>
<div class="line"><span class="lineno"> 1649</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#afff7f6747cf67b4e76f06f230836a704">required</a>-&gt;<a class="code hl_variable" href="structprvm__edict__private__t.html#a0ed640b6dddaf1042e6fc4988712cf0c">mark</a> == <a class="code hl_define" href="progsvm_8h.html#ad080677cd7e8ae980f9dd4dfceb67b08">PRVM_EDICT_MARK_WAIT_FOR_SETORIGIN</a>)</div>
<div class="line"><span class="lineno"> 1650</span>    {</div>
<div class="line"><span class="lineno"> 1651</span>        ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#afff7f6747cf67b4e76f06f230836a704">required</a>-&gt;<a class="code hl_variable" href="structprvm__edict__private__t.html#a0ed640b6dddaf1042e6fc4988712cf0c">mark</a> = 0;</div>
<div class="line"><span class="lineno"> 1652</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1653</span>    }</div>
<div class="line"><span class="lineno"> 1654</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1655</span>    {</div>
<div class="line"><span class="lineno"> 1656</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;The edict mark had been overwritten! Please debug this.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1657</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1658</span>    }</div>
<div class="line"><span class="lineno"> 1659</span>}</div>
<div class="ttc" id="aconsole_8h_html_a27b052ed2a962d8ec1b9e922d0813058"><div class="ttname"><a href="console_8h.html#a27b052ed2a962d8ec1b9e922d0813058">CON_WARN</a></div><div class="ttdeci">#define CON_WARN</div><div class="ttdef"><b>Definition</b> <a href="console_8h_source.html#l00096">console.h:96</a></div></div>
<div class="ttc" id="aglquake_8h_html_affda859b376cb8300c60fa496eb99df0"><div class="ttname"><a href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a></div><div class="ttdeci">GLenum type</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00655">glquake.h:655</a></div></div>
<div class="ttc" id="aphys_8c_html_abe09e8278be8ad09dda5cdcd25a3839e"><div class="ttname"><a href="phys_8c.html#abe09e8278be8ad09dda5cdcd25a3839e">PHYS_NudgeOutOfSolid</a></div><div class="ttdeci">int PHYS_NudgeOutOfSolid(prvm_prog_t *prog, prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="phys_8c_source.html#l00009">phys.c:9</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_a6acb810e11dbaf46cdb7b72b96740357"><div class="ttname"><a href="progsvm_8h.html#a6acb810e11dbaf46cdb7b72b96740357">PRVM_EDICT_MARK_SETORIGIN_CAUGHT</a></div><div class="ttdeci">#define PRVM_EDICT_MARK_SETORIGIN_CAUGHT</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00078">progsvm.h:78</a></div></div>
<div class="ttc" id="aprogsvm_8h_html_ad080677cd7e8ae980f9dd4dfceb67b08"><div class="ttname"><a href="progsvm_8h.html#ad080677cd7e8ae980f9dd4dfceb67b08">PRVM_EDICT_MARK_WAIT_FOR_SETORIGIN</a></div><div class="ttdeci">#define PRVM_EDICT_MARK_WAIT_FOR_SETORIGIN</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00077">progsvm.h:77</a></div></div>
<div class="ttc" id="aserver_8h_html_a18d50331edd24a61e6d988188541b662"><div class="ttname"><a href="server_8h.html#a18d50331edd24a61e6d988188541b662">sv_gameplayfix_nudgeoutofsolid_separation</a></div><div class="ttdeci">cvar_t sv_gameplayfix_nudgeoutofsolid_separation</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00117">sv_main.c:117</a></div></div>
<div class="ttc" id="aserver_8h_html_a4ed035babe58b0d1759ceb7dd4bba7ed"><div class="ttname"><a href="server_8h.html#a4ed035babe58b0d1759ceb7dd4bba7ed">sv_gameplayfix_nudgeoutofsolid</a></div><div class="ttdeci">cvar_t sv_gameplayfix_nudgeoutofsolid</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00116">sv_main.c:116</a></div></div>
<div class="ttc" id="aserver_8h_html_abf4b624ed30e914524cfc01c51ad2097"><div class="ttname"><a href="server_8h.html#abf4b624ed30e914524cfc01c51ad2097">sv_gameplayfix_unstickentities</a></div><div class="ttdeci">cvar_t sv_gameplayfix_unstickentities</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00130">sv_main.c:130</a></div></div>
<div class="ttc" id="astructprvm__edict__private__t_html_a0ed640b6dddaf1042e6fc4988712cf0c"><div class="ttname"><a href="structprvm__edict__private__t.html#a0ed640b6dddaf1042e6fc4988712cf0c">prvm_edict_private_t::mark</a></div><div class="ttdeci">int mark</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00084">progsvm.h:84</a></div></div>
<div class="ttc" id="astructprvm__edict__t_html_afff7f6747cf67b4e76f06f230836a704"><div class="ttname"><a href="structprvm__edict__t.html#afff7f6747cf67b4e76f06f230836a704">prvm_edict_t::required</a></div><div class="ttdeci">prvm_edict_private_t * required</div><div class="ttdef"><b>Definition</b> <a href="progsvm_8h_source.html#l00100">progsvm.h:100</a></div></div>
<div class="ttc" id="astructtrace__t_html_acdb0fead79cd57e41a0131ce110ab1f6"><div class="ttname"><a href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">trace_t::startsolid</a></div><div class="ttdeci">qbool startsolid</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00026">collision.h:26</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a16993e214594ce4afc656210f19c602e"><div class="ttname"><a href="sv__phys_8c.html#a16993e214594ce4afc656210f19c602e">SV_UnstickEntity</a></div><div class="ttdeci">qbool SV_UnstickEntity(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02088">sv_phys.c:2088</a></div></div>
<div class="ttc" id="aworld_8h_html_a49815b732f24d0f9337e57d283ff683a"><div class="ttname"><a href="world_8h.html#a49815b732f24d0f9337e57d283ff683a">MOVE_MISSILE</a></div><div class="ttdeci">#define MOVE_MISSILE</div><div class="ttdef"><b>Definition</b> <a href="world_8h_source.html#l00030">world.h:30</a></div></div>
<div class="ttc" id="aworld_8h_html_a90df952ad5c2daedd0295eb3a7ecae12"><div class="ttname"><a href="world_8h.html#a90df952ad5c2daedd0295eb3a7ecae12">MOVE_WORLDONLY</a></div><div class="ttdeci">#define MOVE_WORLDONLY</div><div class="ttdef"><b>Definition</b> <a href="world_8h_source.html#l00031">world.h:31</a></div></div>
<div class="ttc" id="aworld_8h_html_ac85dd5b7c1be8faf715803a4a921a313"><div class="ttname"><a href="world_8h.html#ac85dd5b7c1be8faf715803a4a921a313">MOVE_NORMAL</a></div><div class="ttdeci">#define MOVE_NORMAL</div><div class="ttdef"><b>Definition</b> <a href="world_8h_source.html#l00028">world.h:28</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l01199">SV_FlyMove()</a>, <a class="el" href="sv__phys_8c_source.html#l02602">SV_Physics_Toss()</a>, <a class="el" href="sv__phys_8c_source.html#l01668">SV_PushMove()</a>, and <a class="el" href="sv__phys_8c_source.html#l02292">SV_WalkMove()</a>.</p>

</div>
</div>
<a id="ac3f2eb55eb8c77ccc80ac7f70c6d047b" name="ac3f2eb55eb8c77ccc80ac7f70c6d047b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3f2eb55eb8c77ccc80ac7f70c6d047b">&#9670;&#160;</a></span>SV_PushMove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_PushMove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>pusher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>&#160;</td>
          <td class="paramname"><em>movetime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l01668">1668</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1669</span>{</div>
<div class="line"><span class="lineno"> 1670</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 1671</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>;</div>
<div class="line"><span class="lineno"> 1672</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherowner</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherprog</a>;</div>
<div class="line"><span class="lineno"> 1673</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkcontents</a>;</div>
<div class="line"><span class="lineno"> 1674</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rotated</a>;</div>
<div class="line"><span class="lineno"> 1675</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savesolid</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushltime</a>;</div>
<div class="line"><span class="lineno"> 1676</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> mins, maxs, move, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">moveangle</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushorig</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushang</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>, left, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>, org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkorigin</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkmaxs</a>;</div>
<div class="line"><span class="lineno"> 1677</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">num_moved</a>;</div>
<div class="line"><span class="lineno"> 1678</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcheckentities</a>;</div>
<div class="line"><span class="lineno"> 1679</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkentities</a>[<a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>];</div>
<div class="line"><span class="lineno"> 1680</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>;</div>
<div class="line"><span class="lineno"> 1681</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trace2</a>;</div>
<div class="line"><span class="lineno"> 1682</span>    <a class="code hl_struct" href="structmatrix4x4__t.html">matrix4x4_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherfinalmatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherfinalimatrix</a>;</div>
<div class="line"><span class="lineno"> 1683</span>    <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">moved_edicts</a>[<a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>];</div>
<div class="line"><span class="lineno"> 1684</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pivot</a>;</div>
<div class="line"><span class="lineno"> 1685</span> </div>
<div class="line"><span class="lineno"> 1686</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, velocity)[0] &amp;&amp; !<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, velocity)[1] &amp;&amp; !<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, velocity)[2] &amp;&amp; !<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, avelocity)[0] &amp;&amp; !<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, avelocity)[1] &amp;&amp; !<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, avelocity)[2])</div>
<div class="line"><span class="lineno"> 1687</span>    {</div>
<div class="line"><span class="lineno"> 1688</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, ltime) += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>;</div>
<div class="line"><span class="lineno"> 1689</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1690</span>    }</div>
<div class="line"><span class="lineno"> 1691</span> </div>
<div class="line"><span class="lineno"> 1692</span>    <span class="keywordflow">switch</span> ((<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, solid))</div>
<div class="line"><span class="lineno"> 1693</span>    {</div>
<div class="line"><span class="lineno"> 1694</span>    <span class="comment">// LadyHavoc: valid pusher types</span></div>
<div class="line"><span class="lineno"> 1695</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a>:</div>
<div class="line"><span class="lineno"> 1696</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a1f1f48bf851ec0bf3969a1d65e28095c">SOLID_BBOX</a>:</div>
<div class="line"><span class="lineno"> 1697</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a1fde7f0e5bf0bffbaee0dfb915a643b0">SOLID_SLIDEBOX</a>:</div>
<div class="line"><span class="lineno"> 1698</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a5fef0dfae0d8e25c404bf6a6ec355db6">SOLID_CORPSE</a>: <span class="comment">// LadyHavoc: this would be weird...</span></div>
<div class="line"><span class="lineno"> 1699</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1700</span>    <span class="comment">// LadyHavoc: no collisions</span></div>
<div class="line"><span class="lineno"> 1701</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a90a438b7dacc8e97147ebe1b8cb88e95">SOLID_NOT</a>:</div>
<div class="line"><span class="lineno"> 1702</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#ae89a360be120402e1499c24cfbd32da3">SOLID_TRIGGER</a>:</div>
<div class="line"><span class="lineno"> 1703</span>        <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, velocity), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin));</div>
<div class="line"><span class="lineno"> 1704</span>        <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, avelocity), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles));</div>
<div class="line"><span class="lineno"> 1705</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[0] -= 360.0 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[0] * (1.0 / 360.0));</div>
<div class="line"><span class="lineno"> 1706</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[1] -= 360.0 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[1] * (1.0 / 360.0));</div>
<div class="line"><span class="lineno"> 1707</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[2] -= 360.0 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[2] * (1.0 / 360.0));</div>
<div class="line"><span class="lineno"> 1708</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, ltime) += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>;</div>
<div class="line"><span class="lineno"> 1709</span>        <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>);</div>
<div class="line"><span class="lineno"> 1710</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1711</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1712</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SV_PushMove: entity #%i, unrecognized solid type %f\n&quot;</span>, <a class="code hl_define" href="progsvm_8h.html#a7d15dfc00e1b610f47f92d97e6e81ff0">PRVM_NUM_FOR_EDICT</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>), <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, solid));</div>
<div class="line"><span class="lineno"> 1713</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1714</span>    }</div>
<div class="line"><span class="lineno"> 1715</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, modelindex);</div>
<div class="line"><span class="lineno"> 1716</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index &lt; 1 || index &gt;</a>= <a class="code hl_define" href="qdefs_8h.html#aff903af1964a7ac4a6fe71edd5efaa6a">MAX_MODELS</a>)</div>
<div class="line"><span class="lineno"> 1717</span>    {</div>
<div class="line"><span class="lineno"> 1718</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SV_PushMove: entity #%i has an invalid modelindex %f\n&quot;</span>, <a class="code hl_define" href="progsvm_8h.html#a7d15dfc00e1b610f47f92d97e6e81ff0">PRVM_NUM_FOR_EDICT</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>), <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, modelindex));</div>
<div class="line"><span class="lineno"> 1719</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1720</span>    }</div>
<div class="line"><span class="lineno"> 1721</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a> = <a class="code hl_function" href="server_8h.html#a68a8fec8cdaef88c9719912c527fa7cf">SV_GetModelByIndex</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">index</a>);</div>
<div class="line"><span class="lineno"> 1722</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherowner</a> = <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, owner);</div>
<div class="line"><span class="lineno"> 1723</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherprog</a> = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>);</div>
<div class="line"><span class="lineno"> 1724</span> </div>
<div class="line"><span class="lineno"> 1725</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rotated</a> = <a class="code hl_define" href="mathlib_8h.html#a87789aa9d422deb982e0e65c6104a032">VectorLength2</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)) + <a class="code hl_define" href="mathlib_8h.html#a87789aa9d422deb982e0e65c6104a032">VectorLength2</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, avelocity)) &gt; 0;</div>
<div class="line"><span class="lineno"> 1726</span> </div>
<div class="line"><span class="lineno"> 1727</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime2</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>;</div>
<div class="line"><span class="lineno"> 1728</span>    <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>);</div>
<div class="line"><span class="lineno"> 1729</span>    <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, avelocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">moveangle</a>);</div>
<div class="line"><span class="lineno"> 1730</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">moveangle</a>[0] || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">moveangle</a>[2])</div>
<div class="line"><span class="lineno"> 1731</span>    {</div>
<div class="line"><span class="lineno"> 1732</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1733</span>        {</div>
<div class="line"><span class="lineno"> 1734</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; 0)</div>
<div class="line"><span class="lineno"> 1735</span>            {</div>
<div class="line"><span class="lineno"> 1736</span>                mins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>-&gt;rotatedmins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div>
<div class="line"><span class="lineno"> 1737</span>                maxs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>-&gt;rotatedmaxs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1;</div>
<div class="line"><span class="lineno"> 1738</span>            }</div>
<div class="line"><span class="lineno"> 1739</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1740</span>            {</div>
<div class="line"><span class="lineno"> 1741</span>                mins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>-&gt;rotatedmins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div>
<div class="line"><span class="lineno"> 1742</span>                maxs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>-&gt;rotatedmaxs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1;</div>
<div class="line"><span class="lineno"> 1743</span>            }</div>
<div class="line"><span class="lineno"> 1744</span>        }</div>
<div class="line"><span class="lineno"> 1745</span>    }</div>
<div class="line"><span class="lineno"> 1746</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">moveangle</a>[1])</div>
<div class="line"><span class="lineno"> 1747</span>    {</div>
<div class="line"><span class="lineno"> 1748</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1749</span>        {</div>
<div class="line"><span class="lineno"> 1750</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; 0)</div>
<div class="line"><span class="lineno"> 1751</span>            {</div>
<div class="line"><span class="lineno"> 1752</span>                mins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>-&gt;yawmins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div>
<div class="line"><span class="lineno"> 1753</span>                maxs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>-&gt;yawmaxs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1;</div>
<div class="line"><span class="lineno"> 1754</span>            }</div>
<div class="line"><span class="lineno"> 1755</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1756</span>            {</div>
<div class="line"><span class="lineno"> 1757</span>                mins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>-&gt;yawmins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div>
<div class="line"><span class="lineno"> 1758</span>                maxs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>-&gt;yawmaxs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1;</div>
<div class="line"><span class="lineno"> 1759</span>            }</div>
<div class="line"><span class="lineno"> 1760</span>        }</div>
<div class="line"><span class="lineno"> 1761</span>    }</div>
<div class="line"><span class="lineno"> 1762</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1763</span>    {</div>
<div class="line"><span class="lineno"> 1764</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1765</span>        {</div>
<div class="line"><span class="lineno"> 1766</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; 0)</div>
<div class="line"><span class="lineno"> 1767</span>            {</div>
<div class="line"><span class="lineno"> 1768</span>                mins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>-&gt;normalmins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div>
<div class="line"><span class="lineno"> 1769</span>                maxs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>-&gt;normalmaxs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1;</div>
<div class="line"><span class="lineno"> 1770</span>            }</div>
<div class="line"><span class="lineno"> 1771</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1772</span>            {</div>
<div class="line"><span class="lineno"> 1773</span>                mins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>-&gt;normalmins[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div>
<div class="line"><span class="lineno"> 1774</span>                maxs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>-&gt;normalmaxs[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1;</div>
<div class="line"><span class="lineno"> 1775</span>            }</div>
<div class="line"><span class="lineno"> 1776</span>        }</div>
<div class="line"><span class="lineno"> 1777</span>    }</div>
<div class="line"><span class="lineno"> 1778</span> </div>
<div class="line"><span class="lineno"> 1779</span>    <a class="code hl_define" href="mathlib_8h.html#a28f9f1fe5f50e359e016f7e4e04f8cf1">VectorNegate</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">moveangle</a>, <a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>);</div>
<div class="line"><span class="lineno"> 1780</span>    <a class="code hl_function" href="mathlib_8c.html#a68343c3e63e5a3525b343622bd6c81e7">AngleVectorsFLU</a> (<a class="code hl_variable" href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a>, <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>, left, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><span class="lineno"> 1781</span> </div>
<div class="line"><span class="lineno"> 1782</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushorig</a>);</div>
<div class="line"><span class="lineno"> 1783</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushang</a>);</div>
<div class="line"><span class="lineno"> 1784</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushltime</a> = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, ltime);</div>
<div class="line"><span class="lineno"> 1785</span> </div>
<div class="line"><span class="lineno"> 1786</span><span class="comment">// move the pusher to its final position</span></div>
<div class="line"><span class="lineno"> 1787</span> </div>
<div class="line"><span class="lineno"> 1788</span>    <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, velocity), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin));</div>
<div class="line"><span class="lineno"> 1789</span>    <a class="code hl_define" href="mathlib_8h.html#ae0ab782cffa212723ac17c32ab8f4332">VectorMA</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, avelocity), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles));</div>
<div class="line"><span class="lineno"> 1790</span>    <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, ltime) += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">movetime</a>;</div>
<div class="line"><span class="lineno"> 1791</span>    <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>);</div>
<div class="line"><span class="lineno"> 1792</span> </div>
<div class="line"><span class="lineno"> 1793</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a> = <a class="code hl_function" href="server_8h.html#ab0fb52acdbe2c15bd2a7c2b6b0ef3ad3">SV_GetModelFromEdict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>);</div>
<div class="line"><span class="lineno"> 1794</span>    <a class="code hl_function" href="matrixlib_8c.html#a80867fbbc3b77b40fb8349d1e694a2de">Matrix4x4_CreateFromQuakeEntity</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherfinalmatrix</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin)[2], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[2], 1);</div>
<div class="line"><span class="lineno"> 1795</span>    <a class="code hl_function" href="matrixlib_8c.html#aa9b7b6f7c5bbf266334f17a9c5e125bc">Matrix4x4_Invert_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherfinalimatrix</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherfinalmatrix</a>);</div>
<div class="line"><span class="lineno"> 1796</span> </div>
<div class="line"><span class="lineno"> 1797</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savesolid</a> = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, solid);</div>
<div class="line"><span class="lineno"> 1798</span> </div>
<div class="line"><span class="lineno"> 1799</span><span class="comment">// see if any solid entities are inside the final position</span></div>
<div class="line"><span class="lineno"> 1800</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">num_moved</a> = 0;</div>
<div class="line"><span class="lineno"> 1801</span> </div>
<div class="line"><span class="lineno"> 1802</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, movetype) == <a class="code hl_define" href="server_8h.html#a1533eecfe09fd19d7022aec4ac4ddd38">MOVETYPE_FAKEPUSH</a>) <span class="comment">// Tenebrae&#39;s MOVETYPE_PUSH variant that doesn&#39;t push...</span></div>
<div class="line"><span class="lineno"> 1803</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcheckentities</a> = 0;</div>
<div class="line"><span class="lineno"> 1804</span>    <span class="keywordflow">else</span> <span class="comment">// MOVETYPE_PUSH</span></div>
<div class="line"><span class="lineno"> 1805</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcheckentities</a> = <a class="code hl_function" href="sv__phys_8c.html#a917c9043f29f4272fd300c402d4622a0">SV_EntitiesInBox</a>(mins, maxs, <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkentities</a>);</div>
<div class="line"><span class="lineno"> 1806</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numcheckentities</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>++)</div>
<div class="line"><span class="lineno"> 1807</span>    {</div>
<div class="line"><span class="lineno"> 1808</span>        <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkentities</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">e</a>];</div>
<div class="line"><span class="lineno"> 1809</span>        <span class="keywordtype">int</span> movetype = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, movetype);</div>
<div class="line"><span class="lineno"> 1810</span>        <span class="keywordflow">switch</span>(movetype)</div>
<div class="line"><span class="lineno"> 1811</span>        {</div>
<div class="line"><span class="lineno"> 1812</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a6c6ecacf08db4c42cde89f20f2c7fa6a">MOVETYPE_NONE</a>:</div>
<div class="line"><span class="lineno"> 1813</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#acfdb74e1211a837a9367772fd20ae716">MOVETYPE_PUSH</a>:</div>
<div class="line"><span class="lineno"> 1814</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a6e891ed3c826df137b557643e22b0742">MOVETYPE_FOLLOW</a>:</div>
<div class="line"><span class="lineno"> 1815</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#a275a5c978e2ca7fddf4fa054b025944f">MOVETYPE_NOCLIP</a>:</div>
<div class="line"><span class="lineno"> 1816</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="server_8h.html#ab167dc3bacb2551a831e955f4b5ecd8c">MOVETYPE_FLY_WORLDONLY</a>:</div>
<div class="line"><span class="lineno"> 1817</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1818</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1819</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1820</span>        }</div>
<div class="line"><span class="lineno"> 1821</span> </div>
<div class="line"><span class="lineno"> 1822</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, owner) == <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherprog</a>)</div>
<div class="line"><span class="lineno"> 1823</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1824</span> </div>
<div class="line"><span class="lineno"> 1825</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherowner</a> == <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>))</div>
<div class="line"><span class="lineno"> 1826</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1827</span> </div>
<div class="line"><span class="lineno"> 1828</span>        <span class="comment">//Con_Printf(&quot;%i %s &quot;, PRVM_NUM_FOR_EDICT(check), PRVM_GetString(PRVM_serveredictstring(check, classname)));</span></div>
<div class="line"><span class="lineno"> 1829</span> </div>
<div class="line"><span class="lineno"> 1830</span>        <span class="comment">// tell any MOVETYPE_STEP entity that it may need to check for water transitions</span></div>
<div class="line"><span class="lineno"> 1831</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;waterposition_forceupdate = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1832</span> </div>
<div class="line"><span class="lineno"> 1833</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkcontents</a> = <a class="code hl_function" href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>);</div>
<div class="line"><span class="lineno"> 1834</span> </div>
<div class="line"><span class="lineno"> 1835</span>        <span class="comment">// if the entity is standing on the pusher, it will definitely be moved</span></div>
<div class="line"><span class="lineno"> 1836</span>        <span class="comment">// if the entity is not standing on the pusher, but is in the pusher&#39;s</span></div>
<div class="line"><span class="lineno"> 1837</span>        <span class="comment">// final position, move it</span></div>
<div class="line"><span class="lineno"> 1838</span>        <span class="keywordflow">if</span> (!((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, flags) &amp; <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>) || <a class="code hl_define" href="progsvm_8h.html#a97138ae5d960d8b55d8db396abd68d0e">PRVM_PROG_TO_EDICT</a>(<a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, groundentity)) != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>)</div>
<div class="line"><span class="lineno"> 1839</span>        {</div>
<div class="line"><span class="lineno"> 1840</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, mins), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermins</a>);</div>
<div class="line"><span class="lineno"> 1841</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, maxs), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermaxs</a>);</div>
<div class="line"><span class="lineno"> 1842</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, origin), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkorigin</a>);</div>
<div class="line"><span class="lineno"> 1843</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, mins), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkmins</a>);</div>
<div class="line"><span class="lineno"> 1844</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, maxs), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkmaxs</a>);</div>
<div class="line"><span class="lineno"> 1845</span>            <a class="code hl_function" href="collision_8c.html#a951629cb855f414e3ef9808d1e777a6a">Collision_ClipToGenericEntity</a>(&amp;trace, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>-&gt;priv.server-&gt;frameblend, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>-&gt;priv.server-&gt;skeleton, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermaxs</a>, <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherfinalmatrix</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherfinalimatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkorigin</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkorigin</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkcontents</a>, 0, 0, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno"> 1846</span>            <span class="comment">//trace = SV_TraceBox(PRVM_serveredictvector(check, origin), PRVM_serveredictvector(check, mins), PRVM_serveredictvector(check, maxs), PRVM_serveredictvector(check, origin), MOVE_NOMONSTERS, check, checkcontents);</span></div>
<div class="line"><span class="lineno"> 1847</span>            <span class="keywordflow">if</span> (!trace.<a class="code hl_variable" href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">startsolid</a>)</div>
<div class="line"><span class="lineno"> 1848</span>            {</div>
<div class="line"><span class="lineno"> 1849</span>                <span class="comment">//Con_Printf(&quot;- not in solid\n&quot;);</span></div>
<div class="line"><span class="lineno"> 1850</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1851</span>            }</div>
<div class="line"><span class="lineno"> 1852</span>        }</div>
<div class="line"><span class="lineno"> 1853</span> </div>
<div class="line"><span class="lineno"> 1854</span>        <a class="code hl_define" href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, mins), 0.5f, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, maxs), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pivot</a>);</div>
<div class="line"><span class="lineno"> 1855</span>        <span class="comment">//VectorClear(pivot);</span></div>
<div class="line"><span class="lineno"> 1856</span> </div>
<div class="line"><span class="lineno"> 1857</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">rotated</a>)</div>
<div class="line"><span class="lineno"> 1858</span>        {</div>
<div class="line"><span class="lineno"> 1859</span>            <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org2</a>;</div>
<div class="line"><span class="lineno"> 1860</span>            <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, origin), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin), org);</div>
<div class="line"><span class="lineno"> 1861</span>            <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a> (org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pivot</a>, org);</div>
<div class="line"><span class="lineno"> 1862</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org2</a>[0] = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (org, <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>);</div>
<div class="line"><span class="lineno"> 1863</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org2</a>[1] = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (org, left);</div>
<div class="line"><span class="lineno"> 1864</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org2</a>[2] = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (org, <a class="code hl_variable" href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a>);</div>
<div class="line"><span class="lineno"> 1865</span>            <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">org2</a>, org, move);</div>
<div class="line"><span class="lineno"> 1866</span>            <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a> (move, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>, move);</div>
<div class="line"><span class="lineno"> 1867</span>        }</div>
<div class="line"><span class="lineno"> 1868</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1869</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move1</a>, move);</div>
<div class="line"><span class="lineno"> 1870</span> </div>
<div class="line"><span class="lineno"> 1871</span>        <span class="comment">//Con_Printf(&quot;- pushing %f %f %f\n&quot;, move[0], move[1], move[2]);</span></div>
<div class="line"><span class="lineno"> 1872</span> </div>
<div class="line"><span class="lineno"> 1873</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, origin), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>-&gt;priv.server-&gt;moved_from);</div>
<div class="line"><span class="lineno"> 1874</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, angles), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>-&gt;priv.server-&gt;moved_fromangles);</div>
<div class="line"><span class="lineno"> 1875</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">moved_edicts</a>[<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">num_moved</a>++] = <a class="code hl_define" href="progsvm_8h.html#a7d15dfc00e1b610f47f92d97e6e81ff0">PRVM_NUM_FOR_EDICT</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>);</div>
<div class="line"><span class="lineno"> 1876</span> </div>
<div class="line"><span class="lineno"> 1877</span>        <span class="comment">// physics objects need better collisions than this code can do</span></div>
<div class="line"><span class="lineno"> 1878</span>        <span class="keywordflow">if</span> (movetype == <a class="code hl_define" href="server_8h.html#a020a58a01b95078f6113a39ab20443be">MOVETYPE_PHYSICS</a>)</div>
<div class="line"><span class="lineno"> 1879</span>        {</div>
<div class="line"><span class="lineno"> 1880</span>            <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, origin), move, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, origin));</div>
<div class="line"><span class="lineno"> 1881</span>            <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>);</div>
<div class="line"><span class="lineno"> 1882</span>            <a class="code hl_function" href="sv__phys_8c.html#afde235834ab0ac8d11bb81b9e14cff61">SV_LinkEdict_TouchAreaGrid</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>);</div>
<div class="line"><span class="lineno"> 1883</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1884</span>        }</div>
<div class="line"><span class="lineno"> 1885</span> </div>
<div class="line"><span class="lineno"> 1886</span>        <span class="comment">// try moving the contacted entity</span></div>
<div class="line"><span class="lineno"> 1887</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, solid) = <a class="code hl_define" href="server_8h.html#a90a438b7dacc8e97147ebe1b8cb88e95">SOLID_NOT</a>;</div>
<div class="line"><span class="lineno"> 1888</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="sv__phys_8c.html#a747b50bcc3f85c8f91b7af1e000bbd9b">SV_PushEntity</a>(&amp;trace, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, move, <span class="keyword">true</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 1889</span>        {</div>
<div class="line"><span class="lineno"> 1890</span>            <span class="comment">// entity &quot;check&quot; got teleported</span></div>
<div class="line"><span class="lineno"> 1891</span>            <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, angles)[1] += trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">moveangle</a>[1];</div>
<div class="line"><span class="lineno"> 1892</span>            <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, solid) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savesolid</a>; <span class="comment">// was SOLID_BSP</span></div>
<div class="line"><span class="lineno"> 1893</span>            <span class="keywordflow">continue</span>; <span class="comment">// pushed enough</span></div>
<div class="line"><span class="lineno"> 1894</span>        }</div>
<div class="line"><span class="lineno"> 1895</span>        <span class="comment">// FIXME: turn players specially</span></div>
<div class="line"><span class="lineno"> 1896</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, angles)[1] += trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">moveangle</a>[1];</div>
<div class="line"><span class="lineno"> 1897</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, solid) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">savesolid</a>; <span class="comment">// was SOLID_BSP</span></div>
<div class="line"><span class="lineno"> 1898</span>        <span class="comment">//Con_Printf(&quot;%s:%d frac %f startsolid %d bmodelstartsolid %d allsolid %d\n&quot;, __FILE__, __LINE__, trace.fraction, trace.startsolid, trace.bmodelstartsolid, trace.allsolid);</span></div>
<div class="line"><span class="lineno"> 1899</span> </div>
<div class="line"><span class="lineno"> 1900</span>        <span class="comment">// this trace.fraction &lt; 1 check causes items to fall off of pushers</span></div>
<div class="line"><span class="lineno"> 1901</span>        <span class="comment">// if they pass under or through a wall</span></div>
<div class="line"><span class="lineno"> 1902</span>        <span class="comment">// the groundentity check causes items to fall off of ledges</span></div>
<div class="line"><span class="lineno"> 1903</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, movetype) != <a class="code hl_define" href="server_8h.html#a5aa1aea64f57ec035f06004a8a693a67">MOVETYPE_WALK</a> &amp;&amp; (trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> &lt; 1 || <a class="code hl_define" href="progsvm_8h.html#a97138ae5d960d8b55d8db396abd68d0e">PRVM_PROG_TO_EDICT</a>(<a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, groundentity)) != <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>))</div>
<div class="line"><span class="lineno"> 1904</span>            <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, flags) = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, flags) &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~FL_ONGROUND</a>;</div>
<div class="line"><span class="lineno"> 1905</span> </div>
<div class="line"><span class="lineno"> 1906</span>        <span class="comment">// if it is still inside the pusher, block</span></div>
<div class="line"><span class="lineno"> 1907</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, mins), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermins</a>);</div>
<div class="line"><span class="lineno"> 1908</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, maxs), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermaxs</a>);</div>
<div class="line"><span class="lineno"> 1909</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, origin), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkorigin</a>);</div>
<div class="line"><span class="lineno"> 1910</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, mins), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkmins</a>);</div>
<div class="line"><span class="lineno"> 1911</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, maxs), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkmaxs</a>);</div>
<div class="line"><span class="lineno"> 1912</span>        <a class="code hl_function" href="collision_8c.html#a951629cb855f414e3ef9808d1e777a6a">Collision_ClipToGenericEntity</a>(&amp;trace, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermodel</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>-&gt;priv.server-&gt;frameblend, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>-&gt;priv.server-&gt;skeleton, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushermaxs</a>, <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherfinalmatrix</a>, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusherfinalimatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkorigin</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkorigin</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">checkcontents</a>, 0, 0, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno"> 1913</span>        <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">startsolid</a>)</div>
<div class="line"><span class="lineno"> 1914</span>        {</div>
<div class="line"><span class="lineno"> 1915</span>            <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move2</a>;</div>
<div class="line"><span class="lineno"> 1916</span>            <span class="keywordflow">if</span>(<a class="code hl_function" href="sv__phys_8c.html#adb487bd3f848165c9ac4f679de7b5973">SV_NudgeOutOfSolid_PivotIsKnownGood</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pivot</a>))</div>
<div class="line"><span class="lineno"> 1917</span>            {</div>
<div class="line"><span class="lineno"> 1918</span>                <span class="comment">// hack to invoke all necessary movement triggers</span></div>
<div class="line"><span class="lineno"> 1919</span>                <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move2</a>);</div>
<div class="line"><span class="lineno"> 1920</span>                <span class="keywordflow">if</span>(!<a class="code hl_function" href="sv__phys_8c.html#a747b50bcc3f85c8f91b7af1e000bbd9b">SV_PushEntity</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">trace2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">move2</a>, <span class="keyword">true</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 1921</span>                {</div>
<div class="line"><span class="lineno"> 1922</span>                    <span class="comment">// entity &quot;check&quot; got teleported</span></div>
<div class="line"><span class="lineno"> 1923</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1924</span>                }</div>
<div class="line"><span class="lineno"> 1925</span>                <span class="comment">// we could fix it</span></div>
<div class="line"><span class="lineno"> 1926</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1927</span>            }</div>
<div class="line"><span class="lineno"> 1928</span> </div>
<div class="line"><span class="lineno"> 1929</span>            <span class="comment">// still inside pusher, so it&#39;s really blocked</span></div>
<div class="line"><span class="lineno"> 1930</span> </div>
<div class="line"><span class="lineno"> 1931</span>            <span class="comment">// fail the move</span></div>
<div class="line"><span class="lineno"> 1932</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, mins)[0] == <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, maxs)[0])</div>
<div class="line"><span class="lineno"> 1933</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1934</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, solid) == <a class="code hl_define" href="server_8h.html#a90a438b7dacc8e97147ebe1b8cb88e95">SOLID_NOT</a> || <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, solid) == <a class="code hl_define" href="server_8h.html#ae89a360be120402e1499c24cfbd32da3">SOLID_TRIGGER</a>)</div>
<div class="line"><span class="lineno"> 1935</span>            {</div>
<div class="line"><span class="lineno"> 1936</span>                <span class="comment">// corpse</span></div>
<div class="line"><span class="lineno"> 1937</span>                <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, mins)[0] = <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, mins)[1] = 0;</div>
<div class="line"><span class="lineno"> 1938</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, mins), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>, maxs));</div>
<div class="line"><span class="lineno"> 1939</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1940</span>            }</div>
<div class="line"><span class="lineno"> 1941</span> </div>
<div class="line"><span class="lineno"> 1942</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushorig</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, origin));</div>
<div class="line"><span class="lineno"> 1943</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushang</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles));</div>
<div class="line"><span class="lineno"> 1944</span>            <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, ltime) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pushltime</a>;</div>
<div class="line"><span class="lineno"> 1945</span>            <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>);</div>
<div class="line"><span class="lineno"> 1946</span> </div>
<div class="line"><span class="lineno"> 1947</span>            <span class="comment">// move back any entities we already moved</span></div>
<div class="line"><span class="lineno"> 1948</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">num_moved</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno"> 1949</span>            {</div>
<div class="line"><span class="lineno"> 1950</span>                <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a> = <a class="code hl_define" href="progsvm_8h.html#a5e6d1308a7bb93e27d9cad85515c7dd6">PRVM_EDICT_NUM</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">moved_edicts</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><span class="lineno"> 1951</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a>-&gt;priv.server-&gt;moved_from, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a>, origin));</div>
<div class="line"><span class="lineno"> 1952</span>                <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a>-&gt;priv.server-&gt;moved_fromangles, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a>, angles));</div>
<div class="line"><span class="lineno"> 1953</span>                <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">ed</a>);</div>
<div class="line"><span class="lineno"> 1954</span>            }</div>
<div class="line"><span class="lineno"> 1955</span> </div>
<div class="line"><span class="lineno"> 1956</span>            <span class="comment">// if the pusher has a &quot;blocked&quot; function, call it, otherwise just stay in place until the obstacle is gone</span></div>
<div class="line"><span class="lineno"> 1957</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, blocked))</div>
<div class="line"><span class="lineno"> 1958</span>            {</div>
<div class="line"><span class="lineno"> 1959</span>                <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>;</div>
<div class="line"><span class="lineno"> 1960</span>                <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>);</div>
<div class="line"><span class="lineno"> 1961</span>                <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(other) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">check</a>);</div>
<div class="line"><span class="lineno"> 1962</span>                prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">ExecuteProgram</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, blocked), <span class="stringliteral">&quot;QC function self.blocked is missing&quot;</span>);</div>
<div class="line"><span class="lineno"> 1963</span>            }</div>
<div class="line"><span class="lineno"> 1964</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1965</span>        }</div>
<div class="line"><span class="lineno"> 1966</span>    }</div>
<div class="line"><span class="lineno"> 1967</span>    <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[0] -= 360.0 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[0] * (1.0 / 360.0));</div>
<div class="line"><span class="lineno"> 1968</span>    <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[1] -= 360.0 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[1] * (1.0 / 360.0));</div>
<div class="line"><span class="lineno"> 1969</span>    <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[2] -= 360.0 * <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">floor</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pusher</a>, angles)[2] * (1.0 / 360.0));</div>
<div class="line"><span class="lineno"> 1970</span>}</div>
<div class="ttc" id="acollision_8c_html_a951629cb855f414e3ef9808d1e777a6a"><div class="ttname"><a href="collision_8c.html#a951629cb855f414e3ef9808d1e777a6a">Collision_ClipToGenericEntity</a></div><div class="ttdeci">void Collision_ClipToGenericEntity(trace_t *trace, model_t *model, const frameblend_t *frameblend, const skeleton_t *skeleton, const vec3_t bodymins, const vec3_t bodymaxs, int bodysupercontents, matrix4x4_t *matrix, matrix4x4_t *inversematrix, const vec3_t tstart, const vec3_t mins, const vec3_t maxs, const vec3_t tend, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask, float extend)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l01791">collision.c:1791</a></div></div>
<div class="ttc" id="amathlib_8c_html_a68343c3e63e5a3525b343622bd6c81e7"><div class="ttname"><a href="mathlib_8c.html#a68343c3e63e5a3525b343622bd6c81e7">AngleVectorsFLU</a></div><div class="ttdeci">void AngleVectorsFLU(const vec3_t angles, vec3_t forward, vec3_t left, vec3_t up)</div><div class="ttdoc">LadyHavoc: proper matrix version of AngleVectors.</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8c_source.html#l00498">mathlib.c:498</a></div></div>
<div class="ttc" id="amathlib_8h_html_a4d2bc0c336e3e2a9b13448341ab83c10"><div class="ttname"><a href="mathlib_8h.html#a4d2bc0c336e3e2a9b13448341ab83c10">VectorLerp</a></div><div class="ttdeci">#define VectorLerp(v1, lerp, v2, c)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00119">mathlib.h:119</a></div></div>
<div class="ttc" id="aserver_8h_html_a1f1f48bf851ec0bf3969a1d65e28095c"><div class="ttname"><a href="server_8h.html#a1f1f48bf851ec0bf3969a1d65e28095c">SOLID_BBOX</a></div><div class="ttdeci">#define SOLID_BBOX</div><div class="ttdoc">touch on edge, block</div><div class="ttdef"><b>Definition</b> <a href="server_8h_source.html#l00335">server.h:335</a></div></div>
<div class="ttc" id="ashader__glsl_8h_html_ada7daae51ef1e670767c18b83ea78044"><div class="ttname"><a href="shader__glsl_8h.html#ada7daae51ef1e670767c18b83ea78044">a</a></div><div class="ttdeci">ret a</div><div class="ttdef"><b>Definition</b> <a href="shader__glsl_8h_source.html#l00296">shader_glsl.h:296</a></div></div>
<div class="ttc" id="asv__phys_8c_html_adb487bd3f848165c9ac4f679de7b5973"><div class="ttname"><a href="sv__phys_8c.html#adb487bd3f848165c9ac4f679de7b5973">SV_NudgeOutOfSolid_PivotIsKnownGood</a></div><div class="ttdeci">static qbool SV_NudgeOutOfSolid_PivotIsKnownGood(prvm_edict_t *ent, vec3_t pivot)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l01472">sv_phys.c:1472</a></div></div>
<div class="ttc" id="asv__user_8c_html_a6cb5d7464231c3110d95905fb7d83cc7"><div class="ttname"><a href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a></div><div class="ttdeci">static vec3_t forward</div><div class="ttdef"><b>Definition</b> <a href="sv__user_8c_source.html#l00305">sv_user.c:305</a></div></div>
<div class="ttc" id="asv__user_8c_html_adf3413f94f96a6089d7f6c71f33ac347"><div class="ttname"><a href="sv__user_8c.html#adf3413f94f96a6089d7f6c71f33ac347">up</a></div><div class="ttdeci">static vec3_t up</div><div class="ttdef"><b>Definition</b> <a href="sv__user_8c_source.html#l00305">sv_user.c:305</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l01978">SV_Physics_Pusher()</a>.</p>

</div>
</div>
<a id="a485731d3cafe0f22d9f8721d53d6c5ec" name="a485731d3cafe0f22d9f8721d53d6c5ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485731d3cafe0f22d9f8721d53d6c5ec">&#9670;&#160;</a></span>SV_RunThink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> SV_RunThink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l01083">1083</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1084</span>{</div>
<div class="line"><span class="lineno"> 1085</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 1086</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iterations</a>;</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>    <span class="comment">// don&#39;t let things stay in the past.</span></div>
<div class="line"><span class="lineno"> 1089</span>    <span class="comment">// it is possible to start that way by a trigger with a local time.</span></div>
<div class="line"><span class="lineno"> 1090</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, nextthink) &lt;= 0 || <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, nextthink) &gt; <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a> + <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>)</div>
<div class="line"><span class="lineno"> 1091</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1092</span> </div>
<div class="line"><span class="lineno"> 1093</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iterations</a> = 0;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iterations</a> &lt; 128  &amp;&amp; !ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a247e6dccfef4a688f2dba80d4c57270d">free</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">iterations</a>++)</div>
<div class="line"><span class="lineno"> 1094</span>    {</div>
<div class="line"><span class="lineno"> 1095</span>        <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>, <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, nextthink));</div>
<div class="line"><span class="lineno"> 1096</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, nextthink) = 0;</div>
<div class="line"><span class="lineno"> 1097</span>        <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(self) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent);</div>
<div class="line"><span class="lineno"> 1098</span>        <a class="code hl_define" href="progsvm_8h.html#a25ac170152a31d9193ff7a844e51149e">PRVM_serverglobaledict</a>(other) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>);</div>
<div class="line"><span class="lineno"> 1099</span>        prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#abed8fababa1221bd4c66bc07041b01d4">ExecuteProgram</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acf1e5f01355f386e758ebff588838f65">PRVM_serveredictfunction</a>(ent, think), <span class="stringliteral">&quot;QC function self.think is missing&quot;</span>);</div>
<div class="line"><span class="lineno"> 1100</span>        <span class="comment">// mods often set nextthink to time to cause a think every frame,</span></div>
<div class="line"><span class="lineno"> 1101</span>        <span class="comment">// we don&#39;t want to loop in that case, so exit if the new nextthink is</span></div>
<div class="line"><span class="lineno"> 1102</span>        <span class="comment">// &lt;= the time the qc was told, also exit if it is past the end of the</span></div>
<div class="line"><span class="lineno"> 1103</span>        <span class="comment">// frame</span></div>
<div class="line"><span class="lineno"> 1104</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, nextthink) &lt;= <a class="code hl_define" href="progsvm_8h.html#aa1687942beffe2ad61c92d33c2cbdb27">PRVM_serverglobalfloat</a>(time) || <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, nextthink) &gt; <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a> + <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a> || !<a class="code hl_variable" href="server_8h.html#afbb2738c59152e5c3b6ae31cff2ec673">sv_gameplayfix_multiplethinksperframe</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 1105</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1106</span>    }</div>
<div class="line"><span class="lineno"> 1107</span>    <span class="keywordflow">return</span> !ent-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a247e6dccfef4a688f2dba80d4c57270d">free</a>;</div>
<div class="line"><span class="lineno"> 1108</span>}</div>
<div class="ttc" id="aserver_8h_html_afbb2738c59152e5c3b6ae31cff2ec673"><div class="ttname"><a href="server_8h.html#afbb2738c59152e5c3b6ae31cff2ec673">sv_gameplayfix_multiplethinksperframe</a></div><div class="ttdeci">cvar_t sv_gameplayfix_multiplethinksperframe</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00113">sv_main.c:113</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03062">SV_Physics_ClientEntity()</a>, and <a class="el" href="sv__phys_8c_source.html#l02825">SV_Physics_Entity()</a>.</p>

</div>
</div>
<a id="a630147d09cc18c1e11b594adc364a7fe" name="a630147d09cc18c1e11b594adc364a7fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a630147d09cc18c1e11b594adc364a7fe">&#9670;&#160;</a></span>SV_TestEntityPosition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a> SV_TestEntityPosition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00925">925</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  926</span>{</div>
<div class="line"><span class="lineno">  927</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno">  928</span>    <span class="keywordtype">int</span> hitsupercontentsmask = <a class="code hl_function" href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a>(ent);</div>
<div class="line"><span class="lineno">  929</span>    <span class="keywordtype">int</span> skipsupercontentsmask = 0;</div>
<div class="line"><span class="lineno">  930</span>    <span class="keywordtype">int</span> skipmaterialflagsmask = 0;</div>
<div class="line"><span class="lineno">  931</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entorigin</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmaxs</a>;</div>
<div class="line"><span class="lineno">  932</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><span class="lineno">  933</span>    <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>, org);</div>
<div class="line"><span class="lineno">  934</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entorigin</a>);</div>
<div class="line"><span class="lineno">  935</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, mins), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmins</a>);</div>
<div class="line"><span class="lineno">  936</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, maxs), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmaxs</a>);</div>
<div class="line"><span class="lineno">  937</span>    trace = <a class="code hl_function" href="sv__phys_8c.html#af0c162bba7ef44fcfa201affd5c853ee">SV_TraceBox</a>(org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entorigin</a>, ((<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) == <a class="code hl_define" href="server_8h.html#ab167dc3bacb2551a831e955f4b5ecd8c">MOVETYPE_FLY_WORLDONLY</a>) ? <a class="code hl_define" href="world_8h.html#a90df952ad5c2daedd0295eb3a7ecae12">MOVE_WORLDONLY</a> : <a class="code hl_define" href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a>), ent, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a>);</div>
<div class="line"><span class="lineno">  938</span>    <span class="keywordflow">if</span> (trace.<a class="code hl_variable" href="structtrace__t.html#a78edab108c78f91aaa4aec7aee8b898a">startsupercontents</a> &amp; hitsupercontentsmask)</div>
<div class="line"><span class="lineno">  939</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  940</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  941</span>    {</div>
<div class="line"><span class="lineno">  942</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">worldmodel</a>-&gt;brushq1.numclipnodes &amp;&amp; !<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, mins), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, maxs)))</div>
<div class="line"><span class="lineno">  943</span>        {</div>
<div class="line"><span class="lineno">  944</span>            <span class="comment">// q1bsp/hlbsp use hulls and if the entity does not exactly match</span></div>
<div class="line"><span class="lineno">  945</span>            <span class="comment">// a hull size it is incorrectly tested, so this code tries to</span></div>
<div class="line"><span class="lineno">  946</span>            <span class="comment">// &#39;fix&#39; it slightly...</span></div>
<div class="line"><span class="lineno">  947</span>            <span class="comment">// FIXME: this breaks entities larger than the hull size</span></div>
<div class="line"><span class="lineno">  948</span>            <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno">  949</span>            <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m1</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m2</a>, s;</div>
<div class="line"><span class="lineno">  950</span>            <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m1</a>);</div>
<div class="line"><span class="lineno">  951</span>            <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m2</a>);</div>
<div class="line"><span class="lineno">  952</span>            <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m1</a>, s);</div>
<div class="line"><span class="lineno">  953</span><span class="preprocessor">#define EPSILON (1.0f / 32.0f)</span></div>
<div class="line"><span class="lineno">  954</span>            <span class="keywordflow">if</span> (s[0] &gt;= <a class="code hl_define" href="sv__phys_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>*2) {<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m1</a>[0] += <a class="code hl_define" href="sv__phys_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m2</a>[0] -= <a class="code hl_define" href="sv__phys_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>;}</div>
<div class="line"><span class="lineno">  955</span>            <span class="keywordflow">if</span> (s[1] &gt;= <a class="code hl_define" href="sv__phys_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>*2) {<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m1</a>[1] += <a class="code hl_define" href="sv__phys_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m2</a>[1] -= <a class="code hl_define" href="sv__phys_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>;}</div>
<div class="line"><span class="lineno">  956</span>            <span class="keywordflow">if</span> (s[2] &gt;= <a class="code hl_define" href="sv__phys_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>*2) {<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m1</a>[2] += <a class="code hl_define" href="sv__phys_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m2</a>[2] -= <a class="code hl_define" href="sv__phys_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>;}</div>
<div class="line"><span class="lineno">  957</span>            <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  958</span>            {</div>
<div class="line"><span class="lineno">  959</span>                <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[0] = (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; 1) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m2</a>[0] : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m1</a>[0];</div>
<div class="line"><span class="lineno">  960</span>                <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[1] = (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; 2) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m2</a>[1] : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m1</a>[1];</div>
<div class="line"><span class="lineno">  961</span>                <a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>[2] = (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp; 4) ? <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m2</a>[2] : <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">m1</a>[2];</div>
<div class="line"><span class="lineno">  962</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="sv__phys_8c.html#abc73364265c2ee1c656afa098ebb712c">SV_PointSuperContents</a>(<a class="code hl_variable" href="glquake_8h.html#a4d1613b1e415f5e41c4651a1793b277a">v</a>) &amp; hitsupercontentsmask)</div>
<div class="line"><span class="lineno">  963</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  964</span>            }</div>
<div class="line"><span class="lineno">  965</span>        }</div>
<div class="line"><span class="lineno">  966</span>    }</div>
<div class="line"><span class="lineno">  967</span>    <span class="comment">// if the trace found a better position for the entity, move it there</span></div>
<div class="line"><span class="lineno">  968</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#a9a5748d2424dee5c44d5d358e1944125">VectorDistance2</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)) &gt;= 0.0001)</div>
<div class="line"><span class="lineno">  969</span>    {</div>
<div class="line"><span class="lineno">  970</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">  971</span>        <span class="comment">// please switch back to this code when trace.endpos sometimes being in solid bug is fixed</span></div>
<div class="line"><span class="lineno">  972</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin));</div>
<div class="line"><span class="lineno">  973</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  974</span>        <span class="comment">// verify if the endpos is REALLY outside solid</span></div>
<div class="line"><span class="lineno">  975</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, org);</div>
<div class="line"><span class="lineno">  976</span>        trace = <a class="code hl_function" href="sv__phys_8c.html#af0c162bba7ef44fcfa201affd5c853ee">SV_TraceBox</a>(org, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmaxs</a>, org, <a class="code hl_define" href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a>, ent, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno">  977</span>        <span class="keywordflow">if</span>(trace.<a class="code hl_variable" href="structtrace__t.html#acdb0fead79cd57e41a0131ce110ab1f6">startsolid</a>)</div>
<div class="line"><span class="lineno">  978</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SV_TestEntityPosition: trace.endpos detected to be in solid. NOT using it.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  979</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  980</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(org, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin));</div>
<div class="line"><span class="lineno">  981</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  982</span>    }</div>
<div class="line"><span class="lineno">  983</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  984</span>}</div>
<div class="ttc" id="aglquake_8h_html_a303f3de7a8816217b5a6987c647164b1"><div class="ttname"><a href="glquake_8h.html#a303f3de7a8816217b5a6987c647164b1">value</a></div><div class="ttdeci">GLsizei const GLfloat * value</div><div class="ttdef"><b>Definition</b> <a href="glquake_8h_source.html#l00739">glquake.h:739</a></div></div>
<div class="ttc" id="amathlib_8h_html_a9a5748d2424dee5c44d5d358e1944125"><div class="ttname"><a href="mathlib_8h.html#a9a5748d2424dee5c44d5d358e1944125">VectorDistance2</a></div><div class="ttdeci">#define VectorDistance2(a, b)</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8h_source.html#l00106">mathlib.h:106</a></div></div>
<div class="ttc" id="astructtrace__t_html_a78edab108c78f91aaa4aec7aee8b898a"><div class="ttname"><a href="structtrace__t.html#a78edab108c78f91aaa4aec7aee8b898a">trace_t::startsupercontents</a></div><div class="ttdeci">int startsupercontents</div><div class="ttdef"><b>Definition</b> <a href="collision_8h_source.html#l00056">collision.h:56</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a002b2f4894492820fe708b1b7e7c5e70"><div class="ttname"><a href="sv__phys_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a></div><div class="ttdeci">#define EPSILON</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l02117">SV_CheckStuck()</a>, and <a class="el" href="sv__phys_8c_source.html#l02043">SV_UnstickEntityReturnOffset()</a>.</p>

</div>
</div>
<a id="af0c162bba7ef44fcfa201affd5c853ee" name="af0c162bba7ef44fcfa201affd5c853ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0c162bba7ef44fcfa201affd5c853ee">&#9670;&#160;</a></span>SV_TraceBox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrace__t.html">trace_t</a> SV_TraceBox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>mins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>maxs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>passedict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>&#160;</td>
          <td class="paramname"><em>extend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>traces a box move against worldmodel and all entities in the specified area </p>

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00414">414</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  416</span>{</div>
<div class="line"><span class="lineno">  417</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno">  418</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullmaxs</a>;</div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bodysupercontents</a>;</div>
<div class="line"><span class="lineno">  420</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedictprog</a>;</div>
<div class="line"><span class="lineno">  421</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pitchsign</a> = 1;</div>
<div class="line"><span class="lineno">  422</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointtrace</a>;</div>
<div class="line"><span class="lineno">  423</span>    <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceowner</a>, *touch;</div>
<div class="line"><span class="lineno">  424</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><span class="lineno">  425</span>    <span class="comment">// temporary storage because prvm_vec_t may differ from vec_t</span></div>
<div class="line"><span class="lineno">  426</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmaxs</a>;</div>
<div class="line"><span class="lineno">  427</span>    <span class="comment">// bounding box of entire move area</span></div>
<div class="line"><span class="lineno">  428</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>;</div>
<div class="line"><span class="lineno">  429</span>    <span class="comment">// size of the moving object</span></div>
<div class="line"><span class="lineno">  430</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs</a>;</div>
<div class="line"><span class="lineno">  431</span>    <span class="comment">// size when clipping against monsters</span></div>
<div class="line"><span class="lineno">  432</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>;</div>
<div class="line"><span class="lineno">  433</span>    <span class="comment">// start and end origin of move</span></div>
<div class="line"><span class="lineno">  434</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>;</div>
<div class="line"><span class="lineno">  435</span>    <span class="comment">// trace results</span></div>
<div class="line"><span class="lineno">  436</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>;</div>
<div class="line"><span class="lineno">  437</span>    <span class="comment">// matrices to transform into/out of other entity&#39;s space</span></div>
<div class="line"><span class="lineno">  438</span>    <a class="code hl_struct" href="structmatrix4x4__t.html">matrix4x4_t</a> matrix, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>;</div>
<div class="line"><span class="lineno">  439</span>    <span class="comment">// model of other entity</span></div>
<div class="line"><span class="lineno">  440</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *model;</div>
<div class="line"><span class="lineno">  441</span>    <span class="comment">// list of entities to test for collisions</span></div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>;</div>
<div class="line"><span class="lineno">  443</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>[<a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>];</div>
<div class="line"><span class="lineno">  444</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a>;</div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(mins, maxs))</div>
<div class="line"><span class="lineno">  446</span>    {</div>
<div class="line"><span class="lineno">  447</span>        <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shiftstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shiftend</a>;</div>
<div class="line"><span class="lineno">  448</span>        <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(start, mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shiftstart</a>);</div>
<div class="line"><span class="lineno">  449</span>        <a class="code hl_define" href="mathlib_8h.html#ac7c7d40fe22eeaffb66c24bd718f655d">VectorAdd</a>(end, mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shiftend</a>);</div>
<div class="line"><span class="lineno">  450</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(start, end))</div>
<div class="line"><span class="lineno">  451</span>            trace = <a class="code hl_function" href="sv__phys_8c.html#a1e6c6bd13d64fc03beb5cac849892747">SV_TracePoint</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shiftstart</a>, <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno">  452</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  453</span>            trace = <a class="code hl_function" href="sv__phys_8c.html#a70632daf1b4426714e43ccb49d60368d">SV_TraceLine</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shiftstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">shiftend</a>, <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, extend);</div>
<div class="line"><span class="lineno">  454</span>        <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>, mins, trace.<a class="code hl_variable" href="structtrace__t.html#a45b22da9e5e28fb83aa691ffb1909a4a">endpos</a>);</div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">return</span> trace;</div>
<div class="line"><span class="lineno">  456</span>    }</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>);</div>
<div class="line"><span class="lineno">  459</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>);</div>
<div class="line"><span class="lineno">  460</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins</a>);</div>
<div class="line"><span class="lineno">  461</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs</a>);</div>
<div class="line"><span class="lineno">  462</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(mins, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>);</div>
<div class="line"><span class="lineno">  463</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(maxs, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>);</div>
<div class="line"><span class="lineno">  464</span><span class="preprocessor">#if COLLISIONPARANOID &gt;= 3</span></div>
<div class="line"><span class="lineno">  465</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;move(%f %f %f,%f %f %f)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>[2]);</div>
<div class="line"><span class="lineno">  466</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>    <span class="comment">// clip to world</span></div>
<div class="line"><span class="lineno">  469</span>    <a class="code hl_function" href="collision_8c.html#a030e68fbd2c42a014ebd6c77488a7b11">Collision_ClipToWorld</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">worldmodel</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, extend);</div>
<div class="line"><span class="lineno">  470</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.worldstartsolid = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.bmodelstartsolid = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.startsolid;</div>
<div class="line"><span class="lineno">  471</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.startsolid || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.fraction &lt; 1)</div>
<div class="line"><span class="lineno">  472</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.ent = prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>;</div>
<div class="line"><span class="lineno">  473</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#a90df952ad5c2daedd0295eb3a7ecae12">MOVE_WORLDONLY</a>)</div>
<div class="line"><span class="lineno">  474</span>        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finished</a>;</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#a49815b732f24d0f9337e57d283ff683a">MOVE_MISSILE</a>)</div>
<div class="line"><span class="lineno">  477</span>    {</div>
<div class="line"><span class="lineno">  478</span>        <span class="comment">// LadyHavoc: modified this, was = -15, now -= 15</span></div>
<div class="line"><span class="lineno">  479</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  480</span>        {</div>
<div class="line"><span class="lineno">  481</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] -= 15;</div>
<div class="line"><span class="lineno">  482</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] += 15;</div>
<div class="line"><span class="lineno">  483</span>        }</div>
<div class="line"><span class="lineno">  484</span>    }</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>    <span class="comment">// get adjusted box for bmodel collisions if the world is q1bsp or hlbsp</span></div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">worldmodel</a> &amp;&amp; <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">worldmodel</a>-&gt;brush.RoundUpToHullSize)</div>
<div class="line"><span class="lineno">  488</span>        <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">worldmodel</a>-&gt;brush.RoundUpToHullSize(<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">worldmodel</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullmaxs</a>);</div>
<div class="line"><span class="lineno">  489</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  490</span>    {</div>
<div class="line"><span class="lineno">  491</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullmins</a>);</div>
<div class="line"><span class="lineno">  492</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullmaxs</a>);</div>
<div class="line"><span class="lineno">  493</span>    }</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>    <span class="comment">// create the bounding box of the entire move</span></div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  497</span>    {</div>
<div class="line"><span class="lineno">  498</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.endpos[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) + <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullmins</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) - 1;</div>
<div class="line"><span class="lineno">  499</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.endpos[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) + <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">hullmaxs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) + 1;</div>
<div class="line"><span class="lineno">  500</span>    }</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>    <span class="comment">// debug override to test against everything</span></div>
<div class="line"><span class="lineno">  503</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a3fd5262dc22fd724f86f9de7b9074d60">sv_debugmove</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  504</span>    {</div>
<div class="line"><span class="lineno">  505</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>[2] = (<a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a>)-999999999;</div>
<div class="line"><span class="lineno">  506</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>[2] =  (<a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a>)999999999;</div>
<div class="line"><span class="lineno">  507</span>    }</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>    <span class="comment">// if the passedict is world, make it NULL (to avoid two checks each time)</span></div>
<div class="line"><span class="lineno">  510</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> == prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>)</div>
<div class="line"><span class="lineno">  511</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  512</span>    <span class="comment">// precalculate prog value for passedict for comparisons</span></div>
<div class="line"><span class="lineno">  513</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedictprog</a> = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>);</div>
<div class="line"><span class="lineno">  514</span>    <span class="comment">// figure out whether this is a point trace for comparisons</span></div>
<div class="line"><span class="lineno">  515</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointtrace</a> = <a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs</a>);</div>
<div class="line"><span class="lineno">  516</span>    <span class="comment">// precalculate passedict&#39;s owner edict pointer for comparisons</span></div>
<div class="line"><span class="lineno">  517</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceowner</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> ? <a class="code hl_define" href="progsvm_8h.html#a97138ae5d960d8b55d8db396abd68d0e">PRVM_PROG_TO_EDICT</a>(<a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, owner)) : 0;</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> ? (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a>) : 0;</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>    <span class="comment">// clip to entities</span></div>
<div class="line"><span class="lineno">  522</span>    <span class="comment">// because this uses World_EntitiestoBox, we know all entity boxes overlap</span></div>
<div class="line"><span class="lineno">  523</span>    <span class="comment">// the clip region, so we can skip culling checks in the loop below</span></div>
<div class="line"><span class="lineno">  524</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> = <a class="code hl_function" href="sv__phys_8c.html#a917c9043f29f4272fd300c402d4622a0">SV_EntitiesInBox</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>, <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>);</div>
<div class="line"><span class="lineno">  525</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> &gt; <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>)</div>
<div class="line"><span class="lineno">  526</span>    {</div>
<div class="line"><span class="lineno">  527</span>        <span class="comment">// this never happens</span></div>
<div class="line"><span class="lineno">  528</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SV_EntitiesInBox returned %i edicts, max was %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>, <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>);</div>
<div class="line"><span class="lineno">  529</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> = <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>;</div>
<div class="line"><span class="lineno">  530</span>    }</div>
<div class="line"><span class="lineno">  531</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  532</span>    {</div>
<div class="line"><span class="lineno">  533</span>        touch = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) &lt; <a class="code hl_define" href="server_8h.html#a1f1f48bf851ec0bf3969a1d65e28095c">SOLID_BBOX</a>)</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  537</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a> &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) != <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a>)</div>
<div class="line"><span class="lineno">  538</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>)</div>
<div class="line"><span class="lineno">  541</span>        {</div>
<div class="line"><span class="lineno">  542</span>            <span class="comment">// don&#39;t clip against self</span></div>
<div class="line"><span class="lineno">  543</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> == touch)</div>
<div class="line"><span class="lineno">  544</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  545</span>            <span class="comment">// don&#39;t clip owned entities against owner</span></div>
<div class="line"><span class="lineno">  546</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceowner</a> == touch)</div>
<div class="line"><span class="lineno">  547</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  548</span>            <span class="comment">// don&#39;t clip owner against owned entities</span></div>
<div class="line"><span class="lineno">  549</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedictprog</a> == <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(touch, owner))</div>
<div class="line"><span class="lineno">  550</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  551</span>            <span class="comment">// don&#39;t clip against any entities in the same clipgroup (DP_RM_CLIPGROUP)</span></div>
<div class="line"><span class="lineno">  552</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a> == (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a>))</div>
<div class="line"><span class="lineno">  553</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  554</span>            <span class="comment">// don&#39;t clip points against points (they can&#39;t collide)</span></div>
<div class="line"><span class="lineno">  555</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pointtrace</a> &amp;&amp; <a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, mins), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, maxs)) &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> != <a class="code hl_define" href="world_8h.html#a49815b732f24d0f9337e57d283ff683a">MOVE_MISSILE</a> || !((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, flags) &amp; <a class="code hl_define" href="server_8h.html#a0d4afac2d5c93470f30e261f1d8e55fc">FL_MONSTER</a>)))</div>
<div class="line"><span class="lineno">  556</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  557</span>        }</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bodysupercontents</a> = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) == <a class="code hl_define" href="server_8h.html#a5fef0dfae0d8e25c404bf6a6ec355db6">SOLID_CORPSE</a> ? <a class="code hl_define" href="bspfile_8h.html#a9a9a2ffbe6e30c02f503e020d2ba1c6c">SUPERCONTENTS_CORPSE</a> : <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>;</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>        <span class="comment">// might interact, so do an exact clip</span></div>
<div class="line"><span class="lineno">  562</span>        model = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  563</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) == <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a> || <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#a7ee9b968e24c893e13a349b765b5096b">MOVE_HITMODEL</a>)</div>
<div class="line"><span class="lineno">  564</span>        {</div>
<div class="line"><span class="lineno">  565</span>            model = <a class="code hl_function" href="server_8h.html#ab0fb52acdbe2c15bd2a7c2b6b0ef3ad3">SV_GetModelFromEdict</a>(touch);</div>
<div class="line"><span class="lineno">  566</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pitchsign</a> = <a class="code hl_function" href="sv__phys_8c.html#a9f309efdaf1bf1697cab684fcc9afaae">SV_GetPitchSign</a>(prog, touch);</div>
<div class="line"><span class="lineno">  567</span>        }</div>
<div class="line"><span class="lineno">  568</span>        <span class="keywordflow">if</span> (model)</div>
<div class="line"><span class="lineno">  569</span>            <a class="code hl_function" href="matrixlib_8c.html#a80867fbbc3b77b40fb8349d1e694a2de">Matrix4x4_CreateFromQuakeEntity</a>(&amp;matrix, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pitchsign</a> * <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, angles)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, angles)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, angles)[2], 1);</div>
<div class="line"><span class="lineno">  570</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  571</span>            <a class="code hl_function" href="matrixlib_8c.html#a5bd9dc17773c5e84269f7a32f56251a1">Matrix4x4_CreateTranslate</a>(&amp;matrix, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[2]);</div>
<div class="line"><span class="lineno">  572</span>        <a class="code hl_function" href="matrixlib_8c.html#aa9b7b6f7c5bbf266334f17a9c5e125bc">Matrix4x4_Invert_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>, &amp;matrix);</div>
<div class="line"><span class="lineno">  573</span>        <a class="code hl_function" href="progsvm_8h.html#a6fa30e4f857fa18f07d004d5137c5bdb">VM_GenerateFrameGroupBlend</a>(prog, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;framegroupblend, touch);</div>
<div class="line"><span class="lineno">  574</span>        <a class="code hl_function" href="progsvm_8h.html#acc185163128299b7623aa62c1ef347a5">VM_FrameBlendFromFrameGroupBlend</a>(touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;framegroupblend, model, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>);</div>
<div class="line"><span class="lineno">  575</span>        <a class="code hl_function" href="progsvm_8h.html#a3dc71102d9364f9b999313f347a7baec">VM_UpdateEdictSkeleton</a>(prog, touch, model, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend);</div>
<div class="line"><span class="lineno">  576</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, mins), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmins</a>);</div>
<div class="line"><span class="lineno">  577</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, maxs), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmaxs</a>);</div>
<div class="line"><span class="lineno">  578</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#a49815b732f24d0f9337e57d283ff683a">MOVE_MISSILE</a> &amp;&amp; (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, flags) &amp; <a class="code hl_define" href="server_8h.html#a0d4afac2d5c93470f30e261f1d8e55fc">FL_MONSTER</a>)</div>
<div class="line"><span class="lineno">  579</span>            <a class="code hl_function" href="collision_8c.html#a951629cb855f414e3ef9808d1e777a6a">Collision_ClipToGenericEntity</a>(&amp;trace, model, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend, &amp;touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;skeleton, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bodysupercontents</a>, &amp;matrix, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, extend);</div>
<div class="line"><span class="lineno">  580</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  581</span>            <a class="code hl_function" href="collision_8c.html#a951629cb855f414e3ef9808d1e777a6a">Collision_ClipToGenericEntity</a>(&amp;trace, model, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend, &amp;touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;skeleton, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bodysupercontents</a>, &amp;matrix, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, extend);</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>        <a class="code hl_function" href="collision_8c.html#a61fd94a0ab53dbac3959fcd7e7e1b912">Collision_CombineTraces</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>, &amp;trace, (<span class="keywordtype">void</span> *)touch, <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) == <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a>);</div>
<div class="line"><span class="lineno">  584</span>    }</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finished</a>:</div>
<div class="line"><span class="lineno">  587</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>;</div>
<div class="line"><span class="lineno">  588</span>}</div>
<div class="ttc" id="acollision_8c_html_a030e68fbd2c42a014ebd6c77488a7b11"><div class="ttname"><a href="collision_8c.html#a030e68fbd2c42a014ebd6c77488a7b11">Collision_ClipToWorld</a></div><div class="ttdeci">void Collision_ClipToWorld(trace_t *trace, model_t *model, const vec3_t tstart, const vec3_t mins, const vec3_t maxs, const vec3_t tend, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask, float extend)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l01834">collision.c:1834</a></div></div>
<div class="ttc" id="acollision_8c_html_a61fd94a0ab53dbac3959fcd7e7e1b912"><div class="ttname"><a href="collision_8c.html#a61fd94a0ab53dbac3959fcd7e7e1b912">Collision_CombineTraces</a></div><div class="ttdeci">void Collision_CombineTraces(trace_t *cliptrace, const trace_t *trace, void *touch, qbool isbmodel)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l01914">collision.c:1914</a></div></div>
<div class="ttc" id="amatrixlib_8c_html_a5bd9dc17773c5e84269f7a32f56251a1"><div class="ttname"><a href="matrixlib_8c.html#a5bd9dc17773c5e84269f7a32f56251a1">Matrix4x4_CreateTranslate</a></div><div class="ttdeci">void Matrix4x4_CreateTranslate(matrix4x4_t *out, double x, double y, double z)</div><div class="ttdef"><b>Definition</b> <a href="matrixlib_8c_source.html#l00584">matrixlib.c:584</a></div></div>
<div class="ttc" id="aserver_8h_html_a3fd5262dc22fd724f86f9de7b9074d60"><div class="ttname"><a href="server_8h.html#a3fd5262dc22fd724f86f9de7b9074d60">sv_debugmove</a></div><div class="ttdeci">cvar_t sv_debugmove</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00098">sv_main.c:98</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a1e6c6bd13d64fc03beb5cac849892747"><div class="ttname"><a href="sv__phys_8c.html#a1e6c6bd13d64fc03beb5cac849892747">SV_TracePoint</a></div><div class="ttdeci">trace_t SV_TracePoint(const vec3_t start, int type, prvm_edict_t *passedict, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00104">sv_phys.c:104</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a70632daf1b4426714e43ccb49d60368d"><div class="ttname"><a href="sv__phys_8c.html#a70632daf1b4426714e43ccb49d60368d">SV_TraceLine</a></div><div class="ttdeci">trace_t SV_TraceLine(const vec3_t start, const vec3_t end, int type, prvm_edict_t *passedict, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask, float extend)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00256">sv_phys.c:256</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a9f309efdaf1bf1697cab684fcc9afaae"><div class="ttname"><a href="sv__phys_8c.html#a9f309efdaf1bf1697cab684fcc9afaae">SV_GetPitchSign</a></div><div class="ttdeci">int SV_GetPitchSign(prvm_prog_t *prog, prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l00047">sv_phys.c:47</a></div></div>
<div class="ttc" id="aworld_8h_html_a7ee9b968e24c893e13a349b765b5096b"><div class="ttname"><a href="world_8h.html#a7ee9b968e24c893e13a349b765b5096b">MOVE_HITMODEL</a></div><div class="ttdeci">#define MOVE_HITMODEL</div><div class="ttdef"><b>Definition</b> <a href="world_8h_source.html#l00032">world.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="phys_8c_source.html#l00009">PHYS_NudgeOutOfSolid()</a>, <a class="el" href="sv__move_8c_source.html#l00109">SV_movestep()</a>, <a class="el" href="sv__phys_8c_source.html#l01472">SV_NudgeOutOfSolid_PivotIsKnownGood()</a>, <a class="el" href="sv__phys_8c_source.html#l01562">SV_PushEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l00925">SV_TestEntityPosition()</a>, <a class="el" href="svvm__cmds_8c_source.html#l00712">SV_Trace_Toss()</a>, <a class="el" href="sv__phys_8c_source.html#l02292">SV_WalkMove()</a>, <a class="el" href="svvm__cmds_8c_source.html#l01189">VM_SV_droptofloor()</a>, and <a class="el" href="svvm__cmds_8c_source.html#l00686">VM_SV_tracebox()</a>.</p>

</div>
</div>
<a id="a70632daf1b4426714e43ccb49d60368d" name="a70632daf1b4426714e43ccb49d60368d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70632daf1b4426714e43ccb49d60368d">&#9670;&#160;</a></span>SV_TraceLine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrace__t.html">trace_t</a> SV_TraceLine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>passedict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a>&#160;</td>
          <td class="paramname"><em>extend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00256">256</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  257</span>{</div>
<div class="line"><span class="lineno">  258</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bodysupercontents</a>;</div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedictprog</a>;</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pitchsign</a> = 1;</div>
<div class="line"><span class="lineno">  262</span>    <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceowner</a>, *touch;</div>
<div class="line"><span class="lineno">  263</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><span class="lineno">  264</span>    <span class="comment">// temporary storage because prvm_vec_t may differ from vec_t</span></div>
<div class="line"><span class="lineno">  265</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmaxs</a>;</div>
<div class="line"><span class="lineno">  266</span>    <span class="comment">// bounding box of entire move area</span></div>
<div class="line"><span class="lineno">  267</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>;</div>
<div class="line"><span class="lineno">  268</span>    <span class="comment">// size when clipping against monsters</span></div>
<div class="line"><span class="lineno">  269</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>;</div>
<div class="line"><span class="lineno">  270</span>    <span class="comment">// start and end origin of move</span></div>
<div class="line"><span class="lineno">  271</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>;</div>
<div class="line"><span class="lineno">  272</span>    <span class="comment">// trace results</span></div>
<div class="line"><span class="lineno">  273</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>;</div>
<div class="line"><span class="lineno">  274</span>    <span class="comment">// matrices to transform into/out of other entity&#39;s space</span></div>
<div class="line"><span class="lineno">  275</span>    <a class="code hl_struct" href="structmatrix4x4__t.html">matrix4x4_t</a> matrix, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>;</div>
<div class="line"><span class="lineno">  276</span>    <span class="comment">// model of other entity</span></div>
<div class="line"><span class="lineno">  277</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *model;</div>
<div class="line"><span class="lineno">  278</span>    <span class="comment">// list of entities to test for collisions</span></div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>;</div>
<div class="line"><span class="lineno">  280</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>[<a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>];</div>
<div class="line"><span class="lineno">  281</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a>;</div>
<div class="line"><span class="lineno">  282</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(start, end))</div>
<div class="line"><span class="lineno">  283</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="sv__phys_8c.html#a1e6c6bd13d64fc03beb5cac849892747">SV_TracePoint</a>(start, <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>    <span class="comment">//return SV_TraceBox(start, vec3_origin, vec3_origin, end, type, passedict, hitsupercontentsmask);</span></div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>);</div>
<div class="line"><span class="lineno">  288</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(end, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>);</div>
<div class="line"><span class="lineno">  289</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>);</div>
<div class="line"><span class="lineno">  290</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>);</div>
<div class="line"><span class="lineno">  291</span><span class="preprocessor">#if COLLISIONPARANOID &gt;= 3</span></div>
<div class="line"><span class="lineno">  292</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;move(%f %f %f,%f %f %f)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>[2]);</div>
<div class="line"><span class="lineno">  293</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <span class="comment">// clip to world</span></div>
<div class="line"><span class="lineno">  296</span>    <a class="code hl_function" href="collision_8c.html#a609148ccdd7c04945786944ec235f647">Collision_ClipLineToWorld</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">worldmodel</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, extend, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  297</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.worldstartsolid = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.bmodelstartsolid = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.startsolid;</div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.startsolid || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.fraction &lt; 1)</div>
<div class="line"><span class="lineno">  299</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.ent = prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>;</div>
<div class="line"><span class="lineno">  300</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#a90df952ad5c2daedd0295eb3a7ecae12">MOVE_WORLDONLY</a>)</div>
<div class="line"><span class="lineno">  301</span>        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finished</a>;</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#a49815b732f24d0f9337e57d283ff683a">MOVE_MISSILE</a>)</div>
<div class="line"><span class="lineno">  304</span>    {</div>
<div class="line"><span class="lineno">  305</span>        <span class="comment">// LadyHavoc: modified this, was = -15, now -= 15</span></div>
<div class="line"><span class="lineno">  306</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  307</span>        {</div>
<div class="line"><span class="lineno">  308</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] -= 15;</div>
<div class="line"><span class="lineno">  309</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] += 15;</div>
<div class="line"><span class="lineno">  310</span>        }</div>
<div class="line"><span class="lineno">  311</span>    }</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>    <span class="comment">// create the bounding box of the entire move</span></div>
<div class="line"><span class="lineno">  314</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  315</span>    {</div>
<div class="line"><span class="lineno">  316</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.endpos[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div>
<div class="line"><span class="lineno">  317</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.endpos[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1;</div>
<div class="line"><span class="lineno">  318</span>    }</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>    <span class="comment">// debug override to test against everything</span></div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a3fd5262dc22fd724f86f9de7b9074d60">sv_debugmove</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  322</span>    {</div>
<div class="line"><span class="lineno">  323</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>[2] = (<a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a>)-999999999;</div>
<div class="line"><span class="lineno">  324</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>[2] =  (<a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a>)999999999;</div>
<div class="line"><span class="lineno">  325</span>    }</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>    <span class="comment">// if the passedict is world, make it NULL (to avoid two checks each time)</span></div>
<div class="line"><span class="lineno">  328</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> == prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>)</div>
<div class="line"><span class="lineno">  329</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  330</span>    <span class="comment">// precalculate prog value for passedict for comparisons</span></div>
<div class="line"><span class="lineno">  331</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedictprog</a> = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>);</div>
<div class="line"><span class="lineno">  332</span>    <span class="comment">// precalculate passedict&#39;s owner edict pointer for comparisons</span></div>
<div class="line"><span class="lineno">  333</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceowner</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> ? <a class="code hl_define" href="progsvm_8h.html#a97138ae5d960d8b55d8db396abd68d0e">PRVM_PROG_TO_EDICT</a>(<a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, owner)) : 0;</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> ? (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a>) : 0;</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>    <span class="comment">// clip to entities</span></div>
<div class="line"><span class="lineno">  338</span>    <span class="comment">// because this uses World_EntitiestoBox, we know all entity boxes overlap</span></div>
<div class="line"><span class="lineno">  339</span>    <span class="comment">// the clip region, so we can skip culling checks in the loop below</span></div>
<div class="line"><span class="lineno">  340</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> = <a class="code hl_function" href="sv__phys_8c.html#a917c9043f29f4272fd300c402d4622a0">SV_EntitiesInBox</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>, <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>);</div>
<div class="line"><span class="lineno">  341</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> &gt; <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>)</div>
<div class="line"><span class="lineno">  342</span>    {</div>
<div class="line"><span class="lineno">  343</span>        <span class="comment">// this never happens</span></div>
<div class="line"><span class="lineno">  344</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SV_EntitiesInBox returned %i edicts, max was %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>, <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>);</div>
<div class="line"><span class="lineno">  345</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> = <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>;</div>
<div class="line"><span class="lineno">  346</span>    }</div>
<div class="line"><span class="lineno">  347</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  348</span>    {</div>
<div class="line"><span class="lineno">  349</span>        touch = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) &lt; <a class="code hl_define" href="server_8h.html#a1f1f48bf851ec0bf3969a1d65e28095c">SOLID_BBOX</a>)</div>
<div class="line"><span class="lineno">  352</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  353</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a> &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) != <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a>)</div>
<div class="line"><span class="lineno">  354</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>)</div>
<div class="line"><span class="lineno">  357</span>        {</div>
<div class="line"><span class="lineno">  358</span>            <span class="comment">// don&#39;t clip against self</span></div>
<div class="line"><span class="lineno">  359</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> == touch)</div>
<div class="line"><span class="lineno">  360</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  361</span>            <span class="comment">// don&#39;t clip owned entities against owner</span></div>
<div class="line"><span class="lineno">  362</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceowner</a> == touch)</div>
<div class="line"><span class="lineno">  363</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  364</span>            <span class="comment">// don&#39;t clip owner against owned entities</span></div>
<div class="line"><span class="lineno">  365</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedictprog</a> == <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(touch, owner))</div>
<div class="line"><span class="lineno">  366</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  367</span>            <span class="comment">// don&#39;t clip against any entities in the same clipgroup (DP_RM_CLIPGROUP)</span></div>
<div class="line"><span class="lineno">  368</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a> == (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a>))</div>
<div class="line"><span class="lineno">  369</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  370</span>            <span class="comment">// don&#39;t clip points against points (they can&#39;t collide)</span></div>
<div class="line"><span class="lineno">  371</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, mins), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, maxs)) &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> != <a class="code hl_define" href="world_8h.html#a49815b732f24d0f9337e57d283ff683a">MOVE_MISSILE</a> || !((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, flags) &amp; <a class="code hl_define" href="server_8h.html#a0d4afac2d5c93470f30e261f1d8e55fc">FL_MONSTER</a>)))</div>
<div class="line"><span class="lineno">  372</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  373</span>        }</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bodysupercontents</a> = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) == <a class="code hl_define" href="server_8h.html#a5fef0dfae0d8e25c404bf6a6ec355db6">SOLID_CORPSE</a> ? <a class="code hl_define" href="bspfile_8h.html#a9a9a2ffbe6e30c02f503e020d2ba1c6c">SUPERCONTENTS_CORPSE</a> : <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>;</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>        <span class="comment">// might interact, so do an exact clip</span></div>
<div class="line"><span class="lineno">  378</span>        model = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  379</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) == <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a> || <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#a7ee9b968e24c893e13a349b765b5096b">MOVE_HITMODEL</a>)</div>
<div class="line"><span class="lineno">  380</span>        {</div>
<div class="line"><span class="lineno">  381</span>            model = <a class="code hl_function" href="server_8h.html#ab0fb52acdbe2c15bd2a7c2b6b0ef3ad3">SV_GetModelFromEdict</a>(touch);</div>
<div class="line"><span class="lineno">  382</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pitchsign</a> = <a class="code hl_function" href="sv__phys_8c.html#a9f309efdaf1bf1697cab684fcc9afaae">SV_GetPitchSign</a>(prog, touch);</div>
<div class="line"><span class="lineno">  383</span>        }</div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">if</span> (model)</div>
<div class="line"><span class="lineno">  385</span>            <a class="code hl_function" href="matrixlib_8c.html#a80867fbbc3b77b40fb8349d1e694a2de">Matrix4x4_CreateFromQuakeEntity</a>(&amp;matrix, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pitchsign</a> * <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, angles)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, angles)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, angles)[2], 1);</div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  387</span>            <a class="code hl_function" href="matrixlib_8c.html#a5bd9dc17773c5e84269f7a32f56251a1">Matrix4x4_CreateTranslate</a>(&amp;matrix, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[2]);</div>
<div class="line"><span class="lineno">  388</span>        <a class="code hl_function" href="matrixlib_8c.html#aa9b7b6f7c5bbf266334f17a9c5e125bc">Matrix4x4_Invert_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>, &amp;matrix);</div>
<div class="line"><span class="lineno">  389</span>        <a class="code hl_function" href="progsvm_8h.html#a6fa30e4f857fa18f07d004d5137c5bdb">VM_GenerateFrameGroupBlend</a>(prog, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;framegroupblend, touch);</div>
<div class="line"><span class="lineno">  390</span>        <a class="code hl_function" href="progsvm_8h.html#acc185163128299b7623aa62c1ef347a5">VM_FrameBlendFromFrameGroupBlend</a>(touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;framegroupblend, model, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>);</div>
<div class="line"><span class="lineno">  391</span>        <a class="code hl_function" href="progsvm_8h.html#a3dc71102d9364f9b999313f347a7baec">VM_UpdateEdictSkeleton</a>(prog, touch, model, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend);</div>
<div class="line"><span class="lineno">  392</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, mins), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmins</a>);</div>
<div class="line"><span class="lineno">  393</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, maxs), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmaxs</a>);</div>
<div class="line"><span class="lineno">  394</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#a49815b732f24d0f9337e57d283ff683a">MOVE_MISSILE</a> &amp;&amp; (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, flags) &amp; <a class="code hl_define" href="server_8h.html#a0d4afac2d5c93470f30e261f1d8e55fc">FL_MONSTER</a>)</div>
<div class="line"><span class="lineno">  395</span>            <a class="code hl_function" href="collision_8c.html#a951629cb855f414e3ef9808d1e777a6a">Collision_ClipToGenericEntity</a>(&amp;trace, model, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend, &amp;touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;skeleton, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bodysupercontents</a>, &amp;matrix, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, extend);</div>
<div class="line"><span class="lineno">  396</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  397</span>            <a class="code hl_function" href="collision_8c.html#a7429c1f451e55942ef6d7a0bca96f3e3">Collision_ClipLineToGenericEntity</a>(&amp;trace, model, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend, &amp;touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;skeleton, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bodysupercontents</a>, &amp;matrix, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipend</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, extend, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>        <a class="code hl_function" href="collision_8c.html#a61fd94a0ab53dbac3959fcd7e7e1b912">Collision_CombineTraces</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>, &amp;trace, (<span class="keywordtype">void</span> *)touch, <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) == <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a>);</div>
<div class="line"><span class="lineno">  400</span>    }</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finished</a>:</div>
<div class="line"><span class="lineno">  403</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>;</div>
<div class="line"><span class="lineno">  404</span>}</div>
<div class="ttc" id="acollision_8c_html_a609148ccdd7c04945786944ec235f647"><div class="ttname"><a href="collision_8c.html#a609148ccdd7c04945786944ec235f647">Collision_ClipLineToWorld</a></div><div class="ttdeci">void Collision_ClipLineToWorld(trace_t *trace, model_t *model, const vec3_t tstart, const vec3_t tend, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask, float extend, qbool hitsurfaces)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l01870">collision.c:1870</a></div></div>
<div class="ttc" id="acollision_8c_html_a7429c1f451e55942ef6d7a0bca96f3e3"><div class="ttname"><a href="collision_8c.html#a7429c1f451e55942ef6d7a0bca96f3e3">Collision_ClipLineToGenericEntity</a></div><div class="ttdeci">void Collision_ClipLineToGenericEntity(trace_t *trace, model_t *model, const frameblend_t *frameblend, const skeleton_t *skeleton, const vec3_t bodymins, const vec3_t bodymaxs, int bodysupercontents, matrix4x4_t *matrix, matrix4x4_t *inversematrix, const vec3_t tstart, const vec3_t tend, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask, float extend, qbool hitsurfaces)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l01844">collision.c:1844</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sbar_8c_source.html#l01098">Sbar_ShowFPS()</a>, <a class="el" href="sv__move_8c_source.html#l00036">SV_CheckBottom()</a>, <a class="el" href="sv__ccmds_8c_source.html#l01399">SV_Ent_Create_f()</a>, <a class="el" href="sv__ccmds_8c_source.html#l01493">SV_Ent_Remove_f()</a>, <a class="el" href="sv__user_8c_source.html#l00239">SV_SetIdealPitch()</a>, <a class="el" href="sv__phys_8c_source.html#l00414">SV_TraceBox()</a>, <a class="el" href="sv__user_8c_source.html#l00316">SV_UserFriction()</a>, <a class="el" href="svvm__cmds_8c_source.html#l01352">VM_SV_aim()</a>, <a class="el" href="svvm__cmds_8c_source.html#l01189">VM_SV_droptofloor()</a>, and <a class="el" href="svvm__cmds_8c_source.html#l00649">VM_SV_traceline()</a>.</p>

</div>
</div>
<a id="a1e6c6bd13d64fc03beb5cac849892747" name="a1e6c6bd13d64fc03beb5cac849892747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e6c6bd13d64fc03beb5cac849892747">&#9670;&#160;</a></span>SV_TracePoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrace__t.html">trace_t</a> SV_TracePoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">const</a> <a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>passedict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>hitsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipsupercontentsmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>&#160;</td>
          <td class="paramname"><em>skipmaterialflagsmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l00104">104</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span>{</div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bodysupercontents</a>;</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedictprog</a>;</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pitchsign</a> = 1;</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceowner</a>, *touch;</div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> trace;</div>
<div class="line"><span class="lineno">  112</span>    <span class="comment">// temporary storage because prvm_vec_t may differ from vec_t</span></div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmaxs</a>;</div>
<div class="line"><span class="lineno">  114</span>    <span class="comment">// bounding box of entire move area</span></div>
<div class="line"><span class="lineno">  115</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>;</div>
<div class="line"><span class="lineno">  116</span>    <span class="comment">// size when clipping against monsters</span></div>
<div class="line"><span class="lineno">  117</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>;</div>
<div class="line"><span class="lineno">  118</span>    <span class="comment">// start and end origin of move</span></div>
<div class="line"><span class="lineno">  119</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>;</div>
<div class="line"><span class="lineno">  120</span>    <span class="comment">// trace results</span></div>
<div class="line"><span class="lineno">  121</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>;</div>
<div class="line"><span class="lineno">  122</span>    <span class="comment">// matrices to transform into/out of other entity&#39;s space</span></div>
<div class="line"><span class="lineno">  123</span>    <a class="code hl_struct" href="structmatrix4x4__t.html">matrix4x4_t</a> matrix, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>;</div>
<div class="line"><span class="lineno">  124</span>    <span class="comment">// model of other entity</span></div>
<div class="line"><span class="lineno">  125</span>    <a class="code hl_struct" href="structmodel__t.html">model_t</a> *model;</div>
<div class="line"><span class="lineno">  126</span>    <span class="comment">// list of entities to test for collisions</span></div>
<div class="line"><span class="lineno">  127</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>;</div>
<div class="line"><span class="lineno">  128</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structprvm__edict__t.html">prvm_edict_t</a> *<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>[<a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>];</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a>;</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>    <span class="comment">//return SV_TraceBox(start, vec3_origin, vec3_origin, end, type, passedict, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</span></div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(start, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>);</div>
<div class="line"><span class="lineno">  134</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>);</div>
<div class="line"><span class="lineno">  135</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>);</div>
<div class="line"><span class="lineno">  136</span><span class="preprocessor">#if COLLISIONPARANOID &gt;= 3</span></div>
<div class="line"><span class="lineno">  137</span>    <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;move(%f %f %f)&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[0], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[1], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[2]);</div>
<div class="line"><span class="lineno">  138</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>    <span class="comment">// clip to world</span></div>
<div class="line"><span class="lineno">  141</span>    <a class="code hl_function" href="collision_8c.html#af4dc46a030c63d90f4269e99dbaed757">Collision_ClipPointToWorld</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#accacc6b7d63cf5b043e6124c00525421">worldmodel</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.worldstartsolid = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.bmodelstartsolid = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.startsolid;</div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.startsolid || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.fraction &lt; 1)</div>
<div class="line"><span class="lineno">  144</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.ent = prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>;</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#a90df952ad5c2daedd0295eb3a7ecae12">MOVE_WORLDONLY</a>)</div>
<div class="line"><span class="lineno">  146</span>        <span class="keywordflow">goto</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finished</a>;</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#a49815b732f24d0f9337e57d283ff683a">MOVE_MISSILE</a>)</div>
<div class="line"><span class="lineno">  149</span>    {</div>
<div class="line"><span class="lineno">  150</span>        <span class="comment">// LadyHavoc: modified this, was = -15, now -= 15</span></div>
<div class="line"><span class="lineno">  151</span>        <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  152</span>        {</div>
<div class="line"><span class="lineno">  153</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] -= 15;</div>
<div class="line"><span class="lineno">  154</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] += 15;</div>
<div class="line"><span class="lineno">  155</span>        }</div>
<div class="line"><span class="lineno">  156</span>    }</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>    <span class="comment">// create the bounding box of the entire move</span></div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  160</span>    {</div>
<div class="line"><span class="lineno">  161</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_define" href="mathlib_8h.html#a2d017cd3beb218080a7988e2deed2a11">min</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.endpos[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1;</div>
<div class="line"><span class="lineno">  162</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code hl_define" href="mathlib_8h.html#a24e753bacac6be5f30e18f8a2bdefda4">max</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>.endpos[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>]) + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>] + 1;</div>
<div class="line"><span class="lineno">  163</span>    }</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    <span class="comment">// debug override to test against everything</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a3fd5262dc22fd724f86f9de7b9074d60">sv_debugmove</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno">  167</span>    {</div>
<div class="line"><span class="lineno">  168</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>[2] = (<a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a>)-999999999;</div>
<div class="line"><span class="lineno">  169</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>[2] =  (<a class="code hl_typedef" href="qtypes_8h.html#a34b8d82aced6931bd3a572041e59aa7d">vec_t</a>)999999999;</div>
<div class="line"><span class="lineno">  170</span>    }</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>    <span class="comment">// if the passedict is world, make it NULL (to avoid two checks each time)</span></div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> == prog-&gt;<a class="code hl_variable" href="structprvm__prog__t.html#a8540c3dd146a4fc8b8a72e272edcbc5e">edicts</a>)</div>
<div class="line"><span class="lineno">  174</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  175</span>    <span class="comment">// precalculate prog value for passedict for comparisons</span></div>
<div class="line"><span class="lineno">  176</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedictprog</a> = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>);</div>
<div class="line"><span class="lineno">  177</span>    <span class="comment">// precalculate passedict&#39;s owner edict pointer for comparisons</span></div>
<div class="line"><span class="lineno">  178</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceowner</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> ? <a class="code hl_define" href="progsvm_8h.html#a97138ae5d960d8b55d8db396abd68d0e">PRVM_PROG_TO_EDICT</a>(<a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, owner)) : 0;</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a> = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> ? (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a>) : 0;</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="comment">// clip to entities</span></div>
<div class="line"><span class="lineno">  183</span>    <span class="comment">// because this uses World_EntitiestoBox, we know all entity boxes overlap</span></div>
<div class="line"><span class="lineno">  184</span>    <span class="comment">// the clip region, so we can skip culling checks in the loop below</span></div>
<div class="line"><span class="lineno">  185</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> = <a class="code hl_function" href="sv__phys_8c.html#a917c9043f29f4272fd300c402d4622a0">SV_EntitiesInBox</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipboxmaxs</a>, <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>);</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> &gt; <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>)</div>
<div class="line"><span class="lineno">  187</span>    {</div>
<div class="line"><span class="lineno">  188</span>        <span class="comment">// this never happens</span></div>
<div class="line"><span class="lineno">  189</span>        <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SV_EntitiesInBox returned %i edicts, max was %i\n&quot;</span>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>, <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>);</div>
<div class="line"><span class="lineno">  190</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a> = <a class="code hl_define" href="qdefs_8h.html#a31ca9f5408b1f7610882c97c3db48826">MAX_EDICTS</a>;</div>
<div class="line"><span class="lineno">  191</span>    }</div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">numtouchedicts</a>;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><span class="lineno">  193</span>    {</div>
<div class="line"><span class="lineno">  194</span>        touch = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchedicts</a>[<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) &lt; <a class="code hl_define" href="server_8h.html#a1f1f48bf851ec0bf3969a1d65e28095c">SOLID_BBOX</a>)</div>
<div class="line"><span class="lineno">  197</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a> &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) != <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a>)</div>
<div class="line"><span class="lineno">  199</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a>)</div>
<div class="line"><span class="lineno">  202</span>        {</div>
<div class="line"><span class="lineno">  203</span>            <span class="comment">// don&#39;t clip against self</span></div>
<div class="line"><span class="lineno">  204</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedict</a> == touch)</div>
<div class="line"><span class="lineno">  205</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  206</span>            <span class="comment">// don&#39;t clip owned entities against owner</span></div>
<div class="line"><span class="lineno">  207</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">traceowner</a> == touch)</div>
<div class="line"><span class="lineno">  208</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  209</span>            <span class="comment">// don&#39;t clip owner against owned entities</span></div>
<div class="line"><span class="lineno">  210</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">passedictprog</a> == <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(touch, owner))</div>
<div class="line"><span class="lineno">  211</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  212</span>            <span class="comment">// don&#39;t clip against any entities in the same clipgroup (DP_RM_CLIPGROUP)</span></div>
<div class="line"><span class="lineno">  213</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a> &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a> == (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipgroup</a>))</div>
<div class="line"><span class="lineno">  214</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  215</span>            <span class="comment">// don&#39;t clip points against points (they can&#39;t collide)</span></div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="mathlib_8h.html#ab7afac99c19ef535c8b808c411f6bc3c">VectorCompare</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, mins), <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, maxs)) &amp;&amp; (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> != <a class="code hl_define" href="world_8h.html#a49815b732f24d0f9337e57d283ff683a">MOVE_MISSILE</a> || !((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, flags) &amp; <a class="code hl_define" href="server_8h.html#a0d4afac2d5c93470f30e261f1d8e55fc">FL_MONSTER</a>)))</div>
<div class="line"><span class="lineno">  217</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  218</span>        }</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bodysupercontents</a> = <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) == <a class="code hl_define" href="server_8h.html#a5fef0dfae0d8e25c404bf6a6ec355db6">SOLID_CORPSE</a> ? <a class="code hl_define" href="bspfile_8h.html#a9a9a2ffbe6e30c02f503e020d2ba1c6c">SUPERCONTENTS_CORPSE</a> : <a class="code hl_define" href="bspfile_8h.html#a141cf05726f903843bc66d2365f56bd2">SUPERCONTENTS_BODY</a>;</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>        <span class="comment">// might interact, so do an exact clip</span></div>
<div class="line"><span class="lineno">  223</span>        model = <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  224</span>        <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>) <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) == <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a> || <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#a7ee9b968e24c893e13a349b765b5096b">MOVE_HITMODEL</a>)</div>
<div class="line"><span class="lineno">  225</span>        {</div>
<div class="line"><span class="lineno">  226</span>            model = <a class="code hl_function" href="server_8h.html#ab0fb52acdbe2c15bd2a7c2b6b0ef3ad3">SV_GetModelFromEdict</a>(touch);</div>
<div class="line"><span class="lineno">  227</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pitchsign</a> = <a class="code hl_function" href="sv__phys_8c.html#a9f309efdaf1bf1697cab684fcc9afaae">SV_GetPitchSign</a>(prog, touch);</div>
<div class="line"><span class="lineno">  228</span>        }</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">if</span> (model)</div>
<div class="line"><span class="lineno">  230</span>            <a class="code hl_function" href="matrixlib_8c.html#a80867fbbc3b77b40fb8349d1e694a2de">Matrix4x4_CreateFromQuakeEntity</a>(&amp;matrix, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[2], <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">pitchsign</a> * <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, angles)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, angles)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, angles)[2], 1);</div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  232</span>            <a class="code hl_function" href="matrixlib_8c.html#a5bd9dc17773c5e84269f7a32f56251a1">Matrix4x4_CreateTranslate</a>(&amp;matrix, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, origin)[2]);</div>
<div class="line"><span class="lineno">  233</span>        <a class="code hl_function" href="matrixlib_8c.html#aa9b7b6f7c5bbf266334f17a9c5e125bc">Matrix4x4_Invert_Simple</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>, &amp;matrix);</div>
<div class="line"><span class="lineno">  234</span>        <a class="code hl_function" href="progsvm_8h.html#a6fa30e4f857fa18f07d004d5137c5bdb">VM_GenerateFrameGroupBlend</a>(prog, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;framegroupblend, touch);</div>
<div class="line"><span class="lineno">  235</span>        <a class="code hl_function" href="progsvm_8h.html#acc185163128299b7623aa62c1ef347a5">VM_FrameBlendFromFrameGroupBlend</a>(touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;framegroupblend, model, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a06e5eb786b900d7702cf9460f5e6b4e9">time</a>);</div>
<div class="line"><span class="lineno">  236</span>        <a class="code hl_function" href="progsvm_8h.html#a3dc71102d9364f9b999313f347a7baec">VM_UpdateEdictSkeleton</a>(prog, touch, model, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend);</div>
<div class="line"><span class="lineno">  237</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, mins), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmins</a>);</div>
<div class="line"><span class="lineno">  238</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(touch, maxs), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmaxs</a>);</div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> == <a class="code hl_define" href="world_8h.html#a49815b732f24d0f9337e57d283ff683a">MOVE_MISSILE</a> &amp;&amp; (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, flags) &amp; <a class="code hl_define" href="server_8h.html#a0d4afac2d5c93470f30e261f1d8e55fc">FL_MONSTER</a>)</div>
<div class="line"><span class="lineno">  240</span>            <a class="code hl_function" href="collision_8c.html#a951629cb855f414e3ef9808d1e777a6a">Collision_ClipToGenericEntity</a>(&amp;trace, model, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend, &amp;touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;skeleton, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bodysupercontents</a>, &amp;matrix, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmins2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipmaxs2</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, 0.0f);</div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  242</span>            <a class="code hl_function" href="collision_8c.html#afb87ddea652710e8241e6d3f3d68d438">Collision_ClipPointToGenericEntity</a>(&amp;trace, model, touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;frameblend, &amp;touch-&gt;<a class="code hl_variable" href="structprvm__edict__t.html#a8c0db02020cee914e59175f91ec1bc20">priv</a>.<a class="code hl_variable" href="structprvm__edict__t.html#aa40346f2eb40e683c8294f13941e60bb">server</a>-&gt;skeleton, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">touchmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">bodysupercontents</a>, &amp;matrix, &amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">imatrix</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clipstart</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask);</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>        <a class="code hl_function" href="collision_8c.html#a61fd94a0ab53dbac3959fcd7e7e1b912">Collision_CombineTraces</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>, &amp;trace, (<span class="keywordtype">void</span> *)touch, <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(touch, solid) == <a class="code hl_define" href="server_8h.html#af1cf42e8ab7f63ccaa9d7eb260d6d593">SOLID_BSP</a>);</div>
<div class="line"><span class="lineno">  245</span>    }</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span><a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">finished</a>:</div>
<div class="line"><span class="lineno">  248</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">cliptrace</a>;</div>
<div class="line"><span class="lineno">  249</span>}</div>
<div class="ttc" id="acollision_8c_html_af4dc46a030c63d90f4269e99dbaed757"><div class="ttname"><a href="collision_8c.html#af4dc46a030c63d90f4269e99dbaed757">Collision_ClipPointToWorld</a></div><div class="ttdeci">void Collision_ClipPointToWorld(trace_t *trace, model_t *model, const vec3_t start, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l01905">collision.c:1905</a></div></div>
<div class="ttc" id="acollision_8c_html_afb87ddea652710e8241e6d3f3d68d438"><div class="ttname"><a href="collision_8c.html#afb87ddea652710e8241e6d3f3d68d438">Collision_ClipPointToGenericEntity</a></div><div class="ttdeci">void Collision_ClipPointToGenericEntity(trace_t *trace, model_t *model, const frameblend_t *frameblend, const skeleton_t *skeleton, const vec3_t bodymins, const vec3_t bodymaxs, int bodysupercontents, matrix4x4_t *matrix, matrix4x4_t *inversematrix, const vec3_t start, int hitsupercontentsmask, int skipsupercontentsmask, int skipmaterialflagsmask)</div><div class="ttdef"><b>Definition</b> <a href="collision_8c_source.html#l01883">collision.c:1883</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l00414">SV_TraceBox()</a>, and <a class="el" href="sv__phys_8c_source.html#l00256">SV_TraceLine()</a>.</p>

</div>
</div>
<a id="a16993e214594ce4afc656210f19c602e" name="a16993e214594ce4afc656210f19c602e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16993e214594ce4afc656210f19c602e">&#9670;&#160;</a></span>SV_UnstickEntity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> SV_UnstickEntity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>move an entity that is stuck by small amounts in various directions to try to nudge it back into the collision hull returns true if it found a better place </p>

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02088">2088</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2089</span>{</div>
<div class="line"><span class="lineno"> 2090</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2091</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>;</div>
<div class="line"><span class="lineno"> 2092</span>    <span class="keywordflow">switch</span>(<a class="code hl_function" href="sv__phys_8c.html#a7cbad144a166bf4db6cc56c53daefe24">SV_UnstickEntityReturnOffset</a>(ent, <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>))</div>
<div class="line"><span class="lineno"> 2093</span>    {</div>
<div class="line"><span class="lineno"> 2094</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777ea48168325fd835a3de54128f124f85005">UNSTICK_GOOD</a>:</div>
<div class="line"><span class="lineno"> 2095</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2096</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eaee2814c902c6b06efbf5668fab167d69">UNSTICK_UNSTUCK</a>:</div>
<div class="line"><span class="lineno"> 2097</span>            <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Unstuck entity %i (classname \&quot;%s\&quot;) with offset %f %f %f.\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent), <a class="code hl_function" href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acb5aad18f3cb72746b413c4ef70a8a38">PRVM_serveredictstring</a>(ent, classname)), <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>[0], <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>[1], <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>[2]);</div>
<div class="line"><span class="lineno"> 2098</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2099</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eac0bb7bd6a72614c53310515736c56d2d">UNSTICK_STUCK</a>:</div>
<div class="line"><span class="lineno"> 2100</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2101</span>                <a class="code hl_function" href="console_8c.html#a2696300802453d9333e9f52e5fae15bc">Con_DPrintf</a>(<span class="stringliteral">&quot;Stuck entity %i (classname \&quot;%s\&quot;).\n&quot;</span>, (<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(ent), <a class="code hl_function" href="progsvm_8h.html#a69666cdc9628aebc4b380b6ad1868140">PRVM_GetString</a>(prog, <a class="code hl_define" href="progsvm_8h.html#acb5aad18f3cb72746b413c4ef70a8a38">PRVM_serveredictstring</a>(ent, classname)));</div>
<div class="line"><span class="lineno"> 2102</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2103</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2104</span>            <a class="code hl_function" href="console_8c.html#a49b71fe9a87e57a440e07af4a869a9f6">Con_Printf</a>(<span class="stringliteral">&quot;SV_UnstickEntityReturnOffset returned a value outside its enum.\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2105</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2106</span>    }</div>
<div class="line"><span class="lineno"> 2107</span>}</div>
<div class="ttc" id="ahost_8c_html_a2d29d0100dc86ae96b813350bb2b6c32"><div class="ttname"><a href="host_8c.html#a2d29d0100dc86ae96b813350bb2b6c32">developer_extra</a></div><div class="ttdeci">cvar_t developer_extra</div><div class="ttdef"><b>Definition</b> <a href="host_8c_source.html#l00050">host.c:50</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l01562">SV_PushEntity()</a>.</p>

</div>
</div>
<a id="a7cbad144a166bf4db6cc56c53daefe24" name="a7cbad144a166bf4db6cc56c53daefe24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cbad144a166bf4db6cc56c53daefe24">&#9670;&#160;</a></span>SV_UnstickEntityReturnOffset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777e">unstickresult_t</a> SV_UnstickEntityReturnOffset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02043">2043</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2044</span>{</div>
<div class="line"><span class="lineno"> 2045</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2046</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxunstick</a>;</div>
<div class="line"><span class="lineno"> 2047</span> </div>
<div class="line"><span class="lineno"> 2048</span>    <span class="comment">// if not stuck in a bmodel, just return</span></div>
<div class="line"><span class="lineno"> 2049</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="sv__phys_8c.html#a630147d09cc18c1e11b594adc364a7fe">SV_TestEntityPosition</a>(ent, <a class="code hl_variable" href="mathlib_8c.html#a3908446890b894f65fcd556040fddccc">vec3_origin</a>))</div>
<div class="line"><span class="lineno"> 2050</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777ea48168325fd835a3de54128f124f85005">UNSTICK_GOOD</a>;</div>
<div class="line"><span class="lineno"> 2051</span> </div>
<div class="line"><span class="lineno"> 2052</span>    <span class="keywordflow">for</span> (<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="sv__phys_8c.html#a3fb3d2c90985f8b7fed374d8a567a164">unstickoffsets</a>) / <span class="keyword">sizeof</span>(<a class="code hl_variable" href="sv__phys_8c.html#a3fb3d2c90985f8b7fed374d8a567a164">unstickoffsets</a>[0]));<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> += 3)</div>
<div class="line"><span class="lineno"> 2053</span>    {</div>
<div class="line"><span class="lineno"> 2054</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="sv__phys_8c.html#a630147d09cc18c1e11b594adc364a7fe">SV_TestEntityPosition</a>(ent, <a class="code hl_variable" href="sv__phys_8c.html#a3fb3d2c90985f8b7fed374d8a567a164">unstickoffsets</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><span class="lineno"> 2055</span>        {</div>
<div class="line"><span class="lineno"> 2056</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="sv__phys_8c.html#a3fb3d2c90985f8b7fed374d8a567a164">unstickoffsets</a> + <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>);</div>
<div class="line"><span class="lineno"> 2057</span>            <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 2058</span>            <span class="comment">//SV_LinkEdict_TouchAreaGrid(ent);</span></div>
<div class="line"><span class="lineno"> 2059</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eaee2814c902c6b06efbf5668fab167d69">UNSTICK_UNSTUCK</a>;</div>
<div class="line"><span class="lineno"> 2060</span>        }</div>
<div class="line"><span class="lineno"> 2061</span>    }</div>
<div class="line"><span class="lineno"> 2062</span> </div>
<div class="line"><span class="lineno"> 2063</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxunstick</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>) ((<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, maxs)[2] - <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, mins)[2]) * 0.36);</div>
<div class="line"><span class="lineno"> 2064</span>    <span class="comment">// magic number 0.36 allows unsticking by up to 17 units with the largest supported bbox</span></div>
<div class="line"><span class="lineno"> 2065</span> </div>
<div class="line"><span class="lineno"> 2066</span>    <span class="keywordflow">for</span>(<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = 2; <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">maxunstick</a>; ++<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><span class="lineno"> 2067</span>    {</div>
<div class="line"><span class="lineno"> 2068</span>        <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a>(<a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>);</div>
<div class="line"><span class="lineno"> 2069</span>        <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>[2] = -<a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 2070</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="sv__phys_8c.html#a630147d09cc18c1e11b594adc364a7fe">SV_TestEntityPosition</a>(ent, <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>))</div>
<div class="line"><span class="lineno"> 2071</span>        {</div>
<div class="line"><span class="lineno"> 2072</span>            <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 2073</span>            <span class="comment">//SV_LinkEdict_TouchAreaGrid(ent);</span></div>
<div class="line"><span class="lineno"> 2074</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eaee2814c902c6b06efbf5668fab167d69">UNSTICK_UNSTUCK</a>;</div>
<div class="line"><span class="lineno"> 2075</span>        }</div>
<div class="line"><span class="lineno"> 2076</span>        <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>[2] = <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 2077</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="sv__phys_8c.html#a630147d09cc18c1e11b594adc364a7fe">SV_TestEntityPosition</a>(ent, <a class="code hl_variable" href="glquake_8h.html#a9d8e5095d0454547c650ff9bde64f8e6">offset</a>))</div>
<div class="line"><span class="lineno"> 2078</span>        {</div>
<div class="line"><span class="lineno"> 2079</span>            <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 2080</span>            <span class="comment">//SV_LinkEdict_TouchAreaGrid(ent);</span></div>
<div class="line"><span class="lineno"> 2081</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eaee2814c902c6b06efbf5668fab167d69">UNSTICK_UNSTUCK</a>;</div>
<div class="line"><span class="lineno"> 2082</span>        }</div>
<div class="line"><span class="lineno"> 2083</span>    }</div>
<div class="line"><span class="lineno"> 2084</span> </div>
<div class="line"><span class="lineno"> 2085</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="sv__phys_8c.html#a5a79f04ac25aa0ae08e0da15a837777eac0bb7bd6a72614c53310515736c56d2d">UNSTICK_STUCK</a>;</div>
<div class="line"><span class="lineno"> 2086</span>}</div>
<div class="ttc" id="amathlib_8c_html_a3908446890b894f65fcd556040fddccc"><div class="ttname"><a href="mathlib_8c.html#a3908446890b894f65fcd556040fddccc">vec3_origin</a></div><div class="ttdeci">vec3_t vec3_origin</div><div class="ttdef"><b>Definition</b> <a href="mathlib_8c_source.html#l00026">mathlib.c:26</a></div></div>
<div class="ttc" id="asv__phys_8c_html_a3fb3d2c90985f8b7fed374d8a567a164"><div class="ttname"><a href="sv__phys_8c.html#a3fb3d2c90985f8b7fed374d8a567a164">unstickoffsets</a></div><div class="ttdeci">static float unstickoffsets[]</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02018">sv_phys.c:2018</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l02117">SV_CheckStuck()</a>, and <a class="el" href="sv__phys_8c_source.html#l02088">SV_UnstickEntity()</a>.</p>

</div>
</div>
<a id="a39de15c3df1ba58404265c889931685f" name="a39de15c3df1ba58404265c889931685f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39de15c3df1ba58404265c889931685f">&#9670;&#160;</a></span>SV_WalkMove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_WalkMove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02292">2292</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2293</span>{</div>
<div class="line"><span class="lineno"> 2294</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2295</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clip</a>;</div>
<div class="line"><span class="lineno"> 2296</span>    <span class="keywordtype">int</span> oldonground;</div>
<div class="line"><span class="lineno"> 2297</span>    <span class="comment">//int originalmove_clip;</span></div>
<div class="line"><span class="lineno"> 2298</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_flags</a>;</div>
<div class="line"><span class="lineno"> 2299</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_groundentity</a>;</div>
<div class="line"><span class="lineno"> 2300</span>    <span class="keywordtype">int</span> hitsupercontentsmask = <a class="code hl_function" href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a>(ent);</div>
<div class="line"><span class="lineno"> 2301</span>    <span class="keywordtype">int</span> skipsupercontentsmask = 0;</div>
<div class="line"><span class="lineno"> 2302</span>    <span class="keywordtype">int</span> skipmaterialflagsmask = 0;</div>
<div class="line"><span class="lineno"> 2303</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>;</div>
<div class="line"><span class="lineno"> 2304</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> upmove, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">downmove</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">start_origin</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">start_velocity</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stepnormal</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_origin</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_velocity</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmaxs</a>;</div>
<div class="line"><span class="lineno"> 2305</span>    <a class="code hl_struct" href="structtrace__t.html">trace_t</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">downtrace</a>, trace;</div>
<div class="line"><span class="lineno"> 2306</span>    <a class="code hl_typedef" href="qtypes_8h.html#aa250998bce2dc350e4f644297bb579c3">qbool</a> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">applygravity</a>;</div>
<div class="line"><span class="lineno"> 2307</span> </div>
<div class="line"><span class="lineno"> 2308</span>    <span class="comment">// if frametime is 0 (due to client sending the same timestamp twice),</span></div>
<div class="line"><span class="lineno"> 2309</span>    <span class="comment">// don&#39;t move</span></div>
<div class="line"><span class="lineno"> 2310</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a> &lt;= 0)</div>
<div class="line"><span class="lineno"> 2311</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2312</span> </div>
<div class="line"><span class="lineno"> 2313</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a480f092d3be50018ab72ce6c8cf4d527">sv_gameplayfix_unstickplayers</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2314</span>        <a class="code hl_function" href="sv__phys_8c.html#aa5c359554d0e8e8954d33ebd8f27e276">SV_CheckStuck</a> (ent);</div>
<div class="line"><span class="lineno"> 2315</span> </div>
<div class="line"><span class="lineno"> 2316</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">applygravity</a> = !<a class="code hl_function" href="sv__phys_8c.html#a22c70318aed81f65c06068a81c50cac7">SV_CheckWater</a> (ent) &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) == <a class="code hl_define" href="server_8h.html#a5aa1aea64f57ec035f06004a8a693a67">MOVETYPE_WALK</a> &amp;&amp; ! ((<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_define" href="server_8h.html#a07ce3391b3670ca0313df20192d20fe2">FL_WATERJUMP</a>);</div>
<div class="line"><span class="lineno"> 2317</span> </div>
<div class="line"><span class="lineno"> 2318</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 2319</span> </div>
<div class="line"><span class="lineno"> 2320</span>    <span class="comment">// do a regular slide move unless it looks like you ran into a step</span></div>
<div class="line"><span class="lineno"> 2321</span>    oldonground = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>;</div>
<div class="line"><span class="lineno"> 2322</span> </div>
<div class="line"><span class="lineno"> 2323</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">start_origin</a>);</div>
<div class="line"><span class="lineno"> 2324</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">start_velocity</a>);</div>
<div class="line"><span class="lineno"> 2325</span> </div>
<div class="line"><span class="lineno"> 2326</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clip</a> = <a class="code hl_function" href="sv__phys_8c.html#aa6d1ea2732f173ee2bd33eecec39b34e">SV_FlyMove</a> (ent, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">applygravity</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, <a class="code hl_variable" href="server_8h.html#ae74e54f2d11330fa1d3d93daf3157211">sv_gameplayfix_stepmultipletimes</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> ? <a class="code hl_variable" href="server_8h.html#ab120386b567c58e1f310787964c52cb3">sv_stepheight</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> : 0);</div>
<div class="line"><span class="lineno"> 2327</span> </div>
<div class="line"><span class="lineno"> 2328</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="server_8h.html#ad733311507a98e70f002f41d97788fb9">sv_gameplayfix_downtracesupportsongroundflag</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2329</span>    <span class="keywordflow">if</span>(!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clip</a> &amp; 1))</div>
<div class="line"><span class="lineno"> 2330</span>    {</div>
<div class="line"><span class="lineno"> 2331</span>        <span class="comment">// only try this if there was no floor in the way in the trace (no,</span></div>
<div class="line"><span class="lineno"> 2332</span>        <span class="comment">// this check seems to be not REALLY necessary, because if clip &amp; 1,</span></div>
<div class="line"><span class="lineno"> 2333</span>        <span class="comment">// our trace will hit that thing too)</span></div>
<div class="line"><span class="lineno"> 2334</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(upmove, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[2] + 1);</div>
<div class="line"><span class="lineno"> 2335</span>        <a class="code hl_define" href="mathlib_8h.html#ad3cbbdfa4ea0dddf1026ffc640644d79">VectorSet</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">downmove</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[0], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[1], <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[2] - 1);</div>
<div class="line"><span class="lineno"> 2336</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) == <a class="code hl_define" href="server_8h.html#aea2c0b21c04068994e9a422320dee8b3">MOVETYPE_FLYMISSILE</a>)</div>
<div class="line"><span class="lineno"> 2337</span>            <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> = <a class="code hl_define" href="world_8h.html#a49815b732f24d0f9337e57d283ff683a">MOVE_MISSILE</a>;</div>
<div class="line"><span class="lineno"> 2338</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) == <a class="code hl_define" href="server_8h.html#ab167dc3bacb2551a831e955f4b5ecd8c">MOVETYPE_FLY_WORLDONLY</a>)</div>
<div class="line"><span class="lineno"> 2339</span>            <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> = <a class="code hl_define" href="world_8h.html#a90df952ad5c2daedd0295eb3a7ecae12">MOVE_WORLDONLY</a>;</div>
<div class="line"><span class="lineno"> 2340</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, solid) == <a class="code hl_define" href="server_8h.html#ae89a360be120402e1499c24cfbd32da3">SOLID_TRIGGER</a> || <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, solid) == <a class="code hl_define" href="server_8h.html#a90a438b7dacc8e97147ebe1b8cb88e95">SOLID_NOT</a>)</div>
<div class="line"><span class="lineno"> 2341</span>            <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> = <a class="code hl_define" href="world_8h.html#ad9b31bede6128044de93b93641630437">MOVE_NOMONSTERS</a>; <span class="comment">// only clip against bmodels</span></div>
<div class="line"><span class="lineno"> 2342</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2343</span>            <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a> = <a class="code hl_define" href="world_8h.html#ac85dd5b7c1be8faf715803a4a921a313">MOVE_NORMAL</a>;</div>
<div class="line"><span class="lineno"> 2344</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, mins), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmins</a>);</div>
<div class="line"><span class="lineno"> 2345</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, maxs), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmaxs</a>);</div>
<div class="line"><span class="lineno"> 2346</span>        trace = <a class="code hl_function" href="sv__phys_8c.html#af0c162bba7ef44fcfa201affd5c853ee">SV_TraceBox</a>(upmove, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmins</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">entmaxs</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">downmove</a>, <a class="code hl_variable" href="glquake_8h.html#affda859b376cb8300c60fa496eb99df0">type</a>, ent, <a class="code hl_function" href="sv__phys_8c.html#a50467ff3df4ef36847a93af296c57d2c">SV_GenericHitSuperContentsMask</a>(ent), skipsupercontentsmask, skipmaterialflagsmask, <a class="code hl_variable" href="collision_8c.html#ac0a2160fccec6a28f98e2df5e39d1f7c">collision_extendmovelength</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>);</div>
<div class="line"><span class="lineno"> 2347</span>        <span class="keywordflow">if</span>(trace.<a class="code hl_variable" href="structtrace__t.html#a37cb2b7f426f5a76265ddb8e7918a099">fraction</a> &lt; 1 &amp;&amp; trace.<a class="code hl_variable" href="structtrace__t.html#a9a6651d4c1d97c4e6959a696184b25cd">plane</a>.<a class="code hl_variable" href="unionplane__t.html#ade810b5e8f7db899dee445447a58edeb">normal</a>[2] &gt; 0.7)</div>
<div class="line"><span class="lineno"> 2348</span>        {</div>
<div class="line"><span class="lineno"> 2349</span>            <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clip</a> |= 1; <span class="comment">// but we HAVE found a floor</span></div>
<div class="line"><span class="lineno"> 2350</span>            <span class="comment">// set groundentity so we get carried when walking onto a mover with sv_gameplayfix_nogravityonground</span></div>
<div class="line"><span class="lineno"> 2351</span>            <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, groundentity) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(trace.<a class="code hl_variable" href="structtrace__t.html#a00f40ed37bd39dbb8f64e6c5b6f1ea51">ent</a>);</div>
<div class="line"><span class="lineno"> 2352</span>        }</div>
<div class="line"><span class="lineno"> 2353</span>    }</div>
<div class="line"><span class="lineno"> 2354</span> </div>
<div class="line"><span class="lineno"> 2355</span>    <span class="comment">// if the move did not hit the ground at any point, we&#39;re not on ground</span></div>
<div class="line"><span class="lineno"> 2356</span>    <span class="keywordflow">if</span>(!(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clip</a> &amp; 1))</div>
<div class="line"><span class="lineno"> 2357</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">~FL_ONGROUND</a>;</div>
<div class="line"><span class="lineno"> 2358</span> </div>
<div class="line"><span class="lineno"> 2359</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 2360</span>    <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 2361</span>    <a class="code hl_function" href="sv__phys_8c.html#afde235834ab0ac8d11bb81b9e14cff61">SV_LinkEdict_TouchAreaGrid</a>(ent);</div>
<div class="line"><span class="lineno"> 2362</span> </div>
<div class="line"><span class="lineno"> 2363</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clip</a> &amp; 8) <span class="comment">// teleport</span></div>
<div class="line"><span class="lineno"> 2364</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2365</span> </div>
<div class="line"><span class="lineno"> 2366</span>    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_define" href="server_8h.html#a07ce3391b3670ca0313df20192d20fe2">FL_WATERJUMP</a>)</div>
<div class="line"><span class="lineno"> 2367</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2368</span> </div>
<div class="line"><span class="lineno"> 2369</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="server_8h.html#a9565490aa3a546f2de7733a5a59362d6">sv_nostep</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2370</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2371</span> </div>
<div class="line"><span class="lineno"> 2372</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_origin</a>);</div>
<div class="line"><span class="lineno"> 2373</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_velocity</a>);</div>
<div class="line"><span class="lineno"> 2374</span>    <span class="comment">//originalmove_clip = clip;</span></div>
<div class="line"><span class="lineno"> 2375</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_flags</a> = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags);</div>
<div class="line"><span class="lineno"> 2376</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_groundentity</a> = <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, groundentity);</div>
<div class="line"><span class="lineno"> 2377</span> </div>
<div class="line"><span class="lineno"> 2378</span>    <span class="comment">// if move didn&#39;t block on a step, return</span></div>
<div class="line"><span class="lineno"> 2379</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clip</a> &amp; 2)</div>
<div class="line"><span class="lineno"> 2380</span>    {</div>
<div class="line"><span class="lineno"> 2381</span>        <span class="comment">// if move was not trying to move into the step, return</span></div>
<div class="line"><span class="lineno"> 2382</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">start_velocity</a>[0]) &lt; 0.03125 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">start_velocity</a>[1]) &lt; 0.03125)</div>
<div class="line"><span class="lineno"> 2383</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2384</span> </div>
<div class="line"><span class="lineno"> 2385</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) != <a class="code hl_define" href="server_8h.html#a7dcdd3e4355f22903c38ac5019730330">MOVETYPE_FLY</a>)</div>
<div class="line"><span class="lineno"> 2386</span>        {</div>
<div class="line"><span class="lineno"> 2387</span>            <span class="comment">// return if gibbed by a trigger</span></div>
<div class="line"><span class="lineno"> 2388</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, movetype) != <a class="code hl_define" href="server_8h.html#a5aa1aea64f57ec035f06004a8a693a67">MOVETYPE_WALK</a>)</div>
<div class="line"><span class="lineno"> 2389</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2390</span> </div>
<div class="line"><span class="lineno"> 2391</span>            <span class="comment">// return if attempting to jump while airborn (unless sv_jumpstep)</span></div>
<div class="line"><span class="lineno"> 2392</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#a6c35ac385a0557e18658b5f7beda6590">sv_jumpstep</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2393</span>                <span class="keywordflow">if</span> (!oldonground &amp;&amp; <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, waterlevel) == 0)</div>
<div class="line"><span class="lineno"> 2394</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2395</span>        }</div>
<div class="line"><span class="lineno"> 2396</span> </div>
<div class="line"><span class="lineno"> 2397</span>        <span class="comment">// try moving up and forward to go up a step</span></div>
<div class="line"><span class="lineno"> 2398</span>        <span class="comment">// back to start pos</span></div>
<div class="line"><span class="lineno"> 2399</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">start_origin</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin));</div>
<div class="line"><span class="lineno"> 2400</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">start_velocity</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 2401</span> </div>
<div class="line"><span class="lineno"> 2402</span>        <span class="comment">// move up</span></div>
<div class="line"><span class="lineno"> 2403</span>        <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a> (upmove);</div>
<div class="line"><span class="lineno"> 2404</span>        upmove[2] = <a class="code hl_variable" href="server_8h.html#ab120386b567c58e1f310787964c52cb3">sv_stepheight</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a>;</div>
<div class="line"><span class="lineno"> 2405</span>        <span class="keywordflow">if</span>(!<a class="code hl_function" href="sv__phys_8c.html#a747b50bcc3f85c8f91b7af1e000bbd9b">SV_PushEntity</a>(&amp;trace, ent, upmove, <span class="keyword">true</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 2406</span>        {</div>
<div class="line"><span class="lineno"> 2407</span>            <span class="comment">// we got teleported when upstepping... must abort the move</span></div>
<div class="line"><span class="lineno"> 2408</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2409</span>        }</div>
<div class="line"><span class="lineno"> 2410</span> </div>
<div class="line"><span class="lineno"> 2411</span>        <span class="comment">// move forward</span></div>
<div class="line"><span class="lineno"> 2412</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[2] = 0;</div>
<div class="line"><span class="lineno"> 2413</span>        <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clip</a> = <a class="code hl_function" href="sv__phys_8c.html#aa6d1ea2732f173ee2bd33eecec39b34e">SV_FlyMove</a> (ent, <a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">applygravity</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stepnormal</a>, hitsupercontentsmask, skipsupercontentsmask, skipmaterialflagsmask, 0);</div>
<div class="line"><span class="lineno"> 2414</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[2] += <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">start_velocity</a>[2];</div>
<div class="line"><span class="lineno"> 2415</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clip</a> &amp; 8)</div>
<div class="line"><span class="lineno"> 2416</span>        {</div>
<div class="line"><span class="lineno"> 2417</span>            <span class="comment">// we got teleported when upstepping... must abort the move</span></div>
<div class="line"><span class="lineno"> 2418</span>            <span class="comment">// note that z velocity handling may not be what QC expects here, but we cannot help it</span></div>
<div class="line"><span class="lineno"> 2419</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2420</span>        }</div>
<div class="line"><span class="lineno"> 2421</span> </div>
<div class="line"><span class="lineno"> 2422</span>        <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 2423</span>        <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 2424</span>        <a class="code hl_function" href="sv__phys_8c.html#afde235834ab0ac8d11bb81b9e14cff61">SV_LinkEdict_TouchAreaGrid</a>(ent);</div>
<div class="line"><span class="lineno"> 2425</span> </div>
<div class="line"><span class="lineno"> 2426</span>        <span class="comment">// check for stuckness, possibly due to the limited precision of floats</span></div>
<div class="line"><span class="lineno"> 2427</span>        <span class="comment">// in the clipping hulls</span></div>
<div class="line"><span class="lineno"> 2428</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clip</a></div>
<div class="line"><span class="lineno"> 2429</span>         &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_origin</a>[1] - <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[1]) &lt; 0.03125</div>
<div class="line"><span class="lineno"> 2430</span>         &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">fabs</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_origin</a>[0] - <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin)[0]) &lt; 0.03125)</div>
<div class="line"><span class="lineno"> 2431</span>        {</div>
<div class="line"><span class="lineno"> 2432</span>            <span class="comment">//Con_Printf(&quot;wall\n&quot;);</span></div>
<div class="line"><span class="lineno"> 2433</span>            <span class="comment">// stepping up didn&#39;t make any progress, revert to original move</span></div>
<div class="line"><span class="lineno"> 2434</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_origin</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin));</div>
<div class="line"><span class="lineno"> 2435</span>            <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_velocity</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 2436</span>            <span class="comment">//clip = originalmove_clip;</span></div>
<div class="line"><span class="lineno"> 2437</span>            <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_flags</a>;</div>
<div class="line"><span class="lineno"> 2438</span>            <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, groundentity) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_groundentity</a>;</div>
<div class="line"><span class="lineno"> 2439</span>            <span class="comment">// now try to unstick if needed</span></div>
<div class="line"><span class="lineno"> 2440</span>            <span class="comment">//clip = SV_TryUnstick (ent, oldvel);</span></div>
<div class="line"><span class="lineno"> 2441</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2442</span>        }</div>
<div class="line"><span class="lineno"> 2443</span> </div>
<div class="line"><span class="lineno"> 2444</span>        <span class="comment">//Con_Printf(&quot;step - &quot;);</span></div>
<div class="line"><span class="lineno"> 2445</span> </div>
<div class="line"><span class="lineno"> 2446</span>        <span class="comment">// extra friction based on view angle</span></div>
<div class="line"><span class="lineno"> 2447</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">clip</a> &amp; 2 &amp;&amp; <a class="code hl_variable" href="server_8h.html#a73ab5c321f7842367bebb8e0ac7b75f4">sv_wallfriction</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a>)</div>
<div class="line"><span class="lineno"> 2448</span>            <a class="code hl_function" href="sv__phys_8c.html#aeef8b5003feec0ade5df5648224e6e02">SV_WallFriction</a> (ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stepnormal</a>);</div>
<div class="line"><span class="lineno"> 2449</span>    }</div>
<div class="line"><span class="lineno"> 2450</span>    <span class="comment">// don&#39;t do the down move if stepdown is disabled, moving upward, not in water, or the move started offground or ended onground</span></div>
<div class="line"><span class="lineno"> 2451</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="server_8h.html#afb6a238c312506d3ee718591efba6c11">sv_gameplayfix_stepdown</a>.<a class="code hl_variable" href="structcvar__t.html#a376ca13f147f306d71edbe7670e138b0">integer</a> || <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, waterlevel) &gt;= 3 || <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">start_velocity</a>[2] &gt;= (1.0 / 32.0) || !oldonground || ((<span class="keywordtype">int</span>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) &amp; <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>))</div>
<div class="line"><span class="lineno"> 2452</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2453</span> </div>
<div class="line"><span class="lineno"> 2454</span>    <span class="comment">// move down</span></div>
<div class="line"><span class="lineno"> 2455</span>    <a class="code hl_define" href="mathlib_8h.html#a547609f6e7dbcd2c93a0adf5430ef665">VectorClear</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">downmove</a>);</div>
<div class="line"><span class="lineno"> 2456</span>    <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">downmove</a>[2] = -<a class="code hl_variable" href="server_8h.html#ab120386b567c58e1f310787964c52cb3">sv_stepheight</a>.<a class="code hl_variable" href="structcvar__t.html#a305faa0167494135297f1b8e6216d469">value</a> + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">start_velocity</a>[2]*<a class="code hl_variable" href="server_8h.html#a0ff9eb096e93804922c75bbddaf18703">sv</a>.<a class="code hl_variable" href="structserver__t.html#a2e325b04a5d5e6878bdd928a75709d1e">frametime</a>;</div>
<div class="line"><span class="lineno"> 2457</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="sv__phys_8c.html#a747b50bcc3f85c8f91b7af1e000bbd9b">SV_PushEntity</a>(&amp;<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">downtrace</a>, ent, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">downmove</a>, <span class="keyword">true</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno"> 2458</span>    {</div>
<div class="line"><span class="lineno"> 2459</span>        <span class="comment">// we got teleported when downstepping... must abort the move</span></div>
<div class="line"><span class="lineno"> 2460</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2461</span>    }</div>
<div class="line"><span class="lineno"> 2462</span> </div>
<div class="line"><span class="lineno"> 2463</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">downtrace</a>.fraction &lt; 1 &amp;&amp; <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">downtrace</a>.plane.normal[2] &gt; 0.7)</div>
<div class="line"><span class="lineno"> 2464</span>    {</div>
<div class="line"><span class="lineno"> 2465</span>        <span class="comment">// this has been disabled so that you can&#39;t jump when you are stepping</span></div>
<div class="line"><span class="lineno"> 2466</span>        <span class="comment">// up while already jumping (also known as the Quake2 double jump bug)</span></div>
<div class="line"><span class="lineno"> 2467</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno"> 2468</span>        <span class="comment">// LadyHavoc: disabled this check so you can walk on monsters/players</span></div>
<div class="line"><span class="lineno"> 2469</span>        <span class="comment">//if (PRVM_serveredictfloat(ent, solid) == SOLID_BSP)</span></div>
<div class="line"><span class="lineno"> 2470</span>        {</div>
<div class="line"><span class="lineno"> 2471</span>            <span class="comment">//Con_Printf(&quot;onground\n&quot;);</span></div>
<div class="line"><span class="lineno"> 2472</span>            <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) = (<a class="code hl_function" href="fs_8c.html#a93257bedba32e45fc3f07bea139c0604">int</a>)<a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) | <a class="code hl_define" href="server_8h.html#ad205c8b0d262d85a16bb3d23272fe81d">FL_ONGROUND</a>;</div>
<div class="line"><span class="lineno"> 2473</span>            <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, groundentity) = <a class="code hl_define" href="progsvm_8h.html#a45b837733ab601c2b34a4708f8868882">PRVM_EDICT_TO_PROG</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">downtrace</a>.ent);</div>
<div class="line"><span class="lineno"> 2474</span>        }</div>
<div class="line"><span class="lineno"> 2475</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2476</span>    }</div>
<div class="line"><span class="lineno"> 2477</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2478</span>    {</div>
<div class="line"><span class="lineno"> 2479</span>        <span class="comment">//Con_Printf(&quot;slope\n&quot;);</span></div>
<div class="line"><span class="lineno"> 2480</span>        <span class="comment">// if the push down didn&#39;t end up on good ground, use the move without</span></div>
<div class="line"><span class="lineno"> 2481</span>        <span class="comment">// the step up.  This happens near wall / slope combinations, and can</span></div>
<div class="line"><span class="lineno"> 2482</span>        <span class="comment">// cause the player to hop up higher on a slope too steep to climb</span></div>
<div class="line"><span class="lineno"> 2483</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_origin</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, origin));</div>
<div class="line"><span class="lineno"> 2484</span>        <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_velocity</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 2485</span>        <span class="comment">//clip = originalmove_clip;</span></div>
<div class="line"><span class="lineno"> 2486</span>        <a class="code hl_define" href="progsvm_8h.html#aa470b2bd6729775cb9581bb36c7ed73d">PRVM_serveredictfloat</a>(ent, flags) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_flags</a>;</div>
<div class="line"><span class="lineno"> 2487</span>        <a class="code hl_define" href="progsvm_8h.html#a32c564348d1d90db218ed028294dee12">PRVM_serveredictedict</a>(ent, groundentity) = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">originalmove_groundentity</a>;</div>
<div class="line"><span class="lineno"> 2488</span>    }</div>
<div class="line"><span class="lineno"> 2489</span> </div>
<div class="line"><span class="lineno"> 2490</span>    <a class="code hl_function" href="sv__phys_8c.html#a9864353b8cb7a611ab22039ad7aa42ee">SV_CheckVelocity</a>(ent);</div>
<div class="line"><span class="lineno"> 2491</span>    <a class="code hl_function" href="sv__phys_8c.html#a7c9f31122176959d30eba9f864f843ef">SV_LinkEdict</a>(ent);</div>
<div class="line"><span class="lineno"> 2492</span>    <a class="code hl_function" href="sv__phys_8c.html#afde235834ab0ac8d11bb81b9e14cff61">SV_LinkEdict_TouchAreaGrid</a>(ent);</div>
<div class="line"><span class="lineno"> 2493</span>}</div>
<div class="ttc" id="aserver_8h_html_a480f092d3be50018ab72ce6c8cf4d527"><div class="ttname"><a href="server_8h.html#a480f092d3be50018ab72ce6c8cf4d527">sv_gameplayfix_unstickplayers</a></div><div class="ttdeci">cvar_t sv_gameplayfix_unstickplayers</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00129">sv_main.c:129</a></div></div>
<div class="ttc" id="aserver_8h_html_a6c35ac385a0557e18658b5f7beda6590"><div class="ttname"><a href="server_8h.html#a6c35ac385a0557e18658b5f7beda6590">sv_jumpstep</a></div><div class="ttdeci">cvar_t sv_jumpstep</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00135">sv_main.c:135</a></div></div>
<div class="ttc" id="aserver_8h_html_a73ab5c321f7842367bebb8e0ac7b75f4"><div class="ttname"><a href="server_8h.html#a73ab5c321f7842367bebb8e0ac7b75f4">sv_wallfriction</a></div><div class="ttdeci">cvar_t sv_wallfriction</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00153">sv_main.c:153</a></div></div>
<div class="ttc" id="aserver_8h_html_a9565490aa3a546f2de7733a5a59362d6"><div class="ttname"><a href="server_8h.html#a9565490aa3a546f2de7733a5a59362d6">sv_nostep</a></div><div class="ttdeci">cvar_t sv_nostep</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00142">sv_main.c:142</a></div></div>
<div class="ttc" id="aserver_8h_html_ab120386b567c58e1f310787964c52cb3"><div class="ttname"><a href="server_8h.html#ab120386b567c58e1f310787964c52cb3">sv_stepheight</a></div><div class="ttdeci">cvar_t sv_stepheight</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00151">sv_main.c:151</a></div></div>
<div class="ttc" id="aserver_8h_html_ad733311507a98e70f002f41d97788fb9"><div class="ttname"><a href="server_8h.html#ad733311507a98e70f002f41d97788fb9">sv_gameplayfix_downtracesupportsongroundflag</a></div><div class="ttdeci">cvar_t sv_gameplayfix_downtracesupportsongroundflag</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00127">sv_main.c:127</a></div></div>
<div class="ttc" id="aserver_8h_html_ae74e54f2d11330fa1d3d93daf3157211"><div class="ttname"><a href="server_8h.html#ae74e54f2d11330fa1d3d93daf3157211">sv_gameplayfix_stepmultipletimes</a></div><div class="ttdeci">cvar_t sv_gameplayfix_stepmultipletimes</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00123">sv_main.c:123</a></div></div>
<div class="ttc" id="aserver_8h_html_afb6a238c312506d3ee718591efba6c11"><div class="ttname"><a href="server_8h.html#afb6a238c312506d3ee718591efba6c11">sv_gameplayfix_stepdown</a></div><div class="ttdeci">cvar_t sv_gameplayfix_stepdown</div><div class="ttdef"><b>Definition</b> <a href="sv__main_8c_source.html#l00122">sv_main.c:122</a></div></div>
<div class="ttc" id="asv__phys_8c_html_aa5c359554d0e8e8954d33ebd8f27e276"><div class="ttname"><a href="sv__phys_8c.html#aa5c359554d0e8e8954d33ebd8f27e276">SV_CheckStuck</a></div><div class="ttdeci">static void SV_CheckStuck(prvm_edict_t *ent)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02117">sv_phys.c:2117</a></div></div>
<div class="ttc" id="asv__phys_8c_html_aeef8b5003feec0ade5df5648224e6e02"><div class="ttname"><a href="sv__phys_8c.html#aeef8b5003feec0ade5df5648224e6e02">SV_WallFriction</a></div><div class="ttdeci">static void SV_WallFriction(prvm_edict_t *ent, float *stepnormal)</div><div class="ttdef"><b>Definition</b> <a href="sv__phys_8c_source.html#l02204">sv_phys.c:2204</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l03062">SV_Physics_ClientEntity()</a>, <a class="el" href="sv__phys_8c_source.html#l02902">SV_Physics_ClientEntity_NoThink()</a>, and <a class="el" href="sv__phys_8c_source.html#l02825">SV_Physics_Entity()</a>.</p>

</div>
</div>
<a id="aeef8b5003feec0ade5df5648224e6e02" name="aeef8b5003feec0ade5df5648224e6e02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeef8b5003feec0ade5df5648224e6e02">&#9670;&#160;</a></span>SV_WallFriction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">static</a> <a class="el" href="glquake_8h.html#afa45fc0640b31002c1792c59eb062c59">void</a> SV_WallFriction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structprvm__edict__t.html">prvm_edict_t</a> *&#160;</td>
          <td class="paramname"><em>ent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> *&#160;</td>
          <td class="paramname"><em>stepnormal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02204">2204</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2205</span>{</div>
<div class="line"><span class="lineno"> 2206</span>    <a class="code hl_struct" href="structprvm__prog__t.html">prvm_prog_t</a> *prog = <a class="code hl_define" href="progsvm_8h.html#af0488a3f2145e274c2d766ace6d1c0c8">SVVM_prog</a>;</div>
<div class="line"><span class="lineno"> 2207</span>    <span class="keywordtype">float</span> <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><span class="lineno"> 2208</span>    <a class="code hl_typedef" href="qtypes_8h.html#a5fab60d2366b4888d93d5814eb04c9e9">vec3_t</a> <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">into</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>, v_angle;</div>
<div class="line"><span class="lineno"> 2209</span> </div>
<div class="line"><span class="lineno"> 2210</span>    <a class="code hl_define" href="mathlib_8h.html#accb62c1cf8b53e0446be03f3d5899a68">VectorCopy</a>(<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, v_angle), v_angle);</div>
<div class="line"><span class="lineno"> 2211</span>    <a class="code hl_function" href="mathlib_8c.html#abcfd2eb08af2296b6ea28caf16717a09">AngleVectors</a> (v_angle, <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="qtypes_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 2212</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stepnormal</a>, <a class="code hl_variable" href="sv__user_8c.html#a6cb5d7464231c3110d95905fb7d83cc7">forward</a>) + 0.5) &lt; 0)</div>
<div class="line"><span class="lineno"> 2213</span>    {</div>
<div class="line"><span class="lineno"> 2214</span>        <span class="comment">// cut the tangential velocity</span></div>
<div class="line"><span class="lineno"> 2215</span>        <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code hl_define" href="mathlib_8h.html#ac892cc77f8b6dd3dd543d3f637d63bd1">DotProduct</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stepnormal</a>, <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity));</div>
<div class="line"><span class="lineno"> 2216</span>        <a class="code hl_define" href="mathlib_8h.html#adbe75a286ee7ac6c3064ae518ab7d936">VectorScale</a> (<a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">stepnormal</a>, <a class="code hl_variable" href="prvm__execprogram_8h.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">into</a>);</div>
<div class="line"><span class="lineno"> 2217</span>        <a class="code hl_define" href="mathlib_8h.html#adb186b506beeecc27d7222f69e4496f5">VectorSubtract</a> (<a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity), <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">into</a>, <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>);</div>
<div class="line"><span class="lineno"> 2218</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[0] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>[0] * (1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>);</div>
<div class="line"><span class="lineno"> 2219</span>        <a class="code hl_define" href="progsvm_8h.html#a16fa54cb588d80ed1cc30202c924de69">PRVM_serveredictvector</a>(ent, velocity)[1] = <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">side</a>[1] * (1 + <a class="code hl_variable" href="glquake_8h.html#af7ca775b6d9354291c4d7d01b8b2a8bc">d</a>);</div>
<div class="line"><span class="lineno"> 2220</span>    }</div>
<div class="line"><span class="lineno"> 2221</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l02292">SV_WalkMove()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3fb3d2c90985f8b7fed374d8a567a164" name="a3fb3d2c90985f8b7fed374d8a567a164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb3d2c90985f8b7fed374d8a567a164">&#9670;&#160;</a></span>unstickoffsets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shader__glsl_8h.html#a2ab77c89eb79b49ccd22bb1b2ad48bf1">float</a> unstickoffsets[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    </div>
<div class="line">     0,  0,  -1,</div>
<div class="line">     0,  0,  1,</div>
<div class="line">     </div>
<div class="line">    -1,  0,  0,</div>
<div class="line">     1,  0,  0,</div>
<div class="line">     0, -1,  0,</div>
<div class="line">     0,  1,  0,</div>
<div class="line">     </div>
<div class="line">    -1, -1,  0,</div>
<div class="line">     1, -1,  0,</div>
<div class="line">    -1,  1,  0,</div>
<div class="line">     1,  1,  0,</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="sv__phys_8c_source.html#l02018">2018</a> of file <a class="el" href="sv__phys_8c_source.html">sv_phys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2019</span>{</div>
<div class="line"><span class="lineno"> 2020</span>    <span class="comment">// poutting -/+z changes first as they are least weird</span></div>
<div class="line"><span class="lineno"> 2021</span>     0,  0,  -1,</div>
<div class="line"><span class="lineno"> 2022</span>     0,  0,  1,</div>
<div class="line"><span class="lineno"> 2023</span>     <span class="comment">// x or y changes</span></div>
<div class="line"><span class="lineno"> 2024</span>    -1,  0,  0,</div>
<div class="line"><span class="lineno"> 2025</span>     1,  0,  0,</div>
<div class="line"><span class="lineno"> 2026</span>     0, -1,  0,</div>
<div class="line"><span class="lineno"> 2027</span>     0,  1,  0,</div>
<div class="line"><span class="lineno"> 2028</span>     <span class="comment">// x and y changes</span></div>
<div class="line"><span class="lineno"> 2029</span>    -1, -1,  0,</div>
<div class="line"><span class="lineno"> 2030</span>     1, -1,  0,</div>
<div class="line"><span class="lineno"> 2031</span>    -1,  1,  0,</div>
<div class="line"><span class="lineno"> 2032</span>     1,  1,  0,</div>
<div class="line"><span class="lineno"> 2033</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sv__phys_8c_source.html#l02043">SV_UnstickEntityReturnOffset()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="sv__phys_8c.html">sv_phys.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
