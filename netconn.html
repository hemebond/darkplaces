<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DarkPlaces: The network info/connection protocol.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="darkplaces48x48.png"/></td>
  <td id="projectalign">
   <div id="projectname">DarkPlaces
   </div>
   <div id="projectbrief">Game engine based on the Quake 1 engine by id Software, developed by LadyHavoc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">The network info/connection protocol. </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >It is used to find Quake servers, get info about them, and connect to them. Once connected, the Quake game protocol (documented elsewhere) is used.</p>
<p >General notes:</p><div class="fragment"><div class="line">game_name is currently always <span class="stringliteral">&quot;QUAKE&quot;</span>, but is there so <span class="keyword">this</span> same protocol</div>
<div class="line">    can be used <span class="keywordflow">for</span> future games as well; can you say Quake2?</div>
<div class="line"> </div>
<div class="line">CCREQ_CONNECT</div>
<div class="line">    <span class="keywordtype">string</span>  game_name               <span class="stringliteral">&quot;QUAKE&quot;</span></div>
<div class="line">    <span class="keywordtype">byte</span>    net_protocol_version    NET_PROTOCOL_VERSION</div>
<div class="line"> </div>
<div class="line">CCREQ_SERVER_INFO</div>
<div class="line">    <span class="keywordtype">string</span>  game_name               <span class="stringliteral">&quot;QUAKE&quot;</span></div>
<div class="line">    <span class="keywordtype">byte</span>    net_protocol_version    NET_PROTOCOL_VERSION</div>
<div class="line"> </div>
<div class="line">CCREQ_PLAYER_INFO</div>
<div class="line">    <span class="keywordtype">byte</span>    player_number</div>
<div class="line"> </div>
<div class="line">CCREQ_RULE_INFO</div>
<div class="line">    <span class="keywordtype">string</span>  rule</div>
<div class="line"> </div>
<div class="line">CCREQ_RCON</div>
<div class="line">    <span class="keywordtype">string</span>  password</div>
<div class="line">    <span class="keywordtype">string</span>  command</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">CCREP_ACCEPT</div>
<div class="line">    <span class="keywordtype">long</span>    port</div>
<div class="line"> </div>
<div class="line">CCREP_REJECT</div>
<div class="line">    <span class="keywordtype">string</span>  reason</div>
<div class="line"> </div>
<div class="line">CCREP_SERVER_INFO</div>
<div class="line">    <span class="keywordtype">string</span>  server_address</div>
<div class="line">    <span class="keywordtype">string</span>  host_name</div>
<div class="line">    <span class="keywordtype">string</span>  level_name</div>
<div class="line">    <span class="keywordtype">byte</span>    current_players</div>
<div class="line">    <span class="keywordtype">byte</span>    max_players</div>
<div class="line">    <span class="keywordtype">byte</span>    protocol_version    NET_PROTOCOL_VERSION</div>
<div class="line"> </div>
<div class="line">CCREP_PLAYER_INFO</div>
<div class="line">    <span class="keywordtype">byte</span>    player_number</div>
<div class="line">    <span class="keywordtype">string</span>  name</div>
<div class="line">    <span class="keywordtype">long</span>    colors</div>
<div class="line">    <span class="keywordtype">long</span>    frags</div>
<div class="line">    <span class="keywordtype">long</span>    connect_time</div>
<div class="line">    <span class="keywordtype">string</span>  address</div>
<div class="line"> </div>
<div class="line">CCREP_RULE_INFO</div>
<div class="line">    <span class="keywordtype">string</span>  rule</div>
<div class="line">    <span class="keywordtype">string</span>  value</div>
<div class="line"> </div>
<div class="line">CCREP_RCON</div>
<div class="line">    <span class="keywordtype">string</span>  reply</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>There are two address forms used above. The short form is just a port number. The address that goes along with the port is defined as "whatever address you receive this reponse from". This lets us use the host OS to solve the problem of multiple host addresses (possibly with no routing between them); the host will use the right address when we reply to the inbound connection request. The long from is a full address and port in a string. It is used for returning the address of a server that is not running locally. </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
